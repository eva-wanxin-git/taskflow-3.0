<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>全栈工程师工作台 - TASKFLOW</title>
    
    <style>
        /* ==================== 白色奢华美学系统（严格遵循架构师工作台） ==================== */
        :root {
            /* 白色光谱 */
            --blanc-pure: #FFFFFF;
            --blanc-snow: #FAFBFC;
            --blanc-pearl: #F6F8FA;
            --blanc-silk: #F0F3F5;
            --blanc-mist: #E8ECEF;
            --blanc-cloud: #DFE4E8;

            /* 黑色层次 */
            --noir-ink: #0A0F14;
            --noir-charcoal: #1A2027;
            --noir-graphite: #2E3742;
            --noir-steel: #495057;
            --noir-silver: #6C757D;
            --noir-ash: #8B95A1;

            /* 阴影 */
            --shadow-xs: 0 1px 3px rgba(0, 0, 0, 0.04);
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.08);

            /* 字体系统 */
            --font-primary: 'SF Pro Display', 'Helvetica Neue', -apple-system, system-ui, sans-serif;
            --font-secondary: 'Playfair Display', Georgia, serif;
            --font-mono: 'SF Mono', Monaco, monospace;

            /* 字号 */
            --text-xs: 12px;
            --text-sm: 14px;
            --text-base: 16px;
            --text-lg: 18px;
            --text-xl: 21px;
            --text-2xl: 28px;

            /* 字重 */
            --weight-light: 300;
            --weight-regular: 400;
            --weight-medium: 500;
            --weight-semibold: 600;

            /* 行高 */
            --leading-tight: 1.2;
            --leading-normal: 1.5;
            --leading-relaxed: 1.75;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-primary);
            background: var(--blanc-pearl);
            color: var(--noir-graphite);
            line-height: var(--leading-normal);
            padding: 40px;
        }

        .engineer-module {
            max-width: 1600px;
            margin: 0 auto;
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            height: calc(100vh - 80px);
            display: flex;
            flex-direction: column;
        }

        /* ==================== 模块头部 ==================== */
        .module-header {
            padding: 32px 40px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .module-title {
            font-family: var(--font-secondary);
            font-size: var(--text-2xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            letter-spacing: -0.02em;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 16px;
            border: 1px solid var(--noir-silver);
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
        }

        .status-dot {
            width: 6px;
            height: 6px;
            background: #4A7C59;
            animation: pulse-green 2s ease-in-out infinite;
        }

        @keyframes pulse-green {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(0.9); }
        }

        .engineer-info {
            display: flex;
            align-items: center;
            gap: 24px;
            padding: 20px;
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
        }

        .info-section {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .engineer-avatar {
            width: 48px;
            height: 48px;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-base);
            font-weight: var(--weight-medium);
        }

        .engineer-details {
            flex: 1;
        }

        .engineer-name {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 4px;
        }

        .engineer-meta {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .quick-stats {
            display: flex;
            gap: 32px;
            padding-left: 32px;
            border-left: 1px solid var(--blanc-mist);
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-size: var(--text-xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        /* ==================== Tab导航 ==================== */
        .tab-navigation {
            display: flex;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
        }

        .tab-item {
            padding: 16px 32px;
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-silver);
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .tab-item:hover {
            color: var(--noir-graphite);
            background: var(--blanc-pearl);
        }

        .tab-item.active {
            color: var(--noir-ink);
            background: var(--blanc-pure);
            border-bottom-color: var(--noir-ink);
        }

        .tab-badge {
            display: inline-block;
            margin-left: 8px;
            padding: 2px 8px;
            font-size: 11px;
            font-weight: var(--weight-semibold);
            background: var(--blanc-mist);
            color: var(--noir-steel);
        }

        .tab-item.active .tab-badge {
            background: var(--noir-ink);
            color: var(--blanc-pure);
        }

        /* ==================== Tab内容 ==================== */
        .tab-content-wrapper {
            flex: 1;
            overflow: hidden;
        }

        .tab-pane {
            display: none;
            height: 100%;
        }

        .tab-pane.active {
            display: flex;
        }

        /* ==================== 事件流（与架构师工作台完全一致） ==================== */
        .event-timeline {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
        }

        .timeline-filters {
            display: flex;
            gap: 12px;
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .filter-chip {
            padding: 8px 16px;
            font-size: var(--text-sm);
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-chip:hover {
            border-color: var(--noir-steel);
        }

        .filter-chip.active {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .timeline-item {
            position: relative;
            padding-left: 40px;
            padding-bottom: 32px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 11px;
            top: 24px;
            bottom: 0;
            width: 1px;
            background: var(--blanc-mist);
        }

        .timeline-item:last-child::before {
            display: none;
        }

        .timeline-marker {
            position: absolute;
            left: 0;
            top: 0;
            width: 24px;
            height: 24px;
            border: 2px solid var(--noir-ink);
            background: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .event-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            transition: all 0.3s ease;
        }

        .event-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }

        .event-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 12px;
        }

        .event-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 6px;
        }

        .event-meta {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .event-time {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            white-space: nowrap;
        }

        .event-description {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
            margin-top: 12px;
        }

        .event-tags {
            display: flex;
            gap: 8px;
            margin-top: 16px;
        }

        .event-tag {
            padding: 4px 12px;
            font-size: 11px;
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
        }

        /* ==================== 任务看板（优化为3列） ==================== */
        .task-board-container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .task-board-header {
            padding: 24px 40px;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
        }

        .filter-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .filter-chips {
            display: flex;
            gap: 12px;
        }

        .sort-select {
            padding: 8px 16px;
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .sort-select:hover {
            border-color: var(--noir-steel);
        }

        .sort-select:focus {
            outline: none;
            border-color: var(--noir-ink);
        }

        .kanban-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            padding: 40px;
            flex: 1;
            overflow-y: auto;
        }

        .kanban-column {
            background: var(--blanc-pearl);
            border: 1px solid var(--blanc-mist);
            display: flex;
            flex-direction: column;
            min-height: 400px;
        }

        .column-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
        }

        .column-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .column-count {
            padding: 2px 10px;
            font-size: 11px;
            font-family: var(--font-mono);
            background: var(--blanc-mist);
            color: var(--noir-steel);
        }

        .column-cards {
            padding: 24px;
            overflow-y: auto;
            flex: 1;
        }

        /* ==================== 任务卡片 ==================== */
        .task-card {
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .task-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }

        .task-card-header {
            margin-bottom: 12px;
        }

        .task-id {
            display: inline-block;
            padding: 4px 12px;
            font-size: 11px;
            font-family: var(--font-mono);
            background: var(--noir-ink);
            color: var(--blanc-pure);
            margin-bottom: 8px;
        }

        .task-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 8px;
        }

        .task-status-badge {
            display: inline-block;
            padding: 4px 12px;
            font-size: 11px;
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
            background: var(--blanc-pearl);
        }

        .task-status-badge.parallel {
            background: var(--noir-graphite);
            color: var(--blanc-pure);
            border-color: var(--noir-graphite);
        }

        .task-description {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
            margin: 12px 0;
        }

        .task-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 16px 0;
            padding-top: 12px;
            border-top: 1px solid var(--blanc-mist);
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .task-estimate {
            font-family: var(--font-mono);
        }

        .priority-badge {
            padding: 4px 10px;
            font-size: 11px;
            font-family: var(--font-mono);
        }

        .priority-badge.p0 {
            background: var(--noir-ink);
            color: var(--blanc-pure);
        }

        .priority-badge.p1 {
            background: var(--noir-graphite);
            color: var(--blanc-pure);
        }

        .priority-badge.p2 {
            border: 1px solid var(--noir-steel);
            color: var(--noir-steel);
        }

        .task-assignee {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 12px;
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .assignee-avatar {
            width: 24px;
            height: 24px;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: var(--weight-medium);
        }

        .task-actions {
            display: flex;
            gap: 12px;
            margin-top: 16px;
        }

        .task-action-button {
            flex: 1;
            padding: 8px 16px;
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .task-action-button:hover {
            background: var(--blanc-pearl);
        }

        .task-action-button.primary {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .task-action-button.primary:hover {
            background: var(--noir-charcoal);
        }

        /* ==================== 代码审查时间线 ==================== */
        .code-review-container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .code-review-timeline {
            flex: 1;
            overflow-y: auto;
            padding: 40px 40px 40px 80px;
            position: relative;
        }

        .code-review-timeline::before {
            content: '';
            position: absolute;
            left: 40px;
            top: 80px;
            bottom: 0;
            width: 2px;
            background: var(--blanc-mist);
        }

        .review-filters {
            display: flex;
            gap: 12px;
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .review-item {
            position: relative;
            margin-bottom: 48px;
        }

        .review-marker {
            position: absolute;
            left: -48px;
            top: 0;
            width: 16px;
            height: 16px;
            border: 2px solid var(--noir-ink);
            background: var(--blanc-pure);
        }

        .review-marker.approved {
            background: var(--noir-ink);
        }

        .review-marker.pending {
            background: var(--blanc-pure);
        }

        .review-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            transition: all 0.3s ease;
        }

        .review-card:hover {
            box-shadow: var(--shadow-sm);
        }

        .review-card-header {
            margin-bottom: 16px;
        }

        .review-title {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 8px;
        }

        .review-meta {
            display: flex;
            gap: 16px;
            align-items: center;
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .review-status {
            display: inline-block;
            padding: 4px 12px;
            font-size: var(--text-xs);
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
        }

        .review-status.approved {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .review-status.pending {
            background: var(--blanc-pearl);
        }

        .review-content {
            margin: 24px 0;
        }

        .content-label {
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
            margin-bottom: 12px;
        }

        .content-list {
            padding-left: 20px;
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
        }

        .content-item {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .content-item::before {
            content: '├─';
            color: var(--noir-silver);
            font-family: var(--font-mono);
        }

        .content-item:last-child::before {
            content: '└─';
        }

        .review-comment {
            background: var(--blanc-pearl);
            border-left: 2px solid var(--noir-ink);
            padding: 16px 20px;
            margin: 24px 0;
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
        }

        .review-actions {
            display: flex;
            gap: 12px;
            margin-top: 24px;
        }

        .review-action-button {
            padding: 8px 16px;
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .review-action-button:hover {
            background: var(--blanc-pearl);
        }

        .review-action-button.approve {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .review-action-button.approve:hover {
            background: var(--noir-charcoal);
        }

        /* ==================== 技术文档库 ==================== */
        .docs-container {
            display: flex;
            height: 100%;
        }

        .docs-sidebar {
            width: 280px;
            border-right: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
            display: flex;
            flex-direction: column;
        }

        .docs-search {
            padding: 20px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .docs-categories {
            flex: 1;
            overflow-y: auto;
        }

        .category-group {
            border-bottom: 1px solid var(--blanc-mist);
        }

        .category-header {
            padding: 16px 20px;
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            background: var(--blanc-pearl);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-header:hover {
            background: var(--blanc-silk);
        }

        .category-items {
            display: none;
        }

        .category-items.active {
            display: block;
        }

        .doc-item {
            padding: 12px 20px 12px 40px;
            font-size: var(--text-sm);
            color: var(--noir-steel);
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 2px solid transparent;
        }

        .doc-item:hover {
            background: var(--blanc-pearl);
            color: var(--noir-graphite);
        }

        .doc-item.active {
            background: var(--blanc-pure);
            color: var(--noir-ink);
            border-left-color: var(--noir-ink);
        }

        .docs-content {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
        }

        .doc-header {
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .doc-title {
            font-family: var(--font-secondary);
            font-size: var(--text-2xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            margin-bottom: 12px;
        }

        .doc-meta {
            display: flex;
            gap: 24px;
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .doc-body {
            max-width: 800px;
        }

        .doc-section {
            margin-bottom: 32px;
        }

        .doc-section-title {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 16px;
        }

        .doc-section-content {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
        }

        .doc-code-block {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            padding: 20px;
            margin: 20px 0;
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            line-height: var(--leading-relaxed);
            overflow-x: auto;
        }

        /* ==================== 对话历史（与架构师工作台一致） ==================== */
        .conversation-layout {
            display: flex;
            height: 100%;
        }

        .conversation-list {
            width: 380px;
            border-right: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
            display: flex;
            flex-direction: column;
        }

        .conversation-search {
            padding: 20px 20px 16px 20px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .search-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--blanc-cloud);
            font-size: var(--text-sm);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--noir-silver);
        }

        .conversation-items {
            flex: 1;
            overflow-y: auto;
        }

        .conversation-item {
            padding: 20px;
            border-bottom: 1px solid var(--blanc-mist);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .conversation-item:hover {
            background: var(--blanc-pearl);
        }

        .conversation-item.active {
            background: var(--blanc-pure);
            border-left: 2px solid var(--noir-ink);
        }

        .conversation-item-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 8px;
        }

        .conversation-item-title {
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .conversation-item-time {
            font-size: 11px;
            color: var(--noir-silver);
        }

        .conversation-item-preview {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            margin-bottom: 8px;
        }

        .conversation-item-meta {
            display: flex;
            gap: 16px;
            font-size: 11px;
            color: var(--noir-silver);
        }

        .conversation-detail {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--blanc-pure);
        }

        .detail-header {
            padding: 24px 32px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .detail-title {
            font-size: var(--text-xl);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 12px;
        }

        .detail-meta {
            display: flex;
            gap: 24px;
            font-size: var(--text-sm);
            color: var(--noir-steel);
        }

        .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 32px;
        }

        .message {
            display: flex;
            gap: 16px;
            margin-bottom: 32px;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            flex-shrink: 0;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
        }

        .message-avatar.user {
            background: var(--noir-graphite);
        }

        .message-content {
            flex: 1;
        }

        .message-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .message-sender {
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .message-time {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .message-text {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
            padding: 16px 20px;
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
        }

        .message-text pre {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            padding: 16px;
            margin: 16px 0;
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            overflow-x: auto;
        }

        .message-text strong {
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        /* ==================== 滚动条 ==================== */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--blanc-pearl);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--blanc-cloud);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--noir-silver);
        }

        /* ==================== 响应式 ==================== */
        @media (max-width: 1400px) {
            .kanban-board {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 1200px) {
            .quick-stats {
                display: none;
            }
            
            .conversation-list {
                width: 320px;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 0;
            }

            .engineer-module {
                height: 100vh;
            }

            .conversation-layout {
                flex-direction: column;
            }

            .conversation-list {
                width: 100%;
                height: 40%;
                border-right: none;
                border-bottom: 1px solid var(--blanc-mist);
            }

            .docs-container {
                flex-direction: column;
            }

            .docs-sidebar {
                width: 100%;
                height: 200px;
                border-right: none;
                border-bottom: 1px solid var(--blanc-mist);
            }
        }
    </style>
</head>
<body>
    <div class="engineer-module">
        <!-- 模块头部 -->
        <div class="module-header">
            <div class="header-row">
                <h1 class="module-title">全栈工程师工作台</h1>
                <span class="status-badge">
                    <span class="status-dot"></span>
                    在线 · 3人并行
                </span>
            </div>

            <div class="engineer-info">
                <div class="info-section">
                    <div class="engineer-avatar">FS</div>
                    <div class="engineer-details">
                        <div class="engineer-name">Fullstack Engineer AI</div>
                        <div class="engineer-meta">Expert Level · 接手: 2025-11-18 14:00 · 工作时长: 2天6小时</div>
                    </div>
                </div>
                <div class="quick-stats">
                    <div class="stat-item">
                        <div class="stat-value">156K</div>
                        <div class="stat-label">Token已用</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">v3.1</div>
                        <div class="stat-label">提示词</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">67</div>
                        <div class="stat-label">事件</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Tab导航（精简到5个） -->
        <div class="tab-navigation">
            <button class="tab-item active" onclick="switchTab('events')">
                事件流
                <span class="tab-badge">67</span>
            </button>
            <button class="tab-item" onclick="switchTab('taskboard')">
                任务看板
                <span class="tab-badge">43</span>
            </button>
            <button class="tab-item" onclick="switchTab('reviews')">
                代码审查
                <span class="tab-badge">15</span>
            </button>
            <button class="tab-item" onclick="switchTab('docs')">
                技术文档
                <span class="tab-badge">68</span>
            </button>
            <button class="tab-item" onclick="switchTab('conversations')">
                对话历史
                <span class="tab-badge">12</span>
            </button>
        </div>

        <!-- Tab内容 -->
        <div class="tab-content-wrapper">
            <!-- Tab 1: 事件流 -->
            <div id="events" class="tab-pane active">
                <div class="event-timeline">
                    <div class="timeline-filters">
                        <button class="filter-chip active">全部</button>
                        <button class="filter-chip">今天</button>
                        <button class="filter-chip">本周</button>
                        <button class="filter-chip">任务</button>
                        <button class="filter-chip">代码</button>
                        <button class="filter-chip">部署</button>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="event-card">
                            <div class="event-header">
                                <div>
                                    <div class="event-title">任务完成: Dashboard响应式优化</div>
                                    <div class="event-meta">Fullstack Engineer AI · TASK-FE-045</div>
                                </div>
                                <div class="event-time">2025-11-19 16:30</div>
                            </div>
                            <div class="event-description">
                                完成了Dashboard的完整响应式优化，支持1920/1440/1280/768/375五个断点。
                                实现了Flexbox+Grid混合布局，移动端优先策略，触摸手势优化。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">前端开发</span>
                                <span class="event-tag">响应式</span>
                                <span class="event-tag">已完成</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="event-card">
                            <div class="event-header">
                                <div>
                                    <div class="event-title">代码审查通过: API集成模块</div>
                                    <div class="event-meta">架构师审查 · REVIEW-014</div>
                                </div>
                                <div class="event-time">2025-11-19 14:20</div>
                            </div>
                            <div class="event-description">
                                架构师审查通过，代码质量优秀。成功集成了Claude API和Notion API，
                                包含完整的错误处理、重试机制和日志记录。已合并到主分支。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">代码审查</span>
                                <span class="event-tag">API集成</span>
                                <span class="event-tag">已通过</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="event-card">
                            <div class="event-header">
                                <div>
                                    <div class="event-title">接收任务: 实现记忆管理Tab</div>
                                    <div class="event-meta">架构师分配 → Fullstack Engineer AI</div>
                                </div>
                                <div class="event-time">2025-11-19 10:00</div>
                            </div>
                            <div class="event-description">
                                架构师分配了新任务：实现Dashboard项目记忆Tab。包括记忆增删改查、
                                分类管理、搜索功能。预估3小时，可并行开发。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">任务分配</span>
                                <span class="event-tag">可并行</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="event-card">
                            <div class="event-header">
                                <div>
                                    <div class="event-title">部署成功: Dashboard v2.1.0</div>
                                    <div class="event-meta">CI/CD Pipeline · DEPLOY-028</div>
                                </div>
                                <div class="event-time">2025-11-18 18:45</div>
                            </div>
                            <div class="event-description">
                                成功部署到生产环境。通过了所有自动化测试（单元测试92%覆盖率，
                                E2E测试18个场景全通过）。Lighthouse性能评分: 98/100。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">部署</span>
                                <span class="event-tag">生产环境</span>
                                <span class="event-tag">成功</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="event-card">
                            <div class="event-header">
                                <div>
                                    <div class="event-title">Bug修复: 知识图谱渲染问题</div>
                                    <div class="event-meta">Fullstack Engineer AI · BUG-012</div>
                                </div>
                                <div class="event-time">2025-11-18 14:30</div>
                            </div>
                            <div class="event-description">
                                修复了知识图谱在大数据量下的渲染卡顿问题。采用虚拟滚动+WebWorker
                                方案，渲染性能提升80%，支持10000+节点流畅显示。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">Bug修复</span>
                                <span class="event-tag">性能优化</span>
                                <span class="event-tag">已完成</span>
                            </div>
                        </div>
                    </div>

                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="event-card">
                            <div class="event-header">
                                <div>
                                    <div class="event-title">数据库优化: Neo4j查询性能提升</div>
                                    <div class="event-meta">Fullstack Engineer AI · OPT-008</div>
                                </div>
                                <div class="event-time">2025-11-17 16:20</div>
                            </div>
                            <div class="event-description">
                                优化了Neo4j的Cypher查询语句，添加了合适的索引。复杂关系查询
                                从2.5s优化到0.3s，提升8倍性能。同时优化了连接池配置。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">数据库</span>
                                <span class="event-tag">性能优化</span>
                                <span class="event-tag">Neo4j</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 2: 任务看板 -->
            <div id="taskboard" class="tab-pane">
                <div class="task-board-container">
                    <div class="task-board-header">
                        <div class="filter-bar">
                            <div class="filter-chips">
                                <button class="filter-chip active">全部</button>
                                <button class="filter-chip">P0</button>
                                <button class="filter-chip">P1</button>
                                <button class="filter-chip">可并行</button>
                                <button class="filter-chip">前端</button>
                                <button class="filter-chip">后端</button>
                            </div>
                            <select class="sort-select">
                                <option>按优先级排序</option>
                                <option>按时间排序</option>
                                <option>按复杂度排序</option>
                            </select>
                        </div>
                    </div>

                    <div class="kanban-board">
                        <!-- 待处理列 -->
                        <div class="kanban-column">
                            <div class="column-header">
                                <div class="column-title">
                                    <span>待处理</span>
                                    <span class="column-count">18</span>
                                </div>
                            </div>
                            <div class="column-cards">
                                <div class="task-card">
                                    <div class="task-card-header">
                                        <span class="task-id">TASK-UI-028</span>
                                        <h3 class="task-title">实现记忆管理Tab</h3>
                                        <span class="task-status-badge parallel">可并行</span>
                                    </div>
                                    <div class="task-description">
                                        实现Dashboard项目记忆Tab，包括记忆增删改查、分类管理、搜索功能。
                                        需要前后端联调，使用Neo4j存储。
                                    </div>
                                    <div class="task-meta">
                                        <span>预估: <span class="task-estimate">3小时</span></span>
                                        <span class="priority-badge p1">P1</span>
                                    </div>
                                    <div class="task-assignee">
                                        <div class="assignee-avatar">FS</div>
                                        <span>待领取</span>
                                    </div>
                                    <div class="task-actions">
                                        <button class="task-action-button primary" onclick="copyPrompt(event)">复制提示词</button>
                                        <button class="task-action-button">查看详情</button>
                                    </div>
                                </div>

                                <div class="task-card">
                                    <div class="task-card-header">
                                        <span class="task-id">TASK-BE-015</span>
                                        <h3 class="task-title">实现API限流中间件</h3>
                                    </div>
                                    <div class="task-description">
                                        基于Redis实现API限流中间件，支持IP级别和用户级别限流。
                                        采用令牌桶算法，配置化限流规则。
                                    </div>
                                    <div class="task-meta">
                                        <span>预估: <span class="task-estimate">4小时</span></span>
                                        <span class="priority-badge p2">P2</span>
                                    </div>
                                    <div class="task-assignee">
                                        <div class="assignee-avatar">FS</div>
                                        <span>待领取</span>
                                    </div>
                                    <div class="task-actions">
                                        <button class="task-action-button primary" onclick="copyPrompt(event)">复制提示词</button>
                                        <button class="task-action-button">查看详情</button>
                                    </div>
                                </div>

                                <div class="task-card">
                                    <div class="task-card-header">
                                        <span class="task-id">TASK-UI-029</span>
                                        <h3 class="task-title">优化首屏加载性能</h3>
                                        <span class="task-status-badge parallel">可并行</span>
                                    </div>
                                    <div class="task-description">
                                        优化首屏加载性能，目标LCP&lt;2.5s。实现代码分割、懒加载、
                                        预加载关键资源、图片优化。
                                    </div>
                                    <div class="task-meta">
                                        <span>预估: <span class="task-estimate">5小时</span></span>
                                        <span class="priority-badge p1">P1</span>
                                    </div>
                                    <div class="task-assignee">
                                        <div class="assignee-avatar">FS</div>
                                        <span>待领取</span>
                                    </div>
                                    <div class="task-actions">
                                        <button class="task-action-button primary" onclick="copyPrompt(event)">复制提示词</button>
                                        <button class="task-action-button">查看详情</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 进行中列 -->
                        <div class="kanban-column">
                            <div class="column-header">
                                <div class="column-title">
                                    <span>进行中</span>
                                    <span class="column-count">5</span>
                                </div>
                            </div>
                            <div class="column-cards">
                                <div class="task-card">
                                    <div class="task-card-header">
                                        <span class="task-id">TASK-BE-012</span>
                                        <h3 class="task-title">Claude API集成</h3>
                                    </div>
                                    <div class="task-description">
                                        集成Claude API实现对话功能。包括流式响应、错误处理、
                                        Token统计、会话管理。已完成60%。
                                    </div>
                                    <div class="task-meta">
                                        <span>已用: <span class="task-estimate">1.5天</span></span>
                                        <span class="priority-badge p0">P0</span>
                                    </div>
                                    <div class="task-assignee">
                                        <div class="assignee-avatar">FS</div>
                                        <span>进行中</span>
                                    </div>
                                    <div class="task-actions">
                                        <button class="task-action-button primary">提交审查</button>
                                        <button class="task-action-button">查看详情</button>
                                    </div>
                                </div>

                                <div class="task-card">
                                    <div class="task-card-header">
                                        <span class="task-id">TASK-UI-025</span>
                                        <h3 class="task-title">知识图谱可视化组件</h3>
                                    </div>
                                    <div class="task-description">
                                        基于D3.js实现知识图谱可视化。支持力导向布局、缩放平移、
                                        节点搜索、关系筛选。已完成布局算法。
                                    </div>
                                    <div class="task-meta">
                                        <span>已用: <span class="task-estimate">8小时</span></span>
                                        <span class="priority-badge p1">P1</span>
                                    </div>
                                    <div class="task-assignee">
                                        <div class="assignee-avatar">FS</div>
                                        <span>进行中</span>
                                    </div>
                                    <div class="task-actions">
                                        <button class="task-action-button primary">继续开发</button>
                                        <button class="task-action-button">查看详情</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 已完成列 -->
                        <div class="kanban-column">
                            <div class="column-header">
                                <div class="column-title">
                                    <span>已完成</span>
                                    <span class="column-count">20</span>
                                </div>
                            </div>
                            <div class="column-cards">
                                <div class="task-card">
                                    <div class="task-card-header">
                                        <span class="task-id">TASK-UI-024</span>
                                        <h3 class="task-title">Dashboard响应式优化</h3>
                                        <span class="task-status-badge">✓ 已完成</span>
                                    </div>
                                    <div class="task-description">
                                        完成了Dashboard的完整响应式优化，支持5个断点。
                                        已通过所有浏览器兼容性测试。
                                    </div>
                                    <div class="task-meta">
                                        <span>用时: <span class="task-estimate">6小时</span></span>
                                        <span class="priority-badge p1">P1</span>
                                    </div>
                                    <div class="task-assignee">
                                        <div class="assignee-avatar">FS</div>
                                        <span>2025-11-19</span>
                                    </div>
                                    <div class="task-actions">
                                        <button class="task-action-button primary">查看完成报告</button>
                                        <button class="task-action-button">查看详情</button>
                                    </div>
                                </div>

                                <div class="task-card">
                                    <div class="task-card-header">
                                        <span class="task-id">TASK-BE-011</span>
                                        <h3 class="task-title">用户认证模块</h3>
                                        <span class="task-status-badge">✓ 已完成</span>
                                    </div>
                                    <div class="task-description">
                                        实现JWT认证、权限管理、会话管理。支持多端登录、
                                        自动续期、安全退出。代码审查已通过。
                                    </div>
                                    <div class="task-meta">
                                        <span>用时: <span class="task-estimate">2天</span></span>
                                        <span class="priority-badge p0">P0</span>
                                    </div>
                                    <div class="task-assignee">
                                        <div class="assignee-avatar">FS</div>
                                        <span>2025-11-18</span>
                                    </div>
                                    <div class="task-actions">
                                        <button class="task-action-button primary">查看完成报告</button>
                                        <button class="task-action-button">查看详情</button>
                                    </div>
                                </div>

                                <div class="task-card">
                                    <div class="task-card-header">
                                        <span class="task-id">TASK-DB-008</span>
                                        <h3 class="task-title">Neo4j数据库设计</h3>
                                        <span class="task-status-badge">✓ 已完成</span>
                                    </div>
                                    <div class="task-description">
                                        完成知识图谱数据库设计。定义了节点类型、关系类型、
                                        索引策略。性能测试通过。
                                    </div>
                                    <div class="task-meta">
                                        <span>用时: <span class="task-estimate">1.5天</span></span>
                                        <span class="priority-badge p1">P1</span>
                                    </div>
                                    <div class="task-assignee">
                                        <div class="assignee-avatar">FS</div>
                                        <span>2025-11-17</span>
                                    </div>
                                    <div class="task-actions">
                                        <button class="task-action-button primary">查看完成报告</button>
                                        <button class="task-action-button">查看详情</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 3: 代码审查 -->
            <div id="reviews" class="tab-pane">
                <div class="code-review-container">
                    <div class="code-review-timeline">
                        <div class="review-filters">
                            <button class="filter-chip active">全部</button>
                            <button class="filter-chip">待审查</button>
                            <button class="filter-chip">已通过</button>
                            <button class="filter-chip">需修改</button>
                        </div>

                        <div class="review-item">
                            <div class="review-marker pending"></div>
                            <div class="review-card">
                                <div class="review-card-header">
                                    <h3 class="review-title">REVIEW-015 | Dashboard响应式代码审查</h3>
                                    <div class="review-meta">
                                        <span>2025-11-19 17:00</span>
                                        <span class="review-status pending">审查中</span>
                                    </div>
                                </div>

                                <div class="review-content">
                                    <div class="content-label">审查内容:</div>
                                    <div class="content-list">
                                        <div class="content-item">12个React组件响应式改造</div>
                                        <div class="content-item">CSS Grid + Flexbox混合布局</div>
                                        <div class="content-item">5个断点断点适配</div>
                                        <div class="content-item">触摸手势优化</div>
                                        <div class="content-item">测试覆盖率: 88%</div>
                                    </div>
                                </div>

                                <div class="review-comment">
                                    <div class="content-label">审查意见:</div>
                                    代码结构清晰，响应式实现优秀。建议优化媒体查询的组织方式，
                                    可以考虑使用CSS变量统一管理断点值。性能测试结果良好。
                                </div>

                                <div class="review-actions">
                                    <button class="review-action-button" disabled style="cursor: not-allowed; opacity: 0.6;">等待架构师审查...</button>
                                </div>
                            </div>
                        </div>

                        <div class="review-item">
                            <div class="review-marker" style="background: var(--noir-graphite);"></div>
                            <div class="review-card">
                                <div class="review-card-header">
                                    <h3 class="review-title">REVIEW-014-FIX | API错误处理优化</h3>
                                    <div class="review-meta">
                                        <span>2025-11-19 15:30</span>
                                        <span class="review-status" style="background: var(--noir-graphite); color: var(--blanc-pure); border-color: var(--noir-graphite);">需修改</span>
                                    </div>
                                </div>

                                <div class="review-content">
                                    <div class="content-label">审查内容:</div>
                                    <div class="content-list">
                                        <div class="content-item">API错误处理逻辑</div>
                                        <div class="content-item">重试机制实现</div>
                                        <div class="content-item">错误日志记录</div>
                                    </div>
                                </div>

                                <div class="review-comment">
                                    <div class="content-label">审查意见:</div>
                                    发现2个问题需要修改：<br>
                                    1. 重试机制缺少指数退避策略，建议使用exponential backoff<br>
                                    2. 错误日志缺少关键上下文信息（用户ID、请求ID）<br>
                                    已自动生成修改任务 TASK-FIX-089，请查看任务看板。
                                </div>

                                <div class="review-actions">
                                    <button class="review-action-button" style="background: var(--noir-graphite); color: var(--blanc-pure); border-color: var(--noir-graphite); cursor: default;" disabled>✗ 需修改 · 已生成修改任务</button>
                                </div>
                            </div>
                        </div>

                        <div class="review-item">
                            <div class="review-marker approved"></div>
                            <div class="review-card">
                                <div class="review-card-header">
                                    <h3 class="review-title">REVIEW-014 | API集成模块审查</h3>
                                    <div class="review-meta">
                                        <span>2025-11-19 14:20</span>
                                        <span class="review-status approved">已通过</span>
                                    </div>
                                </div>

                                <div class="review-content">
                                    <div class="content-label">审查内容:</div>
                                    <div class="content-list">
                                        <div class="content-item">Claude API集成（流式响应）</div>
                                        <div class="content-item">Notion API集成（CRUD操作）</div>
                                        <div class="content-item">错误处理与重试机制</div>
                                        <div class="content-item">API限流与缓存策略</div>
                                        <div class="content-item">完整的单元测试</div>
                                    </div>
                                </div>

                                <div class="review-comment">
                                    <div class="content-label">审查意见:</div>
                                    代码质量优秀。错误处理完善，包含了重试机制和降级策略。
                                    日志记录规范。单元测试覆盖率92%。已合并到主分支。
                                </div>

                                <div class="review-actions">
                                    <button class="review-action-button approve" disabled style="cursor: default;">✓ 审查通过</button>
                                </div>
                            </div>
                        </div>

                        <div class="review-item">
                            <div class="review-marker approved"></div>
                            <div class="review-card">
                                <div class="review-card-header">
                                    <h3 class="review-title">REVIEW-013 | 用户认证模块审查</h3>
                                    <div class="review-meta">
                                        <span>2025-11-18 16:45</span>
                                        <span class="review-status approved">已通过</span>
                                    </div>
                                </div>

                                <div class="review-content">
                                    <div class="content-label">审查内容:</div>
                                    <div class="content-list">
                                        <div class="content-item">JWT认证实现</div>
                                        <div class="content-item">权限管理（RBAC）</div>
                                        <div class="content-item">会话管理与自动续期</div>
                                        <div class="content-item">密码加密与安全策略</div>
                                        <div class="content-item">安全测试完成</div>
                                    </div>
                                </div>

                                <div class="review-comment">
                                    <div class="content-label">审查意见:</div>
                                    安全实现规范，符合OWASP最佳实践。Token刷新机制设计合理。
                                    建议补充API文档说明认证流程。整体质量优秀，通过审查。
                                </div>

                                <div class="review-actions">
                                    <button class="review-action-button approve" disabled style="cursor: default;">✓ 审查通过</button>
                                </div>
                            </div>
                        </div>

                        <div class="review-item">
                            <div class="review-marker approved"></div>
                            <div class="review-card">
                                <div class="review-card-header">
                                    <h3 class="review-title">REVIEW-012 | Neo4j数据库设计审查</h3>
                                    <div class="review-meta">
                                        <span>2025-11-17 18:30</span>
                                        <span class="review-status approved">已通过</span>
                                    </div>
                                </div>

                                <div class="review-content">
                                    <div class="content-label">审查内容:</div>
                                    <div class="content-list">
                                        <div class="content-item">节点类型定义（8种）</div>
                                        <div class="content-item">关系类型定义（15种）</div>
                                        <div class="content-item">索引策略设计</div>
                                        <div class="content-item">Cypher查询优化</div>
                                        <div class="content-item">性能测试报告</div>
                                    </div>
                                </div>

                                <div class="review-comment">
                                    <div class="content-label">审查意见:</div>
                                    图数据库设计合理，充分利用了Neo4j的图特性。索引设计得当，
                                    查询性能优秀。关系建模符合业务需求。可以进入实现阶段。
                                </div>

                                <div class="review-actions">
                                    <button class="review-action-button approve" disabled style="cursor: default;">✓ 审查通过</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 4: 技术文档 -->
            <div id="docs" class="tab-pane">
                <div class="docs-container">
                    <div class="docs-sidebar">
                        <div class="docs-search">
                            <input type="text" class="search-input" placeholder="搜索文档...">
                        </div>
                        <div class="docs-categories">
                            <div class="category-group">
                                <div class="category-header" onclick="toggleCategory(event)">前端开发</div>
                                <div class="category-items active">
                                    <div class="doc-item active" onclick="selectDoc(event)">React组件开发规范</div>
                                    <div class="doc-item" onclick="selectDoc(event)">CSS架构与命名约定</div>
                                    <div class="doc-item" onclick="selectDoc(event)">状态管理最佳实践</div>
                                    <div class="doc-item" onclick="selectDoc(event)">性能优化指南</div>
                                    <div class="doc-item" onclick="selectDoc(event)">响应式设计规范</div>
                                </div>
                            </div>
                            <div class="category-group">
                                <div class="category-header" onclick="toggleCategory(event)">后端开发</div>
                                <div class="category-items">
                                    <div class="doc-item" onclick="selectDoc(event)">FastAPI项目结构</div>
                                    <div class="doc-item" onclick="selectDoc(event)">RESTful API设计</div>
                                    <div class="doc-item" onclick="selectDoc(event)">异步编程实践</div>
                                    <div class="doc-item" onclick="selectDoc(event)">错误处理策略</div>
                                    <div class="doc-item" onclick="selectDoc(event)">日志规范</div>
                                </div>
                            </div>
                            <div class="category-group">
                                <div class="category-header" onclick="toggleCategory(event)">数据库</div>
                                <div class="category-items">
                                    <div class="doc-item" onclick="selectDoc(event)">PostgreSQL设计规范</div>
                                    <div class="doc-item" onclick="selectDoc(event)">Neo4j图数据库实践</div>
                                    <div class="doc-item" onclick="selectDoc(event)">Redis缓存策略</div>
                                    <div class="doc-item" onclick="selectDoc(event)">数据库迁移管理</div>
                                </div>
                            </div>
                            <div class="category-group">
                                <div class="category-header" onclick="toggleCategory(event)">DevOps</div>
                                <div class="category-items">
                                    <div class="doc-item" onclick="selectDoc(event)">Docker容器化部署</div>
                                    <div class="doc-item" onclick="selectDoc(event)">CI/CD流程配置</div>
                                    <div class="doc-item" onclick="selectDoc(event)">监控与日志系统</div>
                                    <div class="doc-item" onclick="selectDoc(event)">生产环境运维</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="docs-content">
                        <div class="doc-header">
                            <h1 class="doc-title">React组件开发规范</h1>
                            <div class="doc-meta">
                                <span>分类: 前端开发</span>
                                <span>作者: Fullstack Engineer AI</span>
                                <span>更新: 2025-11-19</span>
                                <span>字数: 3,247</span>
                            </div>
                        </div>

                        <div class="doc-body">
                            <div class="doc-section">
                                <h2 class="doc-section-title">1. 组件设计原则</h2>
                                <div class="doc-section-content">
                                    <p><strong>单一职责原则</strong>：每个组件应该只做一件事。如果组件功能过于复杂，应该拆分成更小的子组件。</p>
                                    
                                    <p><strong>组合优于继承</strong>：React推荐使用组合而非继承来实现代码复用。通过Props和Children实现组件组合。</p>
                                    
                                    <p><strong>Props类型定义</strong>：使用TypeScript为所有Props定义明确的类型，提高代码可维护性和IDE智能提示。</p>
                                </div>
                            </div>

                            <div class="doc-section">
                                <h2 class="doc-section-title">2. 组件文件结构</h2>
                                <div class="doc-section-content">
                                    <p>推荐的组件目录结构：</p>
                                </div>
                                <pre class="doc-code-block">src/
├── components/
│   ├── Button/
│   │   ├── Button.tsx          # 组件主文件
│   │   ├── Button.test.tsx     # 单元测试
│   │   ├── Button.stories.tsx  # Storybook故事
│   │   ├── Button.module.css   # 样式文件
│   │   └── index.ts            # 导出文件
│   └── ...
└── ...</pre>
                            </div>

                            <div class="doc-section">
                                <h2 class="doc-section-title">3. 组件命名规范</h2>
                                <div class="doc-section-content">
                                    <p><strong>文件命名</strong>：使用PascalCase命名，如 <code>UserProfile.tsx</code></p>
                                    
                                    <p><strong>组件命名</strong>：与文件名保持一致，使用PascalCase</p>
                                    
                                    <p><strong>Props接口命名</strong>：组件名 + Props，如 <code>UserProfileProps</code></p>
                                    
                                    <p><strong>事件处理函数</strong>：使用handle前缀，如 <code>handleClick</code></p>
                                </div>
                            </div>

                            <div class="doc-section">
                                <h2 class="doc-section-title">4. Props设计最佳实践</h2>
                                <div class="doc-section-content">
                                    <p><strong>必填与可选</strong>：明确区分必填和可选Props，为可选Props提供合理的默认值。</p>
                                    
                                    <p><strong>避免过多Props</strong>：如果组件Props超过5-6个，考虑拆分组件或使用对象传递。</p>
                                    
                                    <p><strong>Props验证</strong>：在开发环境使用PropTypes或TypeScript进行Props验证。</p>
                                </div>
                                <pre class="doc-code-block">interface ButtonProps {
  variant: 'primary' | 'secondary' | 'ghost';
  size?: 'small' | 'medium' | 'large';
  disabled?: boolean;
  onClick?: () => void;
  children: React.ReactNode;
}

const Button: React.FC<ButtonProps> = ({
  variant,
  size = 'medium',
  disabled = false,
  onClick,
  children
}) => {
  // 组件实现
};</pre>
                            </div>

                            <div class="doc-section">
                                <h2 class="doc-section-title">5. Hooks使用规范</h2>
                                <div class="doc-section-content">
                                    <p><strong>自定义Hooks</strong>：将复杂的状态逻辑提取为自定义Hooks，提高代码复用性。</p>
                                    
                                    <p><strong>依赖数组</strong>：准确声明useEffect和useCallback的依赖数组，避免不必要的重渲染。</p>
                                    
                                    <p><strong>命名约定</strong>：自定义Hooks必须以use开头，如 <code>useAuth</code>、<code>useFetch</code></p>
                                </div>
                                <pre class="doc-code-block">// 自定义Hook示例
function useDebounce<T>(value: T, delay: number): T {
  const [debouncedValue, setDebouncedValue] = useState(value);

  useEffect(() => {
    const handler = setTimeout(() => {
      setDebouncedValue(value);
    }, delay);

    return () => {
      clearTimeout(handler);
    };
  }, [value, delay]);

  return debouncedValue;
}</pre>
                            </div>

                            <div class="doc-section">
                                <h2 class="doc-section-title">6. 性能优化</h2>
                                <div class="doc-section-content">
                                    <p><strong>React.memo</strong>：对于纯展示组件，使用React.memo避免不必要的重渲染。</p>
                                    
                                    <p><strong>useMemo和useCallback</strong>：缓存计算结果和回调函数，但不要过度优化。</p>
                                    
                                    <p><strong>代码分割</strong>：使用React.lazy和Suspense进行组件懒加载。</p>
                                    
                                    <p><strong>虚拟列表</strong>：对于长列表，使用react-window或react-virtualized。</p>
                                </div>
                            </div>

                            <div class="doc-section">
                                <h2 class="doc-section-title">7. 测试要求</h2>
                                <div class="doc-section-content">
                                    <p><strong>单元测试</strong>：每个组件都应该有对应的测试文件，测试覆盖率目标85%+。</p>
                                    
                                    <p><strong>测试内容</strong>：渲染测试、Props测试、事件处理测试、边界情况测试。</p>
                                    
                                    <p><strong>测试工具</strong>：使用Jest + React Testing Library进行组件测试。</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 5: 对话历史 -->
            <div id="conversations" class="tab-pane">
                <div class="conversation-layout">
                    <div class="conversation-list">
                        <div class="conversation-search">
                            <input type="text" class="search-input" placeholder="搜索对话...">
                        </div>
                        <div class="conversation-items">
                            <div class="conversation-item active" onclick="selectConversation(1)">
                                <div class="conversation-item-header">
                                    <div class="conversation-item-title">Claude API集成讨论</div>
                                    <div class="conversation-item-time">2025-11-19 14:30</div>
                                </div>
                                <div class="conversation-item-preview">
                                    讨论了Claude API的流式响应实现方案...
                                </div>
                                <div class="conversation-item-meta">
                                    <span>10条消息</span>
                                    <span>2h 15min</span>
                                </div>
                            </div>

                            <div class="conversation-item" onclick="selectConversation(2)">
                                <div class="conversation-item-header">
                                    <div class="conversation-item-title">响应式布局优化</div>
                                    <div class="conversation-item-time">2025-11-19 10:00</div>
                                </div>
                                <div class="conversation-item-preview">
                                    分析了当前Dashboard的响应式问题，制定了优化方案...
                                </div>
                                <div class="conversation-item-meta">
                                    <span>8条消息</span>
                                    <span>1h 30min</span>
                                </div>
                            </div>

                            <div class="conversation-item" onclick="selectConversation(3)">
                                <div class="conversation-item-header">
                                    <div class="conversation-item-title">Neo4j性能优化</div>
                                    <div class="conversation-item-time">2025-11-18 16:20</div>
                                </div>
                                <div class="conversation-item-preview">
                                    优化了Cypher查询语句，添加了合适的索引...
                                </div>
                                <div class="conversation-item-meta">
                                    <span>12条消息</span>
                                    <span>1h 45min</span>
                                </div>
                            </div>

                            <div class="conversation-item" onclick="selectConversation(4)">
                                <div class="conversation-item-header">
                                    <div class="conversation-item-title">用户认证实现</div>
                                    <div class="conversation-item-time">2025-11-17 14:00</div>
                                </div>
                                <div class="conversation-item-preview">
                                    讨论了JWT认证方案，包括Token刷新机制...
                                </div>
                                <div class="conversation-item-meta">
                                    <span>15条消息</span>
                                    <span>3h 20min</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="conversation-detail">
                        <div class="detail-header">
                            <h2 class="detail-title">Claude API集成讨论</h2>
                            <div class="detail-meta">
                                <span>2025-11-19 14:30</span>
                                <span>10条消息</span>
                                <span>2h 15min</span>
                                <span>32,500 tokens</span>
                            </div>
                        </div>

                        <div class="messages-container">
                            <div class="message">
                                <div class="message-avatar user">U</div>
                                <div class="message-content">
                                    <div class="message-header">
                                        <span class="message-sender">用户</span>
                                        <span class="message-time">14:30</span>
                                    </div>
                                    <div class="message-text">
                                        需要集成Claude API实现对话功能，要支持流式响应。能帮我分析一下实现方案吗？
                                    </div>
                                </div>
                            </div>

                            <div class="message">
                                <div class="message-avatar">AI</div>
                                <div class="message-content">
                                    <div class="message-header">
                                        <span class="message-sender">Fullstack AI</span>
                                        <span class="message-time">14:32</span>
                                    </div>
                                    <div class="message-text">
                                        好的，让我帮你分析Claude API的流式响应实现方案。<br><br>
                                        
                                        <strong>方案概述：</strong><br><br>
                                        
                                        Claude API支持Server-Sent Events (SSE)来实现流式响应。我们需要：<br><br>
                                        
                                        1. <strong>后端实现</strong>：<br>
                                        - 使用FastAPI的StreamingResponse<br>
                                        - 处理Claude API的SSE流<br>
                                        - 实现错误处理和重连机制<br><br>
                                        
                                        2. <strong>前端实现</strong>：<br>
                                        - 使用EventSource或fetch with ReadableStream<br>
                                        - 实时更新UI显示流式内容<br>
                                        - 处理连接状态和错误<br><br>
                                        
                                        我先给你看后端的实现代码...
                                    </div>
                                </div>
                            </div>

                            <div class="message">
                                <div class="message-avatar">AI</div>
                                <div class="message-content">
                                    <div class="message-header">
                                        <span class="message-sender">Fullstack AI</span>
                                        <span class="message-time">14:35</span>
                                    </div>
                                    <div class="message-text">
                                        <strong>后端实现（FastAPI）：</strong>
<pre>from fastapi import FastAPI
from fastapi.responses import StreamingResponse
import anthropic
import asyncio

app = FastAPI()

@app.post("/api/chat/stream")
async def stream_chat(request: ChatRequest):
    client = anthropic.AsyncAnthropic(
        api_key=settings.CLAUDE_API_KEY
    )
    
    async def generate():
        try:
            async with client.messages.stream(
                model="claude-sonnet-4-20250514",
                max_tokens=1024,
                messages=[
                    {"role": "user", "content": request.message}
                ]
            ) as stream:
                async for text in stream.text_stream:
                    yield f"data: {text}\n\n"
                    await asyncio.sleep(0)
        except Exception as e:
            yield f"data: [ERROR] {str(e)}\n\n"
    
    return StreamingResponse(
        generate(),
        media_type="text/event-stream"
    )</pre>
                                    </div>
                                </div>
                            </div>

                            <div class="message">
                                <div class="message-avatar user">U</div>
                                <div class="message-content">
                                    <div class="message-header">
                                        <span class="message-sender">用户</span>
                                        <span class="message-time">14:38</span>
                                    </div>
                                    <div class="message-text">
                                        不错！前端这边怎么接收和显示流式内容？
                                    </div>
                                </div>
                            </div>

                            <div class="message">
                                <div class="message-avatar">AI</div>
                                <div class="message-content">
                                    <div class="message-header">
                                        <span class="message-sender">Fullstack AI</span>
                                        <span class="message-time">14:40</span>
                                    </div>
                                    <div class="message-text">
                                        <strong>前端实现（React + TypeScript）：</strong>
<pre>import { useState } from 'react';

function ChatComponent() {
  const [messages, setMessages] = useState<string>('');
  const [isStreaming, setIsStreaming] = useState(false);

  const streamChat = async (userMessage: string) => {
    setIsStreaming(true);
    setMessages('');

    try {
      const response = await fetch('/api/chat/stream', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message: userMessage })
      });

      const reader = response.body?.getReader();
      const decoder = new TextDecoder();

      while (true) {
        const { done, value } = await reader!.read();
        if (done) break;

        const chunk = decoder.decode(value);
        const lines = chunk.split('\n');

        for (const line of lines) {
          if (line.startsWith('data: ')) {
            const text = line.slice(6);
            setMessages(prev => prev + text);
          }
        }
      }
    } catch (error) {
      console.error('Stream error:', error);
    } finally {
      setIsStreaming(false);
    }
  };

  return (
    <div>
      <div>{messages}</div>
      {isStreaming && <span>思考中...</span>}
    </div>
  );
}</pre>
                                        <br>
                                        <strong>关键点：</strong><br>
                                        1. 使用ReadableStream接收流式数据<br>
                                        2. 实时更新React状态显示内容<br>
                                        3. 处理流结束和错误情况<br>
                                        4. 添加loading状态提示用户
                                    </div>
                                </div>
                            </div>

                            <div class="message">
                                <div class="message-avatar user">U</div>
                                <div class="message-content">
                                    <div class="message-header">
                                        <span class="message-sender">用户</span>
                                        <span class="message-time">14:45</span>
                                    </div>
                                    <div class="message-text">
                                        完美！需要考虑哪些错误处理和优化？
                                    </div>
                                </div>
                            </div>

                            <div class="message">
                                <div class="message-avatar">AI</div>
                                <div class="message-content">
                                    <div class="message-header">
                                        <span class="message-sender">Fullstack AI</span>
                                        <span class="message-time">14:48</span>
                                    </div>
                                    <div class="message-text">
                                        <strong>错误处理和优化建议：</strong><br><br>
                                        
                                        <strong>1. 错误处理</strong><br>
                                        - API限流错误：实现指数退避重试<br>
                                        - 网络中断：自动重连机制<br>
                                        - Token超限：截断或分段处理<br>
                                        - 超时处理：设置合理的timeout<br><br>
                                        
                                        <strong>2. 性能优化</strong><br>
                                        - 使用debounce避免频繁请求<br>
                                        - 缓存历史对话减少重复请求<br>
                                        - 实现请求队列避免并发过多<br>
                                        - 压缩传输数据<br><br>
                                        
                                        <strong>3. 用户体验</strong><br>
                                        - 打字机效果：逐字显示更自然<br>
                                        - 取消功能：允许用户中断流式响应<br>
                                        - 进度提示：显示Token消耗情况<br>
                                        - 错误提示：友好的错误信息<br><br>
                                        
                                        <strong>4. 安全考虑</strong><br>
                                        - API Key保护：只在后端使用<br>
                                        - 用户认证：验证请求来源<br>
                                        - 输入验证：防止注入攻击<br>
                                        - 日志记录：便于问题排查
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab切换
        function switchTab(tabName) {
            document.querySelectorAll('.tab-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelectorAll('.tab-pane').forEach(pane => {
                pane.classList.remove('active');
            });

            event.target.closest('.tab-item').classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        // 复制提示词
        function copyPrompt(e) {
            e.preventDefault();
            
            // 获取任务ID
            const taskCard = e.target.closest('.task-card');
            const taskId = taskCard.querySelector('.task-id').textContent;
            const taskTitle = taskCard.querySelector('.task-title').textContent;
            
            // 构建提示词（示例）
            const prompt = `# 全栈工程师任务提示词

## 任务信息
- 任务ID: ${taskId}
- 任务名称: ${taskTitle}
- 分配给: Fullstack Engineer AI

## 任务要求
请按照以下步骤完成任务：
1. 阅读任务详情和技术规范
2. 设计技术方案
3. 编写高质量代码
4. 编写单元测试（覆盖率≥85%）
5. 提交代码审查
6. 生成完成报告

## 代码规范
- 遵循项目代码规范
- 添加必要的注释
- 错误处理完善
- 性能优化考虑

## 交付物
- 源代码
- 单元测试
- 技术文档
- 完成报告`;

            // 复制到剪贴板
            navigator.clipboard.writeText(prompt).then(() => {
                const button = e.target;
                const originalText = button.textContent;
                button.textContent = '✓ 已复制到剪贴板';
                button.style.background = 'var(--noir-graphite)';
                
                setTimeout(() => {
                    button.textContent = originalText;
                    button.style.background = 'var(--noir-ink)';
                }, 2000);
            }).catch(err => {
                console.error('复制失败:', err);
                alert('复制失败，请手动复制');
            });
        }

        // 选择对话
        function selectConversation(id) {
            document.querySelectorAll('.conversation-item').forEach(item => {
                item.classList.remove('active');
            });
            event.target.closest('.conversation-item').classList.add('active');
        }

        // 切换文档分类
        function toggleCategory(e) {
            const items = e.target.nextElementSibling;
            items.classList.toggle('active');
        }

        // 选择文档
        function selectDoc(e) {
            document.querySelectorAll('.doc-item').forEach(item => {
                item.classList.remove('active');
            });
            e.target.classList.add('active');
        }
    </script>
</body>
</html>