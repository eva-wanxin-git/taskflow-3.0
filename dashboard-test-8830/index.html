<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>任务所·Flow - Ethereal Industrial Elegance</title>
    <style>
        /* ============================================
           任务所·Flow - 白色极简奢华设计系统
           Ethereal Industrial Elegance
           ============================================ */

        /* === 色彩系统 === */
        :root {
            /* 白色基调 - 12级精密层次 */
            --blanc-pure: #FFFFFF;
            --blanc-snow: #FAFBFC;
            --blanc-pearl: #F6F8FA;
            --blanc-silk: #F0F3F5;
            --blanc-mist: #E8ECEF;
            --blanc-cloud: #DFE4E8;

            /* 灰色层次 - 文字与界面元素 */
            --noir-ink: #0A0F14;
            --noir-charcoal: #1A2027;
            --noir-graphite: #2E3742;
            --noir-steel: #495057;
            --noir-silver: #6C757D;
            --noir-ash: #8B95A1;

            /* 奢华点缀色 */
            --accent-gold: #D4AF37;
            --accent-rose: #E8B4B8;
            --accent-platinum: #E5E4E2;

            /* 功能色系统 */
            --status-success: #4A7C59;
            --status-warning: #D4A574;
            --status-error: #C73E1D;
            --status-info: #5B7C99;
            --status-active: #667eea;

            /* 阴影系统 */
            --shadow-xs: 0 1px 3px rgba(0, 0, 0, 0.04);
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.10);

            /* 字体系统 */
            --font-primary: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            --font-secondary: 'Georgia', serif;

            /* 字号系统 */
            --text-xs: 12px;
            --text-sm: 14px;
            --text-base: 16px;
            --text-lg: 18px;
            --text-xl: 21px;
            --text-2xl: 28px;
            --text-3xl: 36px;

            /* 字重系统 */
            --weight-light: 300;
            --weight-regular: 400;
            --weight-medium: 500;
            --weight-semibold: 600;

            /* 空间系统 */
            --space-1: 6px;
            --space-2: 12px;
            --space-3: 18px;
            --space-4: 24px;
            --space-5: 32px;
            --space-6: 40px;
            --space-7: 48px;
            --space-8: 64px;

            /* 动画时序 */
            --duration-fast: 200ms;
            --duration-normal: 300ms;
            --duration-slow: 400ms;
            --ease-luxury: cubic-bezier(0.23, 1, 0.32, 1);

            /* 布局 */
            --header-height: 88px;  /* 加高 */
            --container-max: 1400px;
        }

        /* === 全局样式重置 === */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-primary);
            font-size: var(--text-base);
            color: var(--noir-graphite);
            background: var(--blanc-pearl);
            line-height: 1.5;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            margin: 0;
            padding: 0;
            width: 100%;
            overflow-x: hidden;
        }

        /* === 项目切换演示器 === */
        .project-switcher {
            position: fixed;
            top: 120px;
            right: 20px;
            z-index: 1000;
            background: white;
            border: 1px solid #E8ECEF;
            padding: 20px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            max-width: 280px;
            border-radius: 0;
            display: none; /* 暂时隐藏，保留功能 */
        }

        .switcher-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--noir-graphite);
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #E8ECEF;
        }

        .project-option {
            padding: 10px 12px;
            margin-bottom: 8px;
            border: 1px solid #E8ECEF;
            background: white;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s ease;
            border-radius: 0;
        }

        .project-option:hover {
            background: #F6F8FA;
            border-color: var(--noir-ink);
        }

        .project-option.active {
            background: var(--noir-ink);
            color: white;
            border-color: var(--noir-ink);
        }

        /* === 顶部品牌栏（固定不变）=== */
        .brand-header {
            background: var(--noir-ink);
            border-bottom: 1px solid var(--noir-charcoal);
            position: sticky;
            top: 0;
            z-index: 100;
            width: 100%;
            margin: 0;
            padding: 0;
        }

        .brand-container {
            width: 100%;
            margin: 0;
            padding: 20px var(--space-6);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .brand-identity {
            flex: 1;
        }

        .brand-logo-line {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .brand-icon {
            width: 32px;
            height: 32px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
            font-weight: 600;
            color: var(--noir-ink);
            border-radius: 0;
        }

        .brand-name {
            font-size: 20px;
            font-weight: 500;
            color: white;
            letter-spacing: -0.01em;
        }

        .brand-slogan {
            font-size: 13px;
            color: var(--noir-silver);
            line-height: 1.5;
            margin-left: 44px;
        }

        .brand-actions {
            display: flex;
            gap: 12px;
        }

        .action-item {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 6px 12px;
            border: 1px solid var(--noir-charcoal);
            background: rgba(255, 255, 255, 0.05);
            font-size: 12px;
            font-weight: 500;
            color: var(--blanc-cloud);
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 0;
        }

        .action-item:hover {
            background: rgba(255, 255, 255, 0.1);
            color: white;
        }

        .status-dot {
            width: 6px;
            height: 6px;
            background: var(--status-success);
            animation: pulse 2s infinite;
            border-radius: 50%;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.6; }
        }

        /* === Hero区（项目标识）=== */
        .page-hero {
            background: var(--noir-ink);
            position: relative;
            overflow: hidden;
            border-bottom: 1px solid var(--noir-charcoal);
        }

        .bg-grid {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            opacity: 0.03;
            background-image: 
                linear-gradient(white 1px, transparent 1px),
                linear-gradient(90deg, white 1px, transparent 1px);
            background-size: 40px 40px;
        }

        .hero-container {
            max-width: var(--container-max);
            margin: 0 auto;
            padding: var(--space-8) var(--space-6);
            position: relative;
            z-index: 1;
        }

        .project-logo {
            width: 64px;
            height: 64px;
            background: white;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            font-weight: 600;
            color: var(--noir-ink);
            margin-bottom: var(--space-4);
            transition: all 0.3s ease;
            border-radius: 0;
        }

        .project-title {
            font-family: var(--font-secondary);
            font-size: 48px;
            font-weight: 300;
            color: white;
            letter-spacing: -0.02em;
            margin-bottom: var(--space-3);
            line-height: 1.2;
        }

        .version-badge {
            display: inline-block;
            padding: 4px 12px;
            font-size: 11px;
            font-family: var(--font-mono);
            color: var(--blanc-cloud);
            border: 1px solid var(--noir-charcoal);
            margin-left: var(--space-3);
            vertical-align: middle;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 0;
        }

        .project-description {
            font-size: 18px;
            color: var(--blanc-cloud);
            line-height: 1.75;
            max-width: 800px;
        }

        .project-meta-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-4);
            margin-top: var(--space-7);
        }

        .meta-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: var(--space-4);
            transition: all 0.3s ease;
            border-radius: 0;
        }

        .meta-card:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }

        .meta-label {
            font-size: 12px;
            color: var(--noir-silver);
            margin-bottom: 8px;
        }

        .meta-value {
            font-size: 14px;
            color: var(--blanc-cloud);
            line-height: 1.6;
        }

        /* === 主容器 === */
        .main-container {
            max-width: var(--container-max);
            margin: 0 auto;
            padding: var(--space-8) var(--space-6);
        }

        /* === 页面标题区 === */
        .page-header {
            margin-bottom: var(--space-7);
        }

        .page-title {
            font-size: var(--text-xl);  /* 改为21px */
            font-weight: var(--weight-semibold);  /* 加粗 */
            color: var(--noir-ink);
            margin-bottom: var(--space-2);
            letter-spacing: 0.02em;
        }

        .page-description {
            font-size: var(--text-base);
            color: var(--noir-silver);
            font-weight: var(--weight-light);
        }

        /* === 项目信息框 === */
        .project-info-box {
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            border-radius: 0;  /* 直角 */
            padding: 0;
            margin-bottom: var(--space-7);
            overflow: hidden;
        }

        .project-info-table {
            width: 100%;
            border-collapse: collapse;
        }

        .project-info-table tr {
            border-bottom: 1px solid var(--blanc-mist);
        }

        .project-info-table tr:last-child {
            border-bottom: none;
        }

        .project-info-table td {
            padding: var(--space-4) var(--space-5);
            border-right: 1px solid var(--blanc-mist);
        }

        /* 标签列（第1、3列） */
        .project-info-table td:nth-child(4n+1),
        .project-info-table td:nth-child(4n+3) {
            width: 160px;
            font-size: var(--text-sm);
            color: var(--noir-silver);
            font-weight: var(--weight-medium);
            background: var(--blanc-snow);
        }

        /* 值列（第2、4列） */
        .project-info-table td:nth-child(4n+2),
        .project-info-table td:nth-child(4n) {
            font-size: var(--text-base);
            color: var(--noir-graphite);
            font-weight: var(--weight-regular);
        }

        /* 最后一列去掉右边框 */
        .project-info-table td:nth-child(4n) {
            border-right: none;
        }

        /* === 版本选择器 === */
        .version-selector {
            display: flex;
            gap: var(--space-2);
            margin-bottom: var(--space-6);
        }

        .version-content {
            display: none;
        }

        .version-content[data-version="1"] {
            display: block;
        }

        /* 记忆空间模块需要flex布局 */
        .memory-space-module.version-content[data-version="1"] {
            display: flex !important;
        }

        .version-btn {
            padding: var(--space-2) var(--space-4);
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            border-radius: 0;  /* 直角 */
            font-size: var(--text-sm);
            color: var(--noir-steel);
            cursor: pointer;
            transition: all var(--duration-normal) var(--ease-luxury);
        }

        .version-btn:hover {
            background: var(--blanc-snow);
            border-color: var(--blanc-cloud);
            transform: translateY(-1px);
        }

        .version-btn.active {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        /* === 统计卡片区域 === */
        .stats-section {
            margin-bottom: var(--space-7);
        }

        .stats-label {
            font-size: var(--text-base);  /* 改大一点 */
            color: var(--noir-steel);  /* 颜色深一点 */
            margin-bottom: var(--space-3);
            font-weight: var(--weight-semibold);  /* 加粗 */
            letter-spacing: 0.02em;
            text-transform: none;  /* 取消全大写 */
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
            gap: var(--space-4);
            margin-bottom: var(--space-5);
        }

        /* 统计卡片 */
        .stat-card {
            background: var(--blanc-pure);
            border-radius: 0;  /* 直角 */
            padding: var(--space-4);
            border: 1px solid var(--blanc-mist);
            box-shadow: var(--shadow-xs);
            transition: all var(--duration-slow) var(--ease-luxury);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--accent-gold), transparent);
            transform: translateX(-100%);
            transition: transform 0.6s var(--ease-luxury);
        }

        .stat-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
            border-color: var(--blanc-cloud);
        }

        .stat-card:hover::before {
            transform: translateX(100%);
        }

        .stat-value {
            font-size: var(--text-3xl);
            font-weight: var(--weight-semibold);  /* 改为加粗，更醒目 */
            color: var(--noir-ink);
            margin-bottom: var(--space-1);
            letter-spacing: -0.01em;
        }

        .stat-label {
            font-size: var(--text-sm);
            color: var(--noir-steel);  /* 改深一点 */
            font-weight: var(--weight-medium);  /* 改为medium */
        }

        .stat-trend {
            font-size: var(--text-xs);
            color: var(--status-success);
            margin-top: var(--space-1);
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .stat-meta-row {
            margin-top: 8px;
            font-size: 12px;
            color: var(--noir-silver);
        }

        /* === Tab导航区 === */
        .tabs-container {
            background: var(--blanc-pure);
            border-radius: 0;  /* 直角 */
            padding: var(--space-4);
            margin-bottom: var(--space-6);
            border: 1px solid var(--blanc-mist);
            box-shadow: var(--shadow-xs);
        }

        .tabs-wrapper {
            display: flex;
            gap: var(--space-2);
            flex-wrap: wrap;
            align-items: center;
        }

        .tab-button {
            padding: var(--space-2) var(--space-4);
            background: transparent;
            border: 1px solid transparent;
            border-radius: 0;  /* 直角 */
            font-size: var(--text-sm);
            color: var(--noir-steel);
            cursor: pointer;
            transition: all var(--duration-normal) var(--ease-luxury);
            position: relative;
            font-weight: var(--weight-medium);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .tab-button:hover {
            background: var(--blanc-snow);
            color: var(--noir-graphite);
        }

        .tab-button.active {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .tab-badge {
            background: var(--blanc-mist);
            color: var(--noir-steel);
            padding: 2px 8px;
            border-radius: 0;  /* 直角 */
            font-size: 11px;
            font-weight: var(--weight-medium);
        }

        .tab-button.active .tab-badge {
            background: rgba(255, 255, 255, 0.2);
            color: var(--blanc-pure);
        }

        /* === 筛选器 === */
        .filter-container {
            display: flex;
            gap: var(--space-2);
            margin-bottom: var(--space-5);
        }

        .filter-btn {
            padding: var(--space-2) var(--space-4);
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            border-radius: 0;  /* 直角 */
            font-size: var(--text-sm);
            color: var(--noir-steel);
            cursor: pointer;
            transition: all var(--duration-normal) var(--ease-luxury);
            font-weight: var(--weight-medium);
        }

        .filter-btn:hover {
            background: var(--blanc-silk);
            border-color: var(--blanc-cloud);
        }

        .filter-btn.active {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .filter-content {
            display: none;
        }

        .filter-content.active {
            display: block;
            animation: fadeIn var(--duration-slow) var(--ease-luxury);
        }

        /* === 内容区域 === */
        .content-section {
            min-height: 400px;
        }

        .content-view {
            display: none;
            animation: fadeIn var(--duration-slow) var(--ease-luxury);
        }

        .content-view.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* === 任务卡片 === */
        .task-card {
            background: var(--blanc-pure);
            border-radius: 0;  /* 直角 */
            padding: var(--space-5);
            margin-bottom: var(--space-4);
            border: 1px solid var(--blanc-mist);
            box-shadow: var(--shadow-sm);
            transition: all var(--duration-slow) var(--ease-luxury);
        }

        .task-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .task-header {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            margin-bottom: var(--space-3);
            flex-wrap: wrap;
        }

        .task-priority {
            padding: 4px 10px;
            border-radius: 0;  /* 直角 */
            font-size: var(--text-xs);
            font-weight: var(--weight-semibold);
            background: var(--status-error);
            color: white;
        }

        .task-id {
            font-family: monospace;
            font-size: var(--text-sm);
            color: var(--noir-silver);
            background: var(--blanc-snow);
            padding: 4px 10px;
            border-radius: 0;  /* 直角 */
        }

        .task-assignee {
            font-size: var(--text-sm);
            color: var(--noir-steel);
        }

        .task-time {
            font-size: var(--text-sm);
            color: var(--noir-silver);
            margin-left: auto;
        }

        .task-title {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);  /* 加粗 */
            color: var(--noir-ink);
            margin-bottom: var(--space-3);
        }

        .task-divider {
            height: 1px;
            background: var(--blanc-mist);
            margin: var(--space-3) 0;
        }

        /* 隐藏事件、对话、记忆卡片中的分隔线 */
        .event-card .task-divider,
        .conversation-card .task-divider,
        .memory-card .task-divider {
            display: none;
        }

        /* 隐藏事件、对话、记忆卡片中的多余按钮 */
        .event-card .task-actions,
        .conversation-card .task-actions,
        .memory-card .task-actions {
            display: none;
        }

        .task-meta {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
            margin-bottom: var(--space-3);
        }

        .meta-row {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .task-actions {
            display: flex;
            gap: var(--space-2);
            flex-wrap: wrap;
        }

        .action-btn {
            padding: var(--space-2) var(--space-3);
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            border-radius: 0;  /* 直角 */
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all var(--duration-normal) var(--ease-luxury);
        }

        .action-btn:hover {
            background: var(--blanc-silk);
            border-color: var(--blanc-cloud);
            transform: translateY(-1px);
        }

        /* === 独立模块样式 === */
        .module-section {
            background: var(--blanc-pure);
            border-radius: 0;  /* 直角 */
            padding: var(--space-6);
            border: 1px solid var(--blanc-mist);
            box-shadow: var(--shadow-sm);
        }

        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: var(--space-6);
            padding-bottom: var(--space-4);
            border-bottom: 2px solid var(--blanc-mist);
        }

        .module-title {
            font-size: var(--text-xl);  /* 二级标题，小一号 */
            font-weight: var(--weight-semibold);  /* 加粗 */
            color: var(--noir-ink);
            margin-bottom: var(--space-2);
            letter-spacing: 0;
        }

        .module-description {
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .module-content {
            /* 模块内容区域 */
        }

        /* === 事件列表（紧凑单行样式） === */
        .event-item-compact {
            display: flex;
            align-items: center;
            padding: var(--space-3) var(--space-4);
            border-bottom: 1px solid var(--blanc-mist);
            gap: var(--space-3);
            position: relative;
            transition: background var(--duration-fast);
        }

        .event-item-compact:last-child {
            border-bottom: none;
        }

        .event-item-compact:hover {
            background: var(--blanc-snow);
        }

        .event-item-compact::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
        }

        .event-item-compact.success::before {
            background: var(--status-success);
        }

        .event-item-compact.warning::before {
            background: var(--status-warning);
        }

        .event-item-compact.info::before {
            background: var(--status-info);
        }

        .event-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            flex-shrink: 0;
        }

        .event-dot.success {
            background: var(--status-success);
        }

        .event-dot.warning {
            background: var(--status-warning);
        }

        .event-dot.info {
            background: var(--status-info);
        }

        .event-time-compact {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            min-width: 70px;
            flex-shrink: 0;
        }

        .event-category {
            font-size: var(--text-xs);
            color: var(--noir-steel);
            padding: 3px 10px;
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            border-radius: 0;
            min-width: 80px;
            text-align: center;
            flex-shrink: 0;
            font-weight: var(--weight-medium);
        }

        .event-content-compact {
            flex: 1;
            font-size: var(--text-sm);
            color: var(--noir-ink);
            font-weight: var(--weight-regular);
        }

        .event-actor {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            min-width: 100px;
            flex-shrink: 0;
        }

        .event-detail-link {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            text-decoration: none;
            padding: 4px 14px;
            border: 1px solid var(--blanc-mist);
            border-radius: 0;
            transition: all var(--duration-fast);
            flex-shrink: 0;
        }

        .event-detail-link:hover {
            background: var(--blanc-snow);
            color: var(--noir-ink);
        }

        .view-all-link {
            display: block;
            text-align: center;
            padding: var(--space-3);
            color: var(--status-error);
            text-decoration: none;
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            transition: all var(--duration-fast);
        }

        .view-all-link:hover {
            color: var(--noir-ink);
        }

        /* === 对话和记忆模块（两列卡片） === */
        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-6);
            margin-bottom: var(--space-8);
        }

        .module-card {
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            padding: var(--space-6);
            transition: all 0.3s ease;
            cursor: pointer;
            border-radius: 0;
        }

        .module-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateY(-2px);
        }

        .module-card.expanded {
            grid-column: 1 / -1;
            transform: none;
            position: relative;
        }

        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-6);
            padding-bottom: var(--space-4);
            border-bottom: 1px solid var(--blanc-mist);
        }

        .module-title {
            font-size: var(--text-xl);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            letter-spacing: 0;
        }

        .module-action {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            text-decoration: none;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .module-action:hover {
            color: var(--noir-ink);
            transform: translateX(4px);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: var(--space-4);
            margin-bottom: var(--space-6);
        }

        .stat-item {
            padding: var(--space-4) 0;
        }

        .stat-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            margin-bottom: 8px;
            letter-spacing: 0.02em;
        }

        .stat-value {
            font-size: var(--text-2xl);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            line-height: var(--leading-tight);
        }

        .recent-list {
            border-top: 1px solid var(--blanc-mist);
            padding-top: var(--space-4);
        }

        .list-header {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            margin-bottom: var(--space-3);
            letter-spacing: 0.02em;
        }

        .list-item {
            padding: var(--space-2) 0;
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            border-bottom: 1px solid var(--blanc-mist);
            transition: all 0.3s ease;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: var(--space-2);
        }

        .list-item:last-child {
            border-bottom: none;
        }

        .list-item::before {
            content: '';
            width: 4px;
            height: 4px;
            background: var(--noir-silver);
            flex-shrink: 0;
            border-radius: 50%;
        }

        .list-item:hover {
            color: var(--noir-ink);
            padding-left: 8px;
        }

        .list-item:hover::before {
            background: var(--noir-ink);
        }

        .expanded-content {
            display: none;
            margin-top: var(--space-6);
            padding-top: var(--space-6);
            border-top: 1px solid var(--blanc-mist);
        }

        .module-card.expanded .expanded-content {
            display: block;
        }

        .expanded-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: var(--space-4);
        }

        .detail-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: var(--space-4);
            transition: all 0.3s ease;
            border-radius: 0;
        }

        .detail-card:hover {
            box-shadow: var(--shadow-xs);
            transform: translateX(4px);
        }

        .detail-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: var(--space-2);
        }

        .detail-title {
            font-size: var(--text-base);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
            margin-bottom: 6px;
        }

        .detail-meta {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .detail-description {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
            margin-top: var(--space-2);
        }

        .detail-tags {
            display: flex;
            gap: var(--space-2);
            margin-top: var(--space-3);
        }

        .detail-tag {
            padding: 4px 12px;
            font-size: 11px;
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
            border-radius: 0;
        }

        .close-button {
            position: absolute;
            top: var(--space-6);
            right: var(--space-6);
            padding: 8px 16px;
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            color: var(--noir-graphite);
            font-size: var(--text-sm);
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 0;
        }

        .close-button:hover {
            background: var(--blanc-pearl);
            color: var(--noir-ink);
        }

        /* === API状态条 === */
        .api-status-bar {
            max-width: 1600px;
            margin: 64px auto 48px auto;
            background: var(--blanc-pure);
            border: 1px solid var(--status-success);
            border-radius: 0;
            padding: var(--space-4) var(--space-5);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .api-status-left {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .api-status-dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--status-success);
            flex-shrink: 0;
        }

        .api-status-text {
            font-size: var(--text-base);
            font-weight: var(--weight-medium);
            color: var(--noir-ink);
        }

        .api-status-right {
            display: flex;
            gap: var(--space-6);
            font-size: var(--text-sm);
            color: var(--noir-steel);
        }

        .api-status-detail-link {
            font-size: var(--text-sm);
            color: var(--status-error);
            text-decoration: none;
            font-weight: var(--weight-medium);
        }

        .api-status-detail-link:hover {
            color: var(--noir-ink);
        }

        /* ==================== 项目透视模块 ==================== */
        .page-container {
            max-width: 1600px;
            margin: 64px auto 48px auto;
            height: 1200px;
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .page-header {
            background: var(--blanc-pure);
            border-bottom: 1px solid var(--blanc-mist);
            padding: var(--space-5) var(--space-6);
            flex-shrink: 0;
        }

        .page-header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
        }

        .page-title {
            font-family: var(--font-secondary);
            font-size: var(--text-2xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            letter-spacing: -0.02em;
        }

        .page-status-badge {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            padding: 6px 16px;
            border: 1px solid var(--noir-silver);
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
        }

        .page-status-dot {
            width: 6px;
            height: 6px;
            background: var(--status-success);
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
        }

        .page-info-bar {
            display: flex;
            align-items: center;
            gap: var(--space-5);
            padding: var(--space-4);
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
        }

        .page-info-section {
            flex: 1;
        }

        .scan-meta-group {
            display: flex;
            gap: var(--space-6);
        }

        .scan-meta-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .scan-meta-label {
            color: var(--noir-silver);
            font-size: var(--text-xs);
        }

        .scan-meta-value {
            color: var(--noir-charcoal);
            font-weight: var(--weight-medium);
            font-size: var(--text-base);
        }

        .page-quick-stats {
            display: flex;
            gap: var(--space-6);
            padding-left: var(--space-6);
            border-left: 1px solid var(--blanc-mist);
        }

        .page-stat-item {
            text-align: center;
        }

        .page-stat-value {
            font-size: var(--text-xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            margin-bottom: 4px;
        }

        .page-stat-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        /* 主要内容 */
        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-5);
            min-height: 0;
            max-height: 1000px;
        }

        /* 健康仪表盘 */
        .health-dashboard {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 32px;
            margin-bottom: 40px;
        }

        .dashboard-title {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 24px;
        }

        .metrics-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 32px;
        }

        .health-metric {
            text-align: center;
        }

        .metric-value {
            font-size: 42px;
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            margin-bottom: 8px;
            line-height: 1;
        }

        .metric-label {
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .metric-success { color: var(--status-success); }
        .metric-warning { color: var(--noir-steel); }
        .metric-alert { color: var(--noir-charcoal); }

        /* Tab导航 */
        .content-tabs {
            display: flex;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
        }

        .tab-button {
            padding: var(--space-3) var(--space-6);
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-silver);
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab-button:hover {
            color: var(--noir-graphite);
            background: var(--blanc-pearl);
        }

        .tab-button.active {
            color: var(--noir-ink);
            background: var(--blanc-pure);
            border-bottom-color: var(--noir-ink);
        }

        .tab-count {
            display: inline-block;
            margin-left: 8px;
            padding: 2px 8px;
            font-size: 11px;
            font-weight: var(--weight-semibold);
            background: var(--blanc-mist);
            color: var(--noir-steel);
        }

        .tab-button.active .tab-count {
            background: var(--noir-ink);
            color: var(--blanc-pure);
        }

        /* Tab内容面板 */
        .tab-panel {
            display: none;
        }

        .tab-panel.active {
            display: block;
        }

        /* 内容区域 */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .section-title {
            font-size: var(--text-base);
            font-weight: var(--weight-medium);
            color: var(--noir-ink);
        }

        .expand-button {
            padding: 8px 20px;
            font-size: var(--text-sm);
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .expand-button:hover {
            background: var(--blanc-pearl);
        }

        /* 功能模块卡片 */
        .feature-module {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            margin-bottom: 16px;
            transition: all 0.3s ease;
        }

        .feature-module:hover {
            box-shadow: var(--shadow-sm);
        }

        .module-header-content {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 20px;
        }

        .module-title-text {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 12px;
        }

        .completeness-bar {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .progress-bar {
            width: 140px;
            height: 6px;
            background: var(--blanc-mist);
            position: relative;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--noir-ink);
            transition: width 0.6s ease;
        }

        .module-meta {
            display: flex;
            gap: 24px;
            font-size: var(--text-sm);
            color: var(--noir-steel);
            margin-top: 12px;
        }

        .module-features {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--blanc-mist);
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 12px;
            font-size: var(--text-sm);
            color: var(--noir-graphite);
        }

        .feature-check {
            width: 16px;
            height: 16px;
            border: 2px solid var(--noir-ink);
            background: var(--noir-ink);
            flex-shrink: 0;
        }

        .feature-percentage {
            margin-left: auto;
            color: var(--noir-silver);
            font-family: var(--font-mono);
            font-size: var(--text-xs);
        }

        /* 问题卡片 */
        .issue-card {
            background: var(--blanc-snow);
            border-left: 3px solid var(--noir-charcoal);
            padding: 24px;
            margin-bottom: 16px;
            transition: all 0.3s ease;
        }

        .issue-card:hover {
            box-shadow: var(--shadow-sm);
        }

        .issue-card.p0 {
            border-left-color: var(--noir-ink);
            background: var(--blanc-snow);
        }

        .issue-card.p1 {
            border-left-color: var(--noir-charcoal);
        }

        .issue-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 20px;
        }

        .issue-title {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 8px;
        }

        .issue-priority {
            padding: 6px 16px;
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
            white-space: nowrap;
        }

        .issue-priority.p0 {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .issue-details {
            margin: 20px 0;
        }

        .issue-detail-row {
            display: flex;
            gap: 16px;
            margin-bottom: 12px;
            font-size: var(--text-sm);
        }

        .detail-label {
            color: var(--noir-silver);
            min-width: 80px;
            flex-shrink: 0;
        }

        .detail-value {
            color: var(--noir-graphite);
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            line-height: var(--leading-relaxed);
        }

        .issue-actions {
            display: flex;
            gap: 12px;
            margin-top: 24px;
        }

        .view-code-button {
            padding: 10px 20px;
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
            font-size: var(--text-sm);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .view-code-button:hover {
            background: var(--blanc-pearl);
        }

        .generate-task-button {
            padding: 10px 20px;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border: none;
            font-size: var(--text-sm);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .generate-task-button:hover {
            background: var(--noir-charcoal);
        }

        /* 架构师建议卡片 */
        .recommendation-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 32px;
            margin-bottom: 24px;
            position: relative;
            transition: all 0.3s ease;
        }

        .recommendation-card:hover {
            box-shadow: var(--shadow-md);
            transform: translateY(-2px);
        }

        .recommendation-header {
            margin-bottom: 24px;
        }

        .recommendation-id {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            font-family: var(--font-mono);
            margin-bottom: 12px;
        }

        .recommendation-title {
            font-size: var(--text-xl);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 16px;
        }

        .rec-section {
            margin-bottom: 24px;
        }

        .rec-section-label {
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
            margin-bottom: 12px;
        }

        .rec-section-content {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
        }

        .recommendation-metrics {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            margin: 32px 0;
            padding: 24px;
            background: var(--blanc-pearl);
        }

        .metric-item {
            text-align: center;
        }

        .metric-item-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            margin-bottom: 8px;
        }

        .metric-item-value {
            font-size: var(--text-xl);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
        }

        .adopt-button {
            width: 100%;
            padding: 18px 32px;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border: none;
            font-size: var(--text-base);
            font-weight: var(--weight-medium);
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 32px;
        }

        .adopt-button:hover {
            background: var(--noir-charcoal);
        }

        .adopt-button:active {
            transform: scale(0.98);
        }

        .adopt-button.adopted {
            background: var(--blanc-mist);
            color: var(--noir-steel);
            cursor: not-allowed;
        }

        .adopted-badge {
            position: absolute;
            top: 32px;
            right: 32px;
            padding: 6px 16px;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
        }

        /* 空状态 */
        .empty-state {
            text-align: center;
            padding: 80px 40px;
            color: var(--noir-silver);
        }

        .empty-state-title {
            font-size: var(--text-lg);
            font-weight: var(--weight-medium);
            color: var(--noir-steel);
            margin-bottom: 12px;
        }

        .empty-state-description {
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        /* Toast动画 */
        @keyframes slideIn {
            from { transform: translateX(400px); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes slideOut {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(400px); opacity: 0; }
        }

        /* ==================== 待开发任务模块（三层标头设计） ==================== */
        /* ==================== 继承架构师模块的设计系统 ==================== */
        :root {
            --blanc-pure: #FFFFFF;
            --blanc-snow: #FAFBFC;
            --blanc-pearl: #F6F8FA;
            --blanc-silk: #F0F3F5;
            --blanc-mist: #E8ECEF;
            --blanc-cloud: #DFE4E8;
            --noir-ink: #0A0F14;
            --noir-charcoal: #1A2027;
            --noir-graphite: #2E3742;
            --noir-steel: #495057;
            --noir-silver: #6C757D;
            --noir-ash: #8B95A1;
            --status-success: #4A7C59;
            --status-warning: #A67C52;
            --status-error: #7C4A52;
            --status-info: #527C9A;
            --shadow-xs: 0 1px 3px rgba(0, 0, 0, 0.04);
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.08);
            --font-primary: 'SF Pro Display', 'Helvetica Neue', -apple-system, system-ui, sans-serif;
            --font-secondary: 'Playfair Display', Georgia, serif;
            --font-mono: 'SF Mono', Monaco, monospace;
            --text-xs: 12px;
            --text-sm: 14px;
            --text-base: 16px;
            --text-lg: 18px;
            --text-xl: 21px;
            --text-2xl: 28px;
            --weight-light: 300;
            --weight-regular: 400;
            --weight-medium: 500;
            --weight-semibold: 600;
            --leading-tight: 1.2;
            --leading-normal: 1.5;
            --leading-relaxed: 1.75;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-primary);
            background: var(--blanc-pearl);
            color: var(--noir-graphite);
            line-height: var(--leading-normal);
            padding: 40px;
        }

        .pending-features-module {
            max-width: 1600px;
            margin: 0 auto;
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            height: calc(100vh - 80px);
            display: flex;
            flex-direction: column;
        }

        /* ==================== 三层标头设计（完全对齐全栈工程师工作台） ==================== */
        .pending-features-module .module-header {
            display: flex;
            flex-direction: column;
            background: var(--blanc-pure);
        }

        /* 第0层：模块分类标题 */
        .pending-features-module .module-category {
            padding: 24px 40px 20px 40px;
            border-bottom: 1px solid var(--blanc-mist);
            width: 100%;
        }

        .pending-features-module .category-title {
            font-size: var(--text-xl);
            font-weight: var(--weight-regular);
            color: var(--noir-graphite);
            letter-spacing: -0.01em;
        }

        /* 第1层：身份信息卡片 */
        .pending-features-module .header-identity {
            padding: 24px 40px;
            background: var(--blanc-pure);
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            border-bottom: 1px solid var(--blanc-mist);
            width: 100%;  /* ✅ 确保占满宽度 */
        }

        .pending-features-module .identity-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .pending-features-module .module-avatar {
            width: 64px;
            height: 64px;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: var(--weight-semibold);
            flex-shrink: 0;
        }

        .pending-features-module .module-info {
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .pending-features-module .module-title {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            line-height: 1.2;
            margin: 0;
            letter-spacing: -0.01em;
        }

        .pending-features-module .module-meta {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .pending-features-module .meta-separator {
            color: var(--blanc-cloud);
        }

        .pending-features-module .sync-indicator {
            width: 6px;
            height: 6px;
            background: var(--status-success);
            border-radius: 50%;
            animation: pulse-green 2s ease-in-out infinite;
        }

        @keyframes pulse-green {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(0.85); }
        }

        /* 右侧统计数据 */
        .pending-features-module .identity-right {
            display: flex;
            align-items: flex-start;  /* ✅ 改为flex-start，与左侧对齐 */
            gap: 48px;
        }

        .pending-features-module .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 4px;
        }

        .pending-features-module .stat-value {
            font-size: 28px;
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            line-height: 1;
            letter-spacing: -0.02em;
        }

        .pending-features-module .stat-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            font-weight: var(--weight-regular);
            line-height: 1;
            white-space: nowrap;
        }

        .pending-features-module .stat-item.highlight .stat-value {
            color: var(--status-error);
        }

        /* ==================== Tab导航 ==================== */
        .pending-features-module .tab-navigation {
            display: flex;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
        }

        .pending-features-module .tab-item {
            padding: 16px 32px;
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-silver);
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .pending-features-module .tab-item:hover {
            color: var(--noir-graphite);
            background: var(--blanc-pearl);
        }

        .pending-features-module .tab-item.active {
            color: var(--noir-ink);
            background: var(--blanc-pure);
            border-bottom-color: var(--noir-ink);
        }

        .pending-features-module .tab-badge {
            display: inline-block;
            margin-left: 8px;
            padding: 2px 8px;
            font-size: 11px;
            font-weight: var(--weight-semibold);
            background: var(--blanc-mist);
            color: var(--noir-steel);
            border-radius: 2px;
        }

        .pending-features-module .tab-item.active .tab-badge {
            background: var(--noir-ink);
            color: var(--blanc-pure);
        }

        /* ==================== Tab内容 ==================== */
        .pending-features-module .tab-content-wrapper {
            flex: 1;
            overflow: hidden;
        }

        .pending-features-module .tab-pane {
            display: none;
            height: 750px;  /* ✅ 固定高度，不是100% */
        }

        .pending-features-module .tab-pane.active {
            display: flex;           /* ✅ flex布局，不是block */
            flex-direction: column;
            min-height: 0;           /* ✅ 关键：允许收缩 */
        }

        /* ==================== 任务卡片 ==================== */
        .pending-features-module .task-grid {
            flex: 1;              /* ✅ 占满剩余空间 */
            overflow-y: auto;     /* ✅ 滚动条在这里 */
            padding: 40px;
            min-height: 0;        /* ✅ 关键：允许收缩 */
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(480px, 1fr));
            gap: 24px;
        }

        .pending-features-module .task-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            transition: all 0.3s ease;
            position: relative;
        }

        .pending-features-module .task-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateY(-4px);
        }

        .pending-features-module .task-card.high-priority {
            border-left: 3px solid var(--status-error);
        }

        .pending-features-module .task-card.medium-priority {
            border-left: 3px solid var(--status-warning);
        }

        .pending-features-module .task-card.low-priority {
            border-left: 3px solid var(--status-info);
        }

        .pending-features-module .task-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 16px;
        }

        .pending-features-module .task-id {
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            color: var(--noir-silver);
            margin-bottom: 8px;
        }

        .pending-features-module .task-title {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 8px;
        }

        .pending-features-module .task-source {
            display: inline-block;
            padding: 4px 12px;
            font-size: 11px;
            font-weight: var(--weight-medium);
            border-radius: 2px;
        }

        .pending-features-module .task-source.user {
            background: var(--status-info);
            color: var(--blanc-pure);
        }

        .pending-features-module .task-source.architect {
            background: var(--noir-ink);
            color: var(--blanc-pure);
        }

        .pending-features-module .task-description {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
            margin: 16px 0;
        }

        .pending-features-module .task-requirements {
            background: var(--blanc-pearl);
            border-left: 2px solid var(--noir-ink);
            padding: 12px 16px;
            margin: 16px 0;
        }

        .pending-features-module .task-requirements-title {
            font-size: var(--text-xs);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .pending-features-module .task-requirements-list {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
            padding-left: 16px;
        }

        .pending-features-module .task-requirements-list li {
            margin-bottom: 4px;
        }

        .pending-features-module .task-meta {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            padding-top: 16px;
            border-top: 1px solid var(--blanc-mist);
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .pending-features-module .task-meta-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .pending-features-module .task-meta-label {
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .pending-features-module .task-meta-value {
            color: var(--noir-steel);
        }

        .pending-features-module .task-priority {
            display: inline-block;
            padding: 4px 12px;
            font-size: 11px;
            font-weight: var(--weight-medium);
            border-radius: 2px;
        }

        .pending-features-module .task-priority.high {
            background: var(--status-error);
            color: var(--blanc-pure);
        }

        .pending-features-module .task-priority.medium {
            background: var(--status-warning);
            color: var(--blanc-pure);
        }

        .pending-features-module .task-priority.low {
            background: var(--status-info);
            color: var(--blanc-pure);
        }

        .pending-features-module .task-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }

        .pending-features-module .task-tag {
            padding: 4px 12px;
            font-size: 11px;
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
            border-radius: 2px;
        }

        /* ==================== 架构师审查信息 ==================== */
        .pending-features-module .review-info {
            background: var(--blanc-pearl);
            border-left: 2px solid var(--status-warning);
            padding: 12px 16px;
            margin: 16px 0;
        }

        .pending-features-module .review-info-title {
            font-size: var(--text-xs);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .pending-features-module .review-info-content {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
        }

        /* ==================== 用户决策区 ==================== */
        .pending-features-module .user-decision-area {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-cloud);
            padding: 16px 20px;
            margin-top: 16px;
        }

        .pending-features-module .decision-title {
            font-size: var(--text-xs);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 12px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .pending-features-module .decision-buttons {
            display: flex;
            gap: 12px;
        }

        .pending-features-module .decision-button {
            flex: 1;
            padding: 10px 20px;
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 2px;
        }

        .pending-features-module .decision-button:hover {
            background: var(--blanc-pearl);
        }

        .pending-features-module .decision-button.accept {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .pending-features-module .decision-button.accept:hover {
            background: var(--noir-charcoal);
        }

        .pending-features-module .decision-button.reject {
            border-color: var(--status-error);
            color: var(--status-error);
        }

        .pending-features-module .decision-button.reject:hover {
            background: var(--status-error);
            color: var(--blanc-pure);
        }

        /* ==================== 架构师状态 ==================== */
        .pending-features-module .architect-status {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 16px;
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
            margin-top: 16px;
            border-radius: 2px;
        }

        .pending-features-module .architect-status.processing {
            background: var(--status-info);
            color: var(--blanc-pure);
        }

        .pending-features-module .architect-status.completed {
            background: var(--status-success);
            color: var(--blanc-pure);
        }

        .pending-features-module .architect-status.pending {
            background: var(--blanc-mist);
            color: var(--noir-steel);
        }

        .pending-features-module .status-icon {
            width: 12px;
            height: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
        }

        /* ==================== 滚动条 ==================== */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--blanc-pearl);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--blanc-cloud);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--noir-silver);
        }

        /* ==================== 响应式 ==================== */
        @media (max-width: 1200px) {
            .task-grid {
                grid-template-columns: 1fr;
            }

            .identity-right {
                gap: 32px;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 0;
            }

            .pending-features-module {
                height: 100vh;
            }

            .module-category {
                padding: 20px 24px 16px 24px;
            }

            .category-title {
                font-size: var(--text-lg);
            }

            .header-identity {
                padding: 20px 24px;
                flex-direction: column;
                align-items: flex-start;
                gap: 20px;
            }

            .identity-left {
                width: 100%;
            }

            .module-avatar {
                width: 48px;
                height: 48px;
                font-size: 18px;
            }

            .module-title {
                font-size: var(--text-base);
            }

            .identity-right {
                width: 100%;
                gap: 24px;
            }

            .stat-value {
                font-size: 24px;
            }

            .tab-item {
                padding: 12px 16px;
            }

            .tab-pane {
                padding: 24px;
            }

            .task-meta {
                grid-template-columns: 1fr;
            }

            .decision-buttons {
                flex-direction: column;
            }
        }
        .architect-module {
            max-width: 1600px;
            margin: 64px auto 48px auto;
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            display: flex;
            flex-direction: column;
        }

        .architect-module-header {
            padding: var(--space-5) var(--space-6);
            border-bottom: 1px solid var(--blanc-mist);
        }

        .architect-header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
        }

        .architect-module-title {
            font-family: var(--font-secondary);
            font-size: var(--text-2xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            letter-spacing: -0.02em;
        }

        .architect-status-badge {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            padding: 6px 16px;
            border: 1px solid var(--noir-silver);
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
            border-radius: 0;
        }

        .architect-status-dot {
            width: 6px;
            height: 6px;
            background: #4A7C59;
            animation: pulse-green 2s ease-in-out infinite;
        }

        @keyframes pulse-green {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(0.9); }
        }

        .architect-info-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;  /* 左右对齐 */
            gap: var(--space-4);
            padding: var(--space-4);
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
        }

        .architect-info-section {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            flex: 0;  /* 不占用额外空间 */
        }

        .architect-avatar {
            width: 48px;
            height: 48px;
            flex-shrink: 0;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-base);
            font-weight: var(--weight-medium);
            border-radius: 0;
        }

        .architect-details {
            flex: 1;
        }

        .architect-name {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 4px;
        }

        .architect-meta {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .architect-quick-stats {
            display: flex;
            gap: var(--space-6);
            /* 去掉左边框和padding，因为右对齐 */
        }

        .architect-stat-item {
            text-align: center;
        }

        .architect-stat-value {
            font-size: var(--text-xl);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 4px;
        }

        .architect-stat-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .architect-tab-navigation {
            display: flex;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
        }

        .architect-tab-item {
            padding: var(--space-3) var(--space-6);
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-silver);
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .architect-tab-item:hover {
            color: var(--noir-graphite);
            background: var(--blanc-pearl);
        }

        .architect-tab-item.active {
            color: var(--noir-ink);
            background: var(--blanc-pure);
            border-bottom-color: var(--noir-ink);
        }

        .architect-tab-badge {
            display: inline-block;
            margin-left: var(--space-2);
            padding: 2px 8px;
            font-size: 11px;
            font-weight: var(--weight-semibold);
            background: var(--blanc-mist);
            color: var(--noir-steel);
            border-radius: 0;
        }

        .architect-tab-item.active .architect-tab-badge {
            background: var(--noir-ink);
            color: var(--blanc-pure);
        }

        .architect-tab-content-wrapper {
            flex: 1;
            overflow: hidden;
        }

        .architect-tab-pane {
            display: none;
            height: 700px;  /* 增加高度从500px到700px */
        }

        .architect-tab-pane.active {
            display: flex;
        }

        /* 事件时间轴 */
        .architect-event-timeline {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-6);
        }

        .architect-timeline-filters {
            display: flex;
            gap: var(--space-2);
            margin-bottom: var(--space-6);
            padding-bottom: var(--space-4);
            border-bottom: 1px solid var(--blanc-mist);
        }

        .architect-filter-chip {
            padding: 6px 16px;
            font-size: var(--text-sm);
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 0;
        }

        .architect-filter-chip:hover {
            border-color: var(--noir-steel);
        }

        .architect-filter-chip.active {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .architect-timeline-item {
            position: relative;
            padding-left: 40px;
            padding-bottom: var(--space-6);
        }

        .architect-timeline-item::before {
            content: '';
            position: absolute;
            left: 11px;
            top: 24px;
            bottom: 0;
            width: 1px;
            background: var(--blanc-mist);
        }

        .architect-timeline-item:last-child::before {
            display: none;
        }

        .architect-timeline-marker {
            position: absolute;
            left: 0;
            top: 0;
            width: 24px;
            height: 24px;
            border: 2px solid var(--noir-ink);
            background: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0;
        }

        .architect-event-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: var(--space-4);
            transition: all 0.3s ease;
            border-radius: 0;
        }

        .architect-event-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }

        .architect-event-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: var(--space-2);
        }

        .architect-event-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 6px;
        }

        .architect-event-meta {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .architect-event-time {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            white-space: nowrap;
        }

        .architect-event-description {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
            margin-top: var(--space-2);
        }

        .architect-event-tags {
            display: flex;
            gap: var(--space-2);
            margin-top: var(--space-3);
        }

        .architect-event-tag {
            padding: 4px 12px;
            font-size: 11px;
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
            border-radius: 0;
        }

        /* 提示词面板 */
        .architect-prompt-panel {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-6);
        }

        .architect-prompt-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .architect-prompt-header {
            margin-bottom: var(--space-6);
            padding-bottom: var(--space-4);
            border-bottom: 1px solid var(--blanc-mist);
        }

        .architect-prompt-title {
            font-size: var(--text-xl);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: var(--space-2);
        }

        .architect-prompt-meta {
            display: flex;
            gap: var(--space-4);
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .architect-prompt-content {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: var(--space-6);
            margin-bottom: var(--space-4);
            border-radius: 0;
        }

        .architect-prompt-text {
            font-family: var(--font-mono);
            font-size: var(--text-sm);
            line-height: var(--leading-relaxed);
            color: var(--noir-graphite);
            white-space: pre-wrap;
            max-height: 600px;
            overflow-y: auto;
        }

        .architect-copy-button {
            width: 100%;
            padding: var(--space-3) var(--space-6);
            font-size: var(--text-base);
            font-weight: var(--weight-medium);
            color: var(--blanc-pure);
            background: var(--noir-ink);
            border: none;
            cursor: pointer;
            transition: all 0.3s ease;
            border-radius: 0;
        }

        .architect-copy-button:hover {
            background: var(--noir-charcoal);
        }

        .architect-copy-button:active {
            transform: scale(0.98);
        }

        /* 对话布局 */
        .architect-conversation-layout {
            flex: 1;  /* ✅ 改为flex，对标事件流 */
            overflow-y: auto;  /* ✅ 滚动条在这里，最右边 */
            min-height: 0;  /* ✅ 关键：允许收缩 */
            display: flex;
        }

        .architect-conversation-list {
            width: 380px;
            border-right: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
            display: flex;
            flex-direction: column;
        }

        .architect-conversation-search {
            padding: var(--space-4);
            border-bottom: 1px solid var(--blanc-mist);
        }

        .architect-search-input {
            width: 100%;
            padding: var(--space-2) var(--space-3);
            border: 1px solid var(--blanc-cloud);
            font-size: var(--text-sm);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
            border-radius: 0;
        }

        .architect-search-input:focus {
            outline: none;
            border-color: var(--noir-silver);
        }

        .architect-conversation-items {
            flex: 1;
            overflow-y: auto;
        }

        .architect-conversation-item {
            padding: var(--space-4);
            border-bottom: 1px solid var(--blanc-mist);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .architect-conversation-item:hover {
            background: var(--blanc-pearl);
        }

        .architect-conversation-item.active {
            background: var(--blanc-pure);
            border-left: 2px solid var(--noir-ink);
        }

        .architect-conversation-item-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: var(--space-2);
        }

        .architect-conversation-item-title {
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .architect-conversation-item-time {
            font-size: 11px;
            color: var(--noir-silver);
        }

        .architect-conversation-item-preview {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            margin-bottom: var(--space-2);
        }

        .architect-conversation-item-meta {
            display: flex;
            gap: var(--space-3);
            font-size: 11px;
            color: var(--noir-silver);
        }

        .architect-conversation-detail {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--blanc-pure);
        }

        .architect-detail-header {
            padding: var(--space-4) var(--space-6);
            border-bottom: 1px solid var(--blanc-mist);
        }

        .architect-detail-title {
            font-size: var(--text-xl);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: var(--space-2);
        }

        .architect-detail-meta {
            display: flex;
            gap: var(--space-4);
            font-size: var(--text-sm);
            color: var(--noir-steel);
        }

        .architect-messages-container {
            flex: 1;
            overflow-y: auto;
            padding: var(--space-6);
        }

        .architect-message {
            display: flex;
            gap: var(--space-3);
            margin-bottom: var(--space-6);
        }

        .architect-message-avatar {
            width: 40px;
            height: 40px;
            flex-shrink: 0;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            border-radius: 0;
        }

        .architect-message-avatar.user {
            background: var(--noir-graphite);
        }

        .architect-message-content {
            flex: 1;
        }

        .architect-message-header {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            margin-bottom: var(--space-2);
        }

        .architect-message-sender {
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .architect-message-time {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .architect-message-text {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
            padding: var(--space-3) var(--space-4);
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            border-radius: 0;
        }

        .architect-message-text pre {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            padding: var(--space-3);
            margin: var(--space-3) 0;
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            overflow-x: auto;
            border-radius: 0;
        }

        .architect-message-text strong {
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .architect-empty-state {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: var(--space-8);
            text-align: center;
        }

        .architect-empty-title {
            font-size: var(--text-lg);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
            margin-bottom: var(--space-2);
        }

        .architect-empty-description {
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        /* ==================== 全栈工程师模块 ==================== */

        /* ==================== 全栈工程师工作台（完整版） ==================== */
        /* ==================== 白色奢华美学系统（严格遵循架构师工作台） ==================== */
        :root {
            /* 白色光谱 */
            --blanc-pure: #FFFFFF;
            --blanc-snow: #FAFBFC;
            --blanc-pearl: #F6F8FA;
            --blanc-silk: #F0F3F5;
            --blanc-mist: #E8ECEF;
            --blanc-cloud: #DFE4E8;

            /* 黑色层次 */
            --noir-ink: #0A0F14;
            --noir-charcoal: #1A2027;
            --noir-graphite: #2E3742;
            --noir-steel: #495057;
            --noir-silver: #6C757D;
            --noir-ash: #8B95A1;

            /* 阴影 */
            --shadow-xs: 0 1px 3px rgba(0, 0, 0, 0.04);
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.08);

            /* 字体系统 */
            --font-primary: 'SF Pro Display', 'Helvetica Neue', -apple-system, system-ui, sans-serif;
            --font-secondary: 'Playfair Display', Georgia, serif;
            --font-mono: 'SF Mono', Monaco, monospace;

            /* 字号 */
            --text-xs: 12px;
            --text-sm: 14px;
            --text-base: 16px;
            --text-lg: 18px;
            --text-xl: 21px;
            --text-2xl: 28px;

            /* 字重 */
            --weight-light: 300;
            --weight-regular: 400;
            --weight-medium: 500;
            --weight-semibold: 600;

            /* 行高 */
            --leading-tight: 1.2;
            --leading-normal: 1.5;
            --leading-relaxed: 1.75;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-primary);
            background: var(--blanc-pearl);
            color: var(--noir-graphite);
            line-height: var(--leading-normal);
            padding: 40px;
        }

        .engineer-module {
            max-width: 1600px;
            margin: 0 auto;
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            height: calc(100vh - 80px);
            display: flex;
            flex-direction: column;
        }

        /* ==================== 模块头部 ==================== */
        .engineer-module .module-header {
            padding: 32px 40px;
            border-bottom: 1px solid var(--blanc-mist);
            display: block;  /* ✅ 关键！确保子元素垂直排列 */
        }

        .engineer-module .header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .engineer-module .module-title {
            font-family: var(--font-secondary);
            font-size: var(--text-2xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            letter-spacing: -0.02em;
        }

        .engineer-module .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 16px;
            border: 1px solid var(--noir-silver);
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
        }

        .engineer-module .status-dot {
            width: 6px;
            height: 6px;
            background: #4A7C59;
            animation: pulse-green 2s ease-in-out infinite;
        }

        @keyframes pulse-green {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(0.9); }
        }

        .engineer-module .engineer-info {
            display: flex;
            align-items: center;
            gap: 24px;
            padding: 20px;
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
        }

        .engineer-module .info-section {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .engineer-module .engineer-avatar {
            width: 48px;
            height: 48px;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-base);
            font-weight: var(--weight-medium);
        }

        .engineer-module .engineer-details {
            flex: 1;
        }

        .engineer-module .engineer-name {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 4px;
        }

        .engineer-module .engineer-meta {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .engineer-module .quick-stats {
            display: flex;
            gap: 32px;
            padding-left: 32px;
            border-left: 1px solid var(--blanc-mist);
        }

        .engineer-module .stat-item {
            text-align: center;
        }

        .engineer-module .stat-value {
            font-size: var(--text-xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            margin-bottom: 4px;
        }

        .engineer-module .stat-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        /* ==================== Tab导航 ==================== */
        .engineer-module .tab-navigation {
            display: flex;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
        }

        .engineer-module .tab-item {
            padding: 16px 32px;
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-silver);
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .engineer-module .tab-item:hover {
            color: var(--noir-graphite);
            background: var(--blanc-pearl);
        }

        .engineer-module .tab-item.active {
            color: var(--noir-ink);
            background: var(--blanc-pure);
            border-bottom-color: var(--noir-ink);
        }

        .engineer-module .tab-badge {
            display: inline-block;
            margin-left: 8px;
            padding: 2px 8px;
            font-size: 11px;
            font-weight: var(--weight-semibold);
            background: var(--blanc-mist);
            color: var(--noir-steel);
        }

        .engineer-module .tab-item.active .tab-badge {
            background: var(--noir-ink);
            color: var(--blanc-pure);
        }

        /* ==================== Tab内容 ==================== */
        .engineer-module .tab-content-wrapper {
            flex: 1;
            overflow: hidden;
        }

        .engineer-module .tab-pane {
            display: none;
            height: 1800px;  /* ✅ 增加高度到1800px，可显示5+个任务 */
        }

        .engineer-module .tab-pane.active {
            display: flex;
            flex-direction: column;
            height: 1800px;  /* ✅ 固定高度1800px */
            overflow: hidden;
        }

        /* ==================== 事件流（与架构师工作台完全一致） ==================== */
        .engineer-module .event-timeline {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
        }

        .engineer-module .timeline-filters {
            display: flex;
            gap: 12px;
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .engineer-module .filter-chip {
            padding: 8px 16px;
            font-size: var(--text-sm);
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .engineer-module .filter-chip:hover {
            border-color: var(--noir-steel);
        }

        .engineer-module .filter-chip.active {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .engineer-module .timeline-item {
            position: relative;
            padding-left: 40px;
            padding-bottom: 32px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 11px;
            top: 24px;
            bottom: 0;
            width: 1px;
            background: var(--blanc-mist);
        }

        .timeline-item:last-child::before {
            display: none;
        }

        .engineer-module .timeline-marker {
            position: absolute;
            left: 0;
            top: 0;
            width: 24px;
            height: 24px;
            border: 2px solid var(--noir-ink);
            background: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .engineer-module .event-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            transition: all 0.3s ease;
        }

        .engineer-module .event-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }

        .engineer-module .event-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 12px;
        }

        .engineer-module .event-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 6px;
        }

        .engineer-module .event-meta {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .engineer-module .event-time {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            white-space: nowrap;
        }

        .engineer-module .event-description {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
            margin-top: 12px;
        }

        .engineer-module .event-tags {
            display: flex;
            gap: 8px;
            margin-top: 16px;
        }

        .engineer-module .event-tag {
            padding: 4px 12px;
            font-size: 11px;
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
        }

        /* ==================== 任务看板（优化为3列） ==================== */
        /* 任务看板容器 */
        .engineer-module .task-board-container {
            height: 100%;  /* ✅ 使用父容器完整高度 */
            overflow: hidden;
            padding: 0;
            display: flex;
            flex-direction: column;
        }

        .engineer-module .task-board-header {
            padding: 24px 40px;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
            flex-shrink: 0;
        }

        /* 任务列表容器（替代3列看板） - 优化滚动条位置 */
        .engineer-module .task-list-container {
            overflow-y: auto;
            overflow-x: hidden;
            padding: 40px 0 160px 40px;
            height: 1600px;  /* ✅ 固定高度1600px，参考架构师模块（可显示5-6个任务） */
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            box-sizing: border-box;  /* ✅ 确保padding计算正确 */
            -webkit-overflow-scrolling: touch;  /* ✅ iOS平滑滚动 */
        }

        /* 任务卡片容器 - 添加右侧边距 */
        .engineer-module .task-list-container > .task-card {
            max-width: 100%;
            margin-right: 40px;  /* 卡片右侧边距，确保内容不贴边 */
            margin-bottom: 0;  /* ✅ 确保卡片之间没有额外底部边距 */
        }

        .engineer-module .filter-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .engineer-module .filter-chips {
            display: flex;
            gap: 12px;
        }

        .engineer-module .sort-select {
            padding: 8px 16px;
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .engineer-module .sort-select:hover {
            border-color: var(--noir-steel);
        }

        .engineer-module .sort-select:focus {
            outline: none;
            border-color: var(--noir-ink);
        }

        .engineer-module .kanban-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            padding: 40px;
            flex: 1;
            overflow-y: auto;
        }

        .engineer-module .kanban-column {
            background: var(--blanc-pearl);
            border: 1px solid var(--blanc-mist);
            display: flex;
            flex-direction: column;
            min-height: 400px;
        }

        .engineer-module .column-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
        }

        .engineer-module .column-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .engineer-module .column-count {
            padding: 2px 10px;
            font-size: 11px;
            font-family: var(--font-mono);
            background: var(--blanc-mist);
            color: var(--noir-steel);
        }

        .engineer-module .column-cards {
            padding: 24px;
            overflow-y: auto;
            flex: 1;
        }

        /* ==================== 任务卡片 ==================== */
        .engineer-module .task-card {
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .engineer-module .task-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }

        .engineer-module .task-card-header {
            margin-bottom: 12px;
        }

        .engineer-module .task-id {
            display: inline-block;
            padding: 4px 12px;
            font-size: 11px;
            font-family: var(--font-mono);
            background: var(--noir-ink);
            color: var(--blanc-pure);
            margin-bottom: 8px;
        }

        .engineer-module .task-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 8px;
        }

        .engineer-module .task-status-badge {
            display: inline-block;
            padding: 4px 12px;
            font-size: 11px;
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
            background: var(--blanc-pearl);
            white-space: nowrap;  /* ✅ 禁止换行 */
            flex-shrink: 0;  /* ✅ 不允许收缩 */
        }

        .engineer-module .task-status-badge.parallel {
            background: var(--noir-graphite);
            color: var(--blanc-pure);
            border-color: var(--noir-graphite);
        }

        .engineer-module .task-description {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
            margin: 12px 0;
        }

        .engineer-module .task-meta {
            display: block;
            justify-content: space-between;
            align-items: center;
            margin: 16px 0 0 0;
            padding-top: 16px;
            border-top: 1px solid var(--blanc-mist);
            font-size: var(--text-xs);
            color: var(--noir-silver);
            flex-wrap: nowrap;  /* ✅ 禁止换行 */
            gap: 12px;
            min-height: 32px;  /* ✅ 最小高度 */
            width: 100%;  /* ✅ 确保容器占满宽度 */
            overflow: hidden;  /* ✅ 防止内容溢出 */
        }

        .engineer-module .task-meta-left {
            display: flex;
            align-items: center;
            gap: 12px;
            flex: 1;  /* ✅ 恢复flex: 1 */
            min-width: 0;  /* ✅ 关键：允许flex子项收缩 */
            flex-shrink: 1;  /* ✅ 允许收缩 */
            white-space: nowrap;  /* ✅ 禁止换行 */
            overflow: hidden;  /* ✅ 防止内容溢出 */
            width: 50%;
            float: left;
            justify-content: left;
        }

        .engineer-module .task-meta-right {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-shrink: 0;  /* ✅ 不允许收缩，保证标签完整显示 */
            white-space: nowrap;  /* ✅ 禁止换行 */
            width: 50%;
            float: left;
            justify-content: right;
        }

        .engineer-module .task-estimate {
            font-family: var(--font-mono);
        }

        .engineer-module .task-status-indicator {
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 4px 10px;
            font-size: 11px;
            background: var(--blanc-pearl);
            color: var(--noir-graphite);
            white-space: nowrap;  /* ✅ 禁止文本换行 */
            flex-shrink: 1;  /* ✅ 允许收缩以适应一行显示 */
            min-width: 0;  /* ✅ 允许收缩到最小 */
        }

        /* ✅ 确保task-meta-left的子元素不换行 */
        .engineer-module .task-meta-left > span {
            white-space: nowrap;
            flex-shrink: 1;  /* ✅ 允许收缩以适应一行显示 */
            min-width: 0;  /* ✅ 允许收缩到最小 */
        }

        .engineer-module .status-dot-small {
            width: 4px;
            height: 4px;
            background: var(--noir-silver);
        }

        .engineer-module .status-dot-small.pending {
            background: var(--noir-silver);
        }

        .engineer-module .status-dot-small.in-progress {
            background: var(--noir-ink);
            animation: pulse-dark 2s ease-in-out infinite;
        }

        @keyframes pulse-dark {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.4; }
        }

        .engineer-module .priority-badge {
            padding: 4px 10px;
            font-size: 11px;
            font-family: var(--font-mono);
            white-space: nowrap;  /* ✅ 禁止换行 */
            flex-shrink: 0;  /* ✅ 不允许收缩 */
        }

        .engineer-module .priority-badge.p0 {
            background: var(--noir-ink);
            color: var(--blanc-pure);
        }

        .engineer-module .priority-badge.p1 {
            background: var(--noir-graphite);
            color: var(--blanc-pure);
        }

        .engineer-module .priority-badge.p2 {
            border: 1px solid var(--noir-steel);
            color: var(--noir-steel);
        }

        .engineer-module .task-actions {
            display: flex;
            gap: 12px;
            margin-top: 16px;
        }

        .engineer-module .task-action-button {
            flex: 1;
            padding: 8px 16px;
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .engineer-module .task-action-button:hover {
            background: var(--blanc-pearl);
        }

        .engineer-module .task-action-button.primary {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .engineer-module .task-action-button.primary:hover {
            background: var(--noir-charcoal);
        }

        /* ==================== 代码审查时间线 ==================== */
        .engineer-module .code-review-container {
            flex: 1;  /* ✅ 改为flex */
            overflow-y: auto;  /* ✅ 滚动在这里 */
            padding: 40px 40px 40px 80px;  /* ✅ 直接在容器上 */
            min-height: 0;  /* ✅ 关键 */
        }

        .engineer-module .code-review-timeline {
            /* ✅ 改为普通容器，滚动移到父级 */
        }

        .code-review-timeline::before {
            content: '';
            position: absolute;
            left: 40px;
            top: 80px;
            bottom: 0;
            width: 2px;
            background: var(--blanc-mist);
        }

        .engineer-module .review-filters {
            display: flex;
            gap: 12px;
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .engineer-module .review-item {
            position: relative;
            margin-bottom: 48px;
        }

        .engineer-module .review-marker {
            position: absolute;
            left: -48px;
            top: 0;
            width: 16px;
            height: 16px;
            border: 2px solid var(--noir-ink);
            background: var(--blanc-pure);
        }

        .engineer-module .review-marker.approved {
            background: var(--noir-ink);
        }

        .engineer-module .review-marker.pending {
            background: var(--blanc-pure);
        }

        .engineer-module .review-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            transition: all 0.3s ease;
        }

        .engineer-module .review-card:hover {
            box-shadow: var(--shadow-sm);
        }

        .engineer-module .review-card-header {
            margin-bottom: 16px;
        }

        .engineer-module .review-title {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 8px;
        }

        .engineer-module .review-meta {
            display: flex;
            gap: 16px;
            align-items: center;
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .engineer-module .review-status {
            display: inline-block;
            padding: 4px 12px;
            font-size: var(--text-xs);
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
        }

        .engineer-module .review-status.approved {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .engineer-module .review-status.pending {
            background: var(--blanc-pearl);
        }

        .engineer-module .review-content {
            margin: 24px 0;
        }

        .engineer-module .content-label {
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
            margin-bottom: 12px;
        }

        .engineer-module .content-list {
            padding-left: 20px;
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
        }

        .engineer-module .content-item {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .content-item::before {
            content: '├─';
            color: var(--noir-silver);
            font-family: var(--font-mono);
        }

        .content-item:last-child::before {
            content: '└─';
        }

        .engineer-module .review-comment {
            background: var(--blanc-pearl);
            border-left: 2px solid var(--noir-ink);
            padding: 16px 20px;
            margin: 24px 0;
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
        }

        .engineer-module .review-actions {
            display: flex;
            gap: 12px;
            margin-top: 24px;
        }

        .engineer-module .review-action-button {
            padding: 8px 16px;
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .engineer-module .review-action-button:hover {
            background: var(--blanc-pearl);
        }

        .engineer-module .review-action-button.approve {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .engineer-module .review-action-button.approve:hover {
            background: var(--noir-charcoal);
        }

        /* ==================== 技术文档库 ==================== */
        .engineer-module .docs-container {
            flex: 1;  /* ✅ 改为flex */
            overflow-y: auto;  /* ✅ 滚动条在这里 */
            min-height: 0;  /* ✅ 关键 */
            display: flex;
        }

        .engineer-module .docs-sidebar {
            width: 280px;
            border-right: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
            display: flex;
            flex-direction: column;
        }

        .engineer-module .docs-search {
            padding: 20px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .engineer-module .docs-categories {
            flex: 1;
            overflow-y: auto;
        }

        .engineer-module .category-group {
            border-bottom: 1px solid var(--blanc-mist);
        }

        .engineer-module .category-header {
            padding: 16px 20px;
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            background: var(--blanc-pearl);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .engineer-module .category-header:hover {
            background: var(--blanc-silk);
        }

        .engineer-module .category-items {
            display: none;
        }

        .engineer-module .category-items.active {
            display: block;
        }

        .engineer-module .doc-item {
            padding: 12px 20px 12px 40px;
            font-size: var(--text-sm);
            color: var(--noir-steel);
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 2px solid transparent;
        }

        .engineer-module .doc-item:hover {
            background: var(--blanc-pearl);
            color: var(--noir-graphite);
        }

        .engineer-module .doc-item.active {
            background: var(--blanc-pure);
            color: var(--noir-ink);
            border-left-color: var(--noir-ink);
        }

        .engineer-module .docs-content {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
        }

        .engineer-module .doc-header {
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .engineer-module .doc-title {
            font-family: var(--font-secondary);
            font-size: var(--text-2xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            margin-bottom: 12px;
        }

        .engineer-module .doc-meta {
            display: flex;
            gap: 24px;
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .engineer-module .doc-body {
            max-width: 800px;
        }

        .engineer-module .doc-section {
            margin-bottom: 32px;
        }

        .engineer-module .doc-section-title {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 16px;
        }

        .engineer-module .doc-section-content {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
        }

        .engineer-module .doc-code-block {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            padding: 20px;
            margin: 20px 0;
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            line-height: var(--leading-relaxed);
                overflow-x: auto;
        }

        /* ==================== 对话历史（与架构师工作台一致） ==================== */
        .engineer-module .conversation-layout {
            flex: 1;  /* ✅ 改为flex */
            overflow-y: auto;  /* ✅ 滚动条在这里 */
            min-height: 0;  /* ✅ 关键 */
            display: flex;
        }

        .engineer-module .conversation-list {
            width: 380px;
            border-right: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
            display: flex;
                flex-direction: column;
        }

        .engineer-module .conversation-search {
            padding: 20px 20px 16px 20px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .engineer-module .search-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--blanc-cloud);
            font-size: var(--text-sm);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
        }

        .engineer-module .search-input:focus {
            outline: none;
            border-color: var(--noir-silver);
        }

        .engineer-module .conversation-items {
            flex: 1;
            overflow-y: auto;
        }

        .engineer-module .conversation-item {
            padding: 20px;
            border-bottom: 1px solid var(--blanc-mist);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .engineer-module .conversation-item:hover {
            background: var(--blanc-pearl);
        }

        .engineer-module .conversation-item.active {
            background: var(--blanc-pure);
            border-left: 2px solid var(--noir-ink);
        }

        .engineer-module .conversation-item-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 8px;
        }

        .engineer-module .conversation-item-title {
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .engineer-module .conversation-item-time {
            font-size: 11px;
            color: var(--noir-silver);
        }

        .engineer-module .conversation-item-preview {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            margin-bottom: 8px;
        }

        .engineer-module .conversation-item-meta {
            display: flex;
            gap: 16px;
            font-size: 11px;
            color: var(--noir-silver);
        }

        .engineer-module .conversation-detail {
            flex: 1;
            display: flex;
                flex-direction: column;
            background: var(--blanc-pure);
        }

        .engineer-module .detail-header {
            padding: 24px 32px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .engineer-module .detail-title {
            font-size: var(--text-xl);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 12px;
        }

        .engineer-module .detail-meta {
            display: flex;
            gap: 24px;
            font-size: var(--text-sm);
            color: var(--noir-steel);
        }

        .engineer-module .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 32px;
        }

        .engineer-module .message {
            display: flex;
            gap: 16px;
            margin-bottom: 32px;
        }

        .engineer-module .message-avatar {
            width: 40px;
            height: 40px;
            flex-shrink: 0;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
        }

        .engineer-module .message-avatar.user {
            background: var(--noir-graphite);
        }

        .engineer-module .message-content {
            flex: 1;
        }

        .engineer-module .message-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .engineer-module .message-sender {
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .engineer-module .message-time {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .engineer-module .message-text {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
            padding: 16px 20px;
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
        }

        .engineer-module .message-text pre {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            padding: 16px;
            margin: 16px 0;
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            overflow-x: auto;
        }

        .engineer-module .message-text strong {
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        /* ==================== 滚动条（优化为右侧固定） ==================== */
        .engineer-module .task-list-container::-webkit-scrollbar {
            width: 8px;
        }

        .engineer-module .task-list-container::-webkit-scrollbar-track {
            background: var(--blanc-pearl);
            border-left: 1px solid var(--blanc-mist);
        }

        .engineer-module .task-list-container::-webkit-scrollbar-thumb {
            background: var(--blanc-cloud);
            transition: background 0.3s ease;
        }

        .engineer-module .task-list-container::-webkit-scrollbar-thumb:hover {
            background: var(--noir-silver);
        }

        /* 其他滚动条保持原样 */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--blanc-pearl);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--blanc-cloud);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--noir-silver);
        }

        /* ==================== 响应式 ==================== */
        @media (max-width: 1400px) {
            .kanban-board {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 1200px) {
            .engineer-module .quick-stats {
                display: none;
            }
            
            .conversation-list {
                width: 320px;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 0;
            }

            .engineer-module {
                height: 100vh;
            }

            .conversation-layout {
                flex-direction: column;
            }

            .conversation-list {
                width: 100%;
                height: 40%;
                border-right: none;
                border-bottom: 1px solid var(--blanc-mist);
            }

            .docs-container {
                flex-direction: column;
            }

            .docs-sidebar {
                width: 100%;
                height: 200px;
                border-right: none;
                border-bottom: 1px solid var(--blanc-mist);
            }
        }

        .memory-space-module {
            max-width: 1600px;
            margin: 64px auto 48px auto;
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            height: 750px;  /* ✅ 固定高度 */
            display: flex;
        }

        .memory-space-module .memory-overview {
            width: 380px;
            border-right: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
            display: flex;
            flex-direction: column;
            overflow-y: auto;
            min-height: 0;  /* ✅ 关键：允许收缩 */
        }

        .memory-space-module .overview-header {
            padding: 32px 24px 24px 24px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .memory-space-module .overview-title {
            font-family: var(--font-secondary);
            font-size: var(--text-xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            margin-bottom: 8px;
            letter-spacing: -0.02em;
        }

        .memory-space-module .overview-subtitle {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .memory-space-module .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            padding: 24px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .memory-space-module .stat-card {
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            padding: 20px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .memory-space-module .stat-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateY(-2px);
        }

        .memory-space-module .engineer-module .stat-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            margin-bottom: 8px;
        }

        .memory-space-module .engineer-module .stat-value {
            font-size: var(--text-2xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            font-family: var(--font-mono);
        }

        .memory-space-module .recent-memories {
            padding: 24px;
        }

        .memory-space-module .recent-header {
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 16px;
        }

        .memory-space-module .recent-item {
            padding: 12px 0;
            border-bottom: 1px solid var(--blanc-mist);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .memory-space-module .recent-item:last-child {
            border-bottom: none;
        }

        .memory-space-module .recent-item:hover {
            padding-left: 8px;
        }

        .memory-space-module .recent-item-type {
            font-size: 11px;
            color: var(--noir-silver);
            margin-bottom: 4px;
        }

        .memory-space-module .recent-item-title {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-tight);
        }

        .memory-space-module .memory-stream {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--blanc-pure);
            min-height: 0;  /* ✅ 血泪教训：关键属性 */
            overflow: hidden;  /* ✅ 隐藏溢出，滚动在子元素 */
        }

        .memory-space-module .stream-filters {
            display: flex;
            gap: 12px;
            flex-shrink: 0;  /* ✅ 筛选栏不收缩 */
            padding: 24px 32px;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
        }

        .memory-space-module .filter-chip {
            padding: 8px 16px;
            font-size: var(--text-sm);
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .memory-space-module .filter-chip:hover {
            border-color: var(--noir-steel);
        }

        .memory-space-module .filter-chip.active {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .memory-space-module .memory-timeline {
            flex: 1;
            overflow-y: auto;
            padding: 40px 32px 40px 72px;
            position: relative;
            min-height: 0;
        }

        .memory-space-module .memory-timeline::before {
            content: '';
            position: absolute;
            left: 32px;
            top: 0;
            bottom: 0;
            width: 1px;
            background: var(--blanc-mist);
        }

        .memory-space-module .memory-item {
            position: relative;
            margin-bottom: 32px;
            transition: all 0.3s ease;
        }

        .memory-space-module .memory-marker {
            position: absolute;
            left: -48px;
            top: 0;
            width: 16px;
            height: 16px;
            border: 2px solid var(--noir-ink);
            background: var(--blanc-pure);
        }

        .memory-space-module .memory-marker.decision {
            background: var(--noir-ink);
        }

        .memory-space-module .memory-marker.solution {
            border-color: var(--noir-graphite);
        }

        .memory-space-module .memory-marker.knowledge {
            border-color: var(--noir-silver);
            background: var(--blanc-snow);
        }

        .memory-space-module .memory-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            transition: all 0.3s ease;
        }

        .memory-space-module .memory-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }

        .memory-space-module .memory-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 12px;
        }

        .memory-space-module .memory-type-badge {
            display: inline-block;
            padding: 4px 12px;
            font-size: 11px;
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
            margin-bottom: 8px;
        }

        .memory-space-module .memory-type-badge.decision {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .memory-space-module .memory-type-badge.solution {
            border-color: var(--noir-graphite);
        }

        .memory-space-module .memory-type-badge.knowledge {
            border-color: var(--noir-silver);
        }

        .memory-space-module .memory-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 6px;
        }

        .memory-space-module .memory-meta {
            display: flex;
            gap: 16px;
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .memory-space-module .memory-content {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
            margin-top: 12px;
        }

        .memory-space-module .memory-tags {
            display: flex;
            gap: 8px;
            margin-top: 16px;
            flex-wrap: wrap;
        }

        .memory-space-module .memory-tag {
            padding: 4px 12px;
            font-size: 11px;
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
        }

        /* ==================== 实时脉动模块 ==================== */
        .pulse-module.version-content[data-version="1"] {
            display: flex !important;
            flex-direction: column !important;
        }

        .pulse-module {
            max-width: 1600px;
            margin: 64px auto 48px auto;
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            height: 750px;  /* ✅ 固定高度 */
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .pulse-module-header {
            padding: 32px 40px;
            border-bottom: 1px solid var(--blanc-mist);
            flex-shrink: 0;
        }

        .pulse-header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .pulse-module-title {
            font-family: var(--font-secondary);
            font-size: var(--text-2xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            letter-spacing: -0.02em;
        }

        .pulse-status-badge {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            padding: 6px 16px;
            border: 1px solid var(--noir-silver);
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
        }

        .pulse-status-dot {
            width: 6px;
            height: 6px;
            background: #4A7C59;
            animation: pulse-green 2s ease-in-out infinite;
        }

        .pulse-info-bar {
            display: flex;
            align-items: center;
            gap: 24px;
            padding: 20px;
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
        }

        .pulse-info-section {
            display: flex;
            align-items: center;
            gap: 16px;
            flex: 1;
        }

        .pulse-avatar {
            width: 48px;
            height: 48px;
            flex-shrink: 0;
            background: var(--noir-graphite);
            color: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-base);
            font-weight: var(--weight-medium);
        }

        .pulse-details {
            flex: 1;
        }

        .pulse-name {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 4px;
        }

        .pulse-meta {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .pulse-quick-stats {
            display: flex;
            gap: 32px;
            padding-left: 32px;
            border-left: 1px solid var(--blanc-mist);
        }

        .pulse-stat-item {
            text-align: center;
        }

        .pulse-stat-value {
            font-size: var(--text-xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            line-height: 1;
            margin-bottom: 4px;
        }

        .pulse-stat-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            line-height: 1;
        }

        .pulse-module .tab-nav {
            display: flex;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
            flex-shrink: 0;
        }

        .pulse-module .tab-item {
            padding: 16px 32px;
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-silver);
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .pulse-module .tab-item:hover {
            color: var(--noir-graphite);
            background: var(--blanc-pearl);
        }

        .pulse-module .tab-item.active {
            color: var(--noir-ink);
            background: var(--blanc-pure);
            border-bottom-color: var(--noir-ink);
        }

        .pulse-module .tab-badge {
            display: inline-block;
            margin-left: 8px;
            padding: 2px 8px;
            font-size: 11px;
            font-weight: var(--weight-semibold);
            background: var(--blanc-mist);
            color: var(--noir-steel);
        }

        .pulse-module .tab-item.active .tab-badge {
            background: var(--noir-ink);
            color: var(--blanc-pure);
        }

        .pulse-module .tab-content {
            flex: 1;
            overflow-y: auto;
            background: var(--blanc-pure);
            min-height: 0;
        }

        .pulse-module .tab-pane {
            display: none;
        }

        .pulse-module .tab-pane.active {
            display: block;
        }

        .pulse-module .content-filters {
            padding: 20px 40px;
            border-bottom: 1px solid var(--blanc-mist);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--blanc-pure);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .pulse-module .filter-chips {
            display: flex;
            gap: 12px;
        }

        .pulse-module .filter-chip {
            padding: 8px 20px;
            font-size: var(--text-sm);
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .pulse-module .filter-chip:hover {
            border-color: var(--noir-steel);
            background: var(--blanc-pearl);
        }

        .pulse-module .filter-chip.active {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .pulse-module .search-input {
            width: 280px;
            padding: 8px 16px;
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            font-size: var(--text-sm);
            color: var(--noir-graphite);
        }

        .pulse-module .search-input:focus {
            outline: none;
            border-color: var(--noir-steel);
        }

        .pulse-module .search-input::placeholder {
            color: var(--noir-ash);
        }

        .pulse-module .event-list {
            background: var(--blanc-pure);
        }

        .pulse-module .event-item {
            display: flex;
            gap: 20px;
            padding: 24px 40px;
            border-bottom: 1px solid var(--blanc-mist);
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .pulse-module .event-item:hover {
            background: var(--blanc-pearl);
        }

        .pulse-module .event-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            flex-shrink: 0;
            margin-top: 2px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .pulse-module .event-checkbox:hover {
            border-color: var(--noir-steel);
        }

        .pulse-module .event-content {
            flex: 1;
        }

        .pulse-module .event-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 20px;
            margin-bottom: 8px;
        }

        .pulse-module .event-title-section {
            flex: 1;
        }

        .pulse-module .event-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 4px;
            line-height: var(--leading-tight);
        }

        .pulse-module .event-meta {
            font-size: var(--text-sm);
            color: var(--noir-silver);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .pulse-module .event-time {
            font-size: var(--text-sm);
            color: var(--noir-silver);
            white-space: nowrap;
        }

        .pulse-module .event-description {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
            margin-bottom: 8px;
        }

        .pulse-module .event-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .pulse-module .event-tag {
            padding: 4px 12px;
            border: 1px solid var(--blanc-cloud);
            font-size: var(--text-xs);
            color: var(--noir-graphite);
        }

        .pulse-module .timeline-view {
            padding: 40px 40px 40px 80px;
            position: relative;
        }

        .pulse-module .timeline-view::before {
            content: '';
            position: absolute;
            left: 40px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--blanc-mist);
        }

        .pulse-module .timeline-date-group {
            margin-bottom: 48px;
        }

        .pulse-module .date-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
            position: relative;
            left: -48px;
        }

        .pulse-module .date-marker {
            width: 16px;
            height: 16px;
            background: var(--noir-ink);
            flex-shrink: 0;
        }

        .pulse-module .date-label {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .pulse-module .date-count {
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .pulse-module .timeline-event {
            position: relative;
            margin-bottom: 32px;
        }

        .pulse-module .timeline-event::before {
            content: '';
            position: absolute;
            left: -48px;
            top: 0;
            width: 16px;
            height: 16px;
            border: 2px solid var(--noir-ink);
            background: var(--blanc-pure);
        }

        .pulse-module .timeline-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            transition: all 0.3s ease;
        }

        .pulse-module .timeline-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }

        .pulse-module .timeline-card-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 12px;
        }

        .pulse-module .timeline-card-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 6px;
        }

        .pulse-module .timeline-card-meta {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .pulse-module .timeline-card-time {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            font-family: var(--font-mono);
        }

        .pulse-module .timeline-card-description {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
            margin-top: 12px;
        }

        .pulse-module .timeline-card-tags {
            display: flex;
            gap: 8px;
            margin-top: 16px;
        }

        .pulse-module .timeline-card-tag {
            padding: 4px 12px;
            font-size: 11px;
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
        }

        .pulse-module .analytics-container {
            padding: 40px;
        }

        .pulse-module .overview-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 24px;
            margin-bottom: 40px;
        }

        .pulse-module .overview-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            transition: all 0.3s ease;
        }

        .pulse-module .overview-card:hover {
            box-shadow: var(--shadow-sm);
        }

        .pulse-module .overview-label {
            font-size: var(--text-sm);
            color: var(--noir-silver);
            margin-bottom: 12px;
        }

        .pulse-module .overview-value {
            font-size: 42px;
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            line-height: 1;
            margin-bottom: 8px;
        }

        .pulse-module .overview-change {
            font-size: var(--text-xs);
            color: var(--noir-steel);
        }

        .pulse-module .chart-section {
            margin-bottom: 40px;
        }

        .pulse-module .section-header {
            padding-bottom: 16px;
            border-bottom: 1px solid var(--blanc-mist);
            margin-bottom: 24px;
        }

        .pulse-module .section-title {
            font-size: var(--text-xl);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 4px;
        }

        .pulse-module .section-description {
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .pulse-module .trend-chart {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 32px;
            height: 320px;
            position: relative;
        }

        .pulse-module .chart-bars {
            display: flex;
            align-items: flex-end;
            justify-content: space-between;
            height: 240px;
            gap: 12px;
        }

        .pulse-module .chart-bar-group {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
        }

        .pulse-module .chart-bar {
            width: 100%;
            background: var(--noir-ink);
            transition: all 0.3s ease;
            position: relative;
        }

        .pulse-module .chart-bar:hover {
            background: var(--noir-charcoal);
        }

        .pulse-module .chart-bar-value {
            position: absolute;
            top: -24px;
            left: 50%;
            transform: translateX(-50%);
            font-size: var(--text-xs);
            color: var(--noir-graphite);
            font-weight: var(--weight-medium);
        }

        .pulse-module .chart-bar-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            text-align: center;
        }

        .pulse-module .category-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
        }

        .pulse-module .category-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
        }

        .pulse-module .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .pulse-module .category-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .pulse-module .category-total {
            font-size: var(--text-xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
        }

        .pulse-module .category-items {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .pulse-module .category-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--blanc-pearl);
        }

        .pulse-module .category-item:last-child {
            border-bottom: none;
        }

        .pulse-module .category-item-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .pulse-module .category-item-bar {
            width: 80px;
            height: 6px;
            background: var(--blanc-mist);
            position: relative;
        }

        .pulse-module .category-item-bar-fill {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background: var(--noir-ink);
        }

        .pulse-module .category-item-name {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            min-width: 120px;
        }

        .pulse-module .category-item-count {
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
        }

        .pulse-module .category-item-percent {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            margin-left: 8px;
        }

        .pulse-module .heatmap-section {
            margin-top: 40px;
        }

        .pulse-module .heatmap {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 32px;
        }

        .pulse-module .heatmap-grid {
            display: grid;
            grid-template-columns: auto repeat(7, 1fr);
            gap: 8px;
        }

        .pulse-module .heatmap-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 12px;
        }

        .pulse-module .heatmap-cell {
            aspect-ratio: 1;
            background: var(--blanc-mist);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            color: var(--noir-silver);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .pulse-module .heatmap-cell:hover {
            box-shadow: var(--shadow-xs);
        }

        .pulse-module .heatmap-cell.level-1 { background: var(--blanc-cloud); }
        .pulse-module .heatmap-cell.level-2 { background: var(--noir-ash); color: var(--blanc-pure); }
        .pulse-module .heatmap-cell.level-3 { background: var(--noir-steel); color: var(--blanc-pure); }
        .pulse-module .heatmap-cell.level-4 { background: var(--noir-graphite); color: var(--blanc-pure); }
        .pulse-module .heatmap-cell.level-5 { background: var(--noir-ink); color: var(--blanc-pure); }

        .pulse-module .heatmap-legend {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--blanc-mist);
        }

        .pulse-module .legend-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            margin-right: 8px;
        }

        .pulse-module .legend-item {
            width: 20px;
            height: 20px;
            border: 1px solid var(--blanc-mist);
        }

        .devops-module {
            max-width: 1600px;
            margin: 64px auto 48px auto;
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            display: flex;
            flex-direction: column;
        }

        .devops-module-header {
            padding: var(--space-5) var(--space-6);
            border-bottom: 1px solid var(--blanc-mist);
        }

        .devops-header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--space-4);
        }

        .devops-module-title {
            font-family: var(--font-secondary);
            font-size: var(--text-2xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            letter-spacing: -0.02em;
        }

        .devops-status-badge {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            padding: 6px 16px;
            border: 1px solid var(--noir-silver);
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
        }

        .devops-status-dot {
            width: 6px;
            height: 6px;
            background: var(--status-success);
            border-radius: 50%;
            animation: pulse 2s ease-in-out infinite;
        }

        .devops-info-bar {
            display: flex;
            align-items: center;
            gap: var(--space-5);
            padding: var(--space-4);
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
        }

        .devops-info-section {
            display: flex;
            align-items: center;
            gap: var(--space-3);
        }

        .devops-details {
            flex: 1;
        }

        .devops-name {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 4px;
        }

        .devops-meta {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .devops-quick-stats {
            display: flex;
            gap: var(--space-6);
            padding-left: var(--space-6);
            border-left: 1px solid var(--blanc-mist);
        }

        .devops-stat-item {
            text-align: center;
        }

        .devops-stat-value {
            font-size: var(--text-xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            margin-bottom: 4px;
        }

        .devops-stat-value.alert {
            color: var(--status-critical);
        }

        .devops-stat-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .devops-tab-navigation {
            display: flex;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
        }

        .devops-tab-item {
            padding: var(--space-3) var(--space-6);
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-silver);
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .devops-tab-item:hover {
            color: var(--noir-graphite);
            background: var(--blanc-pearl);
        }

        .devops-tab-item.active {
            color: var(--noir-ink);
            background: var(--blanc-pure);
            border-bottom-color: var(--noir-ink);
        }

        .devops-tab-badge {
            display: inline-block;
            margin-left: var(--space-2);
            padding: 2px 8px;
            font-size: 11px;
            font-weight: var(--weight-semibold);
            background: var(--blanc-mist);
            color: var(--noir-steel);
        }

        .devops-tab-badge.alert {
            background: var(--status-critical);
            color: var(--blanc-pure);
        }

        .devops-tab-item.active .devops-tab-badge {
            background: var(--noir-ink);
            color: var(--blanc-pure);
        }

        .devops-tab-item.active .devops-tab-badge.alert {
            background: var(--status-critical);
        }

        .devops-tab-content-wrapper {
            flex: 1;
            overflow: hidden;
        }

        .devops-tab-pane {
            display: none;
            height: 750px;
        }

        .devops-tab-pane.active {
            display: flex;
            flex-direction: column;
        }

        .devops-info {
            display: flex;
            align-items: center;
            gap: 24px;
            padding: 20px;
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
        }

        .devops-avatar {
            width: 48px;
            height: 48px;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-base);
            font-weight: var(--weight-medium);
        }

        .devops-details {
            flex: 1;
        }

        .devops-name {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 4px;
        }

        .devops-meta {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .devops-module .tab-navigation {
            display: flex;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
        }

        .devops-module .tab-item {
            padding: 16px 32px;
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-silver);
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .devops-module .tab-item:hover {
            color: var(--noir-graphite);
            background: var(--blanc-pearl);
        }

        .devops-module .tab-item.active {
            color: var(--noir-ink);
            background: var(--blanc-pure);
            border-bottom-color: var(--noir-ink);
        }

        .devops-module .tab-badge.alert {
            background: var(--status-critical);
            color: var(--blanc-pure);
        }

        .devops-module .tab-item.active .tab-badge.alert {
            background: var(--status-critical);
        }

        .devops-module .tab-content-wrapper {
            flex: 1;
            overflow: hidden;
        }

        .devops-module .tab-pane {
            display: none;
            height: 750px;
        }

        .devops-module .tab-pane.active {
            display: flex;
            flex-direction: column;
        }

        /* 运维日志时间轴 */
        .log-filters {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 24px 40px;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
            flex-shrink: 0;
        }

        .filter-group {
            display: flex;
            gap: 12px;
        }

        .log-timeline {
            flex: 1;
            overflow-y: auto;
            padding: 40px 40px 40px 80px;
            position: relative;
        }

        .log-timeline::before {
            content: '';
            position: absolute;
            left: 40px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--blanc-mist);
        }

        .log-item {
            position: relative;
            margin-bottom: 48px;
        }

        .log-marker {
            position: absolute;
            left: -48px;
            top: 0;
            width: 16px;
            height: 16px;
            border: 2px solid var(--noir-ink);
            background: var(--blanc-pure);
        }

        .log-marker.critical {
            border-color: var(--status-critical);
            background: var(--status-critical);
        }

        .log-marker.warning {
            border-color: var(--status-warning);
            background: var(--status-warning);
        }

        .log-marker.normal {
            border-color: var(--status-success);
            background: var(--blanc-pure);
        }

        .log-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            transition: all 0.3s ease;
        }

        .log-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }

        .log-card.critical {
            border-left: 3px solid var(--status-critical);
        }

        .log-card.normal {
            border-left: 3px solid var(--status-success);
        }

        .log-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 16px;
        }

        .log-title-group {
            flex: 1;
        }

        .log-type {
            display: inline-block;
            padding: 4px 12px;
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
            margin-bottom: 8px;
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-charcoal);
        }

        .log-type.critical {
            border-color: var(--status-critical);
            color: var(--status-critical);
        }

        .log-type.warning {
            border-color: var(--status-warning);
            color: var(--status-warning);
        }

        .log-type.normal {
            border-color: var(--status-success);
            color: var(--status-success);
        }

        .log-type.update {
            border-color: var(--noir-steel);
            color: var(--noir-steel);
        }

        .log-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .log-time {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            white-space: nowrap;
            font-family: var(--font-mono);
        }

        .log-content {
            margin-bottom: 16px;
        }

        .log-description {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
            margin-bottom: 12px;
        }

        .log-metrics {
            display: flex;
            gap: 24px;
            flex-wrap: wrap;
        }

        .metric {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            font-family: var(--font-mono);
        }

        .log-footer {
            display: flex;
            align-items: center;
            gap: 16px;
            padding-top: 16px;
            border-top: 1px solid var(--blanc-mist);
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .log-category {
            flex: 1;
        }

        .log-status {
            padding: 4px 12px;
            border: 1px solid var(--blanc-cloud);
            font-weight: var(--weight-medium);
        }

        .log-status.resolved {
            background: var(--status-success);
            color: var(--blanc-pure);
            border-color: var(--status-success);
        }

        .log-status.pending {
            background: var(--status-warning);
            color: var(--blanc-pure);
            border-color: var(--status-warning);
        }

        .log-actions {
            display: flex;
            gap: 8px;
        }

        .log-action-btn {
            padding: 4px 12px;
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
            font-size: var(--text-xs);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .log-action-btn:hover {
            background: var(--blanc-pearl);
        }

        /* Bug看板 */
        .bug-board {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
        }

        .bug-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
        }

        .bug-filters {
            display: flex;
            gap: 12px;
        }

        .bug-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
        }

        .bug-column {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 20px;
        }

        .bug-column-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--noir-ink);
        }

        .bug-column-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .bug-column-count {
            font-size: var(--text-sm);
            font-family: var(--font-mono);
            color: var(--noir-silver);
        }

        .bug-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .bug-card {
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            padding: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .bug-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateY(-2px);
        }

        .bug-id {
            font-size: var(--text-xs);
            font-family: var(--font-mono);
            color: var(--noir-silver);
            margin-bottom: 8px;
        }

        .bug-title {
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 8px;
        }

        .bug-description {
            font-size: var(--text-xs);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
            margin-bottom: 12px;
        }

        .bug-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .bug-priority {
            padding: 2px 8px;
            border: 1px solid var(--blanc-cloud);
            font-weight: var(--weight-medium);
        }

        .bug-priority.p0 {
            border-color: var(--status-critical);
            color: var(--status-critical);
        }

        .bug-priority.p1 {
            border-color: var(--status-warning);
            color: var(--status-warning);
        }

        .bug-priority.p2 {
            border-color: var(--noir-steel);
            color: var(--noir-steel);
        }

        /* 系统状态 */
        .system-status {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
        }

        .status-overview {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 24px;
            margin-bottom: 40px;
        }

        .status-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            text-align: center;
        }

        .status-value {
            font-size: var(--text-2xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            margin-bottom: 8px;
            font-family: var(--font-mono);
        }

        .status-value.success {
            color: var(--status-success);
        }

        .status-value.critical {
            color: var(--status-critical);
        }

        .status-label {
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .service-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .service-item {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 20px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .service-info {
            flex: 1;
        }

        .service-name {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 4px;
        }

        .service-endpoint {
            font-size: var(--text-xs);
            font-family: var(--font-mono);
            color: var(--noir-silver);
        }

        .service-metrics {
            display: flex;
            gap: 32px;
            align-items: center;
        }

        .service-metric {
            text-align: center;
        }

        .service-metric .metric-value {
            font-size: var(--text-base);
            font-weight: var(--weight-medium);
            font-family: var(--font-mono);
            color: var(--noir-charcoal);
            margin-bottom: 4px;
        }

        .service-metric .metric-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .service-status-indicator {
            width: 12px;
            height: 12px;
            background: var(--status-success);
        }

        .service-status-indicator.offline {
            background: var(--status-critical);
        }

        /* 知识库 */
        .knowledge-base {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
        }

        .kb-categories {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            margin-bottom: 40px;
        }

        .kb-category {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .kb-category:hover {
            box-shadow: var(--shadow-sm);
            transform: translateY(-4px);
        }

        .kb-category-title {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 12px;
        }

        .kb-category-count {
            font-size: var(--text-sm);
            color: var(--noir-silver);
            margin-bottom: 16px;
        }

        .kb-category-description {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
        }

        .kb-recent {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 32px;
        }

        .kb-section-title {
            font-size: var(--text-xl);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 24px;
        }

        .kb-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .kb-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px;
            border: 1px solid var(--blanc-mist);
            background: var(--blanc-pure);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .kb-item:hover {
            background: var(--blanc-pearl);
        }

        .kb-item-info {
            flex: 1;
        }

        .kb-item-title {
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
            margin-bottom: 4px;
        }

        .kb-item-meta {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .kb-item-action {
            padding: 6px 16px;
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
            font-size: var(--text-xs);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .kb-item-action:hover {
            background: var(--blanc-pearl);
        }
        /* ==================== Noah AI代码管家模块 ==================== */
        .code-manager-module.version-content[data-version="1"] {
            display: flex !important;
            flex-direction: column !important;
        }

        .code-manager-module {
            max-width: 1600px;
            margin: 64px auto 48px auto;
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            display: flex;
            flex-direction: column;
            /* ✅ 不设置固定height，让背景自适应 */
        }

        .code-manager-module .module-header {
            padding: 32px 40px !important;
            border-bottom: 1px solid var(--blanc-mist) !important;
            display: block !important;  /* ← 关键！确保子元素垂直排列 */
            flex-shrink: 0 !important;
        }

        .code-manager-module .header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .code-manager-module .module-title {
            font-family: var(--font-secondary);
            font-size: var(--text-2xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            letter-spacing: -0.02em;
        }

        .code-manager-module .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 16px;
            border: 1px solid var(--noir-silver);
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
        }

        .code-manager-module .status-dot {
            width: 6px;
            height: 6px;
            background: var(--code-green);
            animation: pulse-green 2s ease-in-out infinite;
        }

        .code-manager-module .code-stats-grid {
            display: grid !important;
            grid-template-columns: repeat(4, 1fr) !important;
            gap: 20px !important;
        }

        .code-manager-module .stat-card {
            padding: 20px;
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            transition: all 0.3s ease;
        }

        .code-manager-module .stat-card:hover {
            background: var(--blanc-pearl);
            box-shadow: var(--shadow-sm);
        }

        .code-manager-module .stat-value {
            font-family: var(--font-mono);
            font-size: var(--text-3xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            margin-bottom: 8px;
            letter-spacing: -0.03em;
        }

        .code-manager-module .stat-label {
            font-size: var(--text-sm);
            color: var(--noir-silver);
            font-weight: var(--weight-regular);
        }

        .code-manager-module .stat-change {
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            color: var(--noir-ash);
            margin-top: 4px;
        }

        .code-manager-module .stat-change.positive {
            color: var(--code-green);
        }

        .code-manager-module .stat-change.negative {
            color: var(--code-red);
        }

        .code-manager-module .tab-navigation {
            display: flex;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
        }

        .code-manager-module .tab-item {
            padding: 16px 32px;
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-silver);
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .code-manager-module .tab-item:hover {
            color: var(--noir-graphite);
            background: var(--blanc-pearl);
        }

        .code-manager-module .tab-item.active {
            color: var(--noir-ink);
            background: var(--blanc-pure);
            border-bottom-color: var(--noir-ink);
        }

        .code-manager-module .tab-badge {
            display: inline-block;
            margin-left: 8px;
            padding: 2px 8px;
            font-size: 11px;
            font-weight: var(--weight-semibold);
            background: var(--blanc-mist);
            color: var(--noir-steel);
            font-family: var(--font-mono);
        }

        .code-manager-module .tab-item.active .tab-badge {
            background: var(--noir-ink);
            color: var(--blanc-pure);
        }

        .code-manager-module .tab-content-wrapper {
            flex: 1;
            overflow: hidden;
            min-height: 0;
        }

        .code-manager-module .tab-pane {
            display: none;
            height: 750px;  /* ✅ 固定高度 */
            flex-direction: column;
        }

        .code-manager-module .tab-pane.active {
            display: flex;
            flex-direction: column;
            min-height: 0;  /* ✅ 关键：允许收缩 */
        }

        .code-manager-module .search-header {
            padding: 24px 40px;
            background: var(--blanc-snow);
            border-bottom: 1px solid var(--blanc-mist);
        }

        .code-manager-module .search-box-wrapper {
            position: relative;
            max-width: 800px;
        }

        .code-manager-module .search-box {
            width: 100%;
            padding: 16px 48px 16px 20px;
            font-size: var(--text-base);
            font-family: var(--font-mono);
            background: var(--blanc-pure);
            border: 2px solid var(--blanc-mist);
            color: var(--noir-ink);
            transition: all 0.3s ease;
        }

        .code-manager-module .search-box:focus {
            outline: none;
            border-color: var(--noir-ink);
            box-shadow: var(--shadow-sm);
        }

        .code-manager-module .search-box::placeholder {
            color: var(--noir-ash);
            font-family: var(--font-mono);
        }

        .code-manager-module .search-icon {
            position: absolute;
            right: 16px;
            top: 50%;
            transform: translateY(-50%);
            font-family: var(--font-mono);
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .code-manager-module .search-filters {
            display: flex;
            gap: 12px;
            margin-top: 16px;
        }

        .code-manager-module .filter-chip {
            padding: 6px 12px;
            font-size: var(--text-xs);
            font-family: var(--font-mono);
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .code-manager-module .filter-chip:hover {
            border-color: var(--noir-steel);
        }

        .code-manager-module .filter-chip.active {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .code-manager-module .code-list {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
            min-height: 0;
        }

        .code-manager-module .code-directory {
            margin-bottom: 40px;
        }

        .code-manager-module .directory-header {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 0;
            margin-bottom: 16px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .code-manager-module .directory-icon {
            font-family: var(--font-mono);
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .code-manager-module .directory-path {
            font-family: var(--font-mono);
            font-size: var(--text-base);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
        }

        .code-manager-module .directory-count {
            margin-left: auto;
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            color: var(--noir-ash);
        }

        .code-manager-module .code-item {
            padding: 20px;
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            margin-bottom: 12px;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .code-manager-module .code-item:hover {
            background: var(--blanc-pearl);
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }

        .code-manager-module .code-item-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 12px;
        }

        .code-manager-module .code-filename {
            font-family: var(--font-mono);
            font-size: var(--text-base);
            font-weight: var(--weight-medium);
            color: var(--noir-ink);
        }

        .code-manager-module .code-extension {
            padding: 2px 8px;
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            background: var(--blanc-mist);
            color: var(--noir-steel);
        }

        .code-manager-module .code-lines {
            font-family: var(--font-mono);
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .code-manager-module .code-item-meta {
            display: flex;
            gap: 24px;
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            color: var(--noir-ash);
        }

        .code-manager-module .code-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }

        .code-manager-module .code-tag {
            padding: 4px 10px;
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            background: var(--blanc-pearl);
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
        }

        .code-manager-module .code-detail-view {
            display: flex;
            height: 100%;
        }

        .code-manager-module .code-detail-sidebar {
            width: 320px;
            border-right: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
            overflow-y: auto;
            padding: 32px;
        }

        .code-manager-module .detail-section {
            margin-bottom: 32px;
        }

        .code-manager-module .detail-section-title {
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 16px;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .code-manager-module .detail-info-grid {
            display: grid;
            gap: 16px;
        }

        .code-manager-module .detail-info-item {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .code-manager-module .detail-info-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .code-manager-module .detail-info-value {
            font-family: var(--font-mono);
            font-size: var(--text-sm);
            color: var(--noir-ink);
            word-break: break-all;
        }

        .code-manager-module .code-detail-main {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
        }

        .code-manager-module .code-preview {
            background: var(--noir-ink);
            border: 1px solid var(--noir-charcoal);
            padding: 24px;
            font-family: var(--font-mono);
            font-size: var(--text-sm);
            line-height: var(--leading-relaxed);
            color: var(--blanc-snow);
            overflow-x: auto;
        }

        .code-manager-module .code-line {
            display: flex;
            gap: 24px;
        }

        .code-manager-module .line-number {
            color: var(--noir-silver);
            user-select: none;
            text-align: right;
            min-width: 40px;
        }

        .code-manager-module .line-content {
            flex: 1;
            color: var(--blanc-pearl);
        }

        .code-manager-module .changelog-container {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
            min-height: 0;
        }

        .code-manager-module .changelog-item {
            position: relative;
            padding-left: 40px;
            padding-bottom: 32px;
        }

        .code-manager-module .changelog-item::before {
            content: '';
            position: absolute;
            left: 11px;
            top: 24px;
            bottom: 0;
            width: 1px;
            background: var(--blanc-mist);
        }

        .code-manager-module .changelog-item:last-child::before {
            display: none;
        }

        .code-manager-module .changelog-marker {
            position: absolute;
            left: 4px;
            top: 4px;
            width: 16px;
            height: 16px;
            background: var(--blanc-pure);
            border: 2px solid var(--noir-ink);
        }

        .code-manager-module .changelog-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            transition: all 0.3s ease;
        }

        .code-manager-module .changelog-card:hover {
            box-shadow: var(--shadow-sm);
        }

        .code-manager-module .changelog-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 16px;
        }

        .code-manager-module .changelog-time {
            font-family: var(--font-mono);
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .code-manager-module .changelog-type {
            padding: 4px 10px;
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
            border: 1px solid var(--blanc-cloud);
        }

        .code-manager-module .changelog-type.added {
            color: var(--code-green);
            border-color: var(--code-green);
        }

        .code-manager-module .changelog-type.modified {
            color: var(--code-orange);
            border-color: var(--code-orange);
        }

        .code-manager-module .changelog-type.deleted {
            color: var(--code-red);
            border-color: var(--code-red);
        }

        .code-manager-module .changelog-description {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
            margin-bottom: 12px;
        }

        .code-manager-module .changelog-files {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .code-manager-module .changelog-file {
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            padding: 4px 10px;
            background: var(--blanc-pearl);
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
        }

        .code-manager-module .conflict-warning {
            padding: 24px 40px;
            background: var(--blanc-snow);
            border-bottom: 1px solid var(--blanc-mist);
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .code-manager-module .warning-icon {
            font-family: var(--font-mono);
            font-size: var(--text-lg);
            color: var(--code-orange);
        }

        .code-manager-module .warning-text {
            flex: 1;
        }

        .code-manager-module .warning-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 4px;
        }

        .code-manager-module .warning-description {
            font-size: var(--text-sm);
            color: var(--noir-steel);
        }

        .code-manager-module .conflict-list {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
            min-height: 0;
        }

        .code-manager-module .conflict-card {
            background: var(--blanc-snow);
            border: 2px solid var(--code-orange);
            padding: 24px;
            margin-bottom: 20px;
        }

        .code-manager-module .conflict-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
        }

        .code-manager-module .conflict-title {
            font-family: var(--font-mono);
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
        }

        .code-manager-module .conflict-severity {
            padding: 4px 12px;
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
            background: var(--code-orange);
            color: var(--blanc-pure);
        }

        .code-manager-module .conflict-description {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
            margin-bottom: 16px;
        }

        .code-manager-module .conflict-files-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            margin-top: 16px;
        }

        .code-manager-module .conflict-file-box {
            padding: 16px;
            background: var(--blanc-pearl);
            border: 1px solid var(--blanc-cloud);
        }

        .code-manager-module .conflict-file-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            margin-bottom: 8px;
        }

        .code-manager-module .conflict-file-path {
            font-family: var(--font-mono);
            font-size: var(--text-sm);
            color: var(--noir-ink);
            word-break: break-all;
        }

        .code-manager-module .stats-dashboard {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
            min-height: 0;
        }

        .code-manager-module .stats-section {
            margin-bottom: 48px;
        }

        .code-manager-module .stats-section-title {
            font-family: var(--font-secondary);
            font-size: var(--text-xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            margin-bottom: 24px;
        }

        .code-manager-module .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
        }

        .code-manager-module .stats-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 32px;
            text-align: center;
        }

        .code-manager-module .stats-card-value {
            font-family: var(--font-mono);
            font-size: var(--text-3xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            margin-bottom: 8px;
        }

        .code-manager-module .stats-card-label {
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .code-manager-module .language-breakdown {
            margin-top: 32px;
        }

        .code-manager-module .language-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 16px;
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            margin-bottom: 12px;
        }

        .code-manager-module .language-name {
            font-family: var(--font-mono);
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-ink);
            min-width: 120px;
        }

        .code-manager-module .language-bar {
            flex: 1;
            height: 8px;
            background: var(--blanc-pearl);
            position: relative;
            overflow: hidden;
        }

        .code-manager-module .language-bar-fill {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background: var(--noir-ink);
            transition: width 0.6s ease;
        }

        .code-manager-module .language-percentage {
            font-family: var(--font-mono);
            font-size: var(--text-sm);
            color: var(--noir-silver);
            min-width: 60px;
            text-align: right;
        }

    
        /* ==================== 全栈工程师模块（完整版） ==================== */

        /* ==================== 白色奢华美学系统（严格遵循架构师工作台） ==================== */
        

        

        

        .fullstack-complete-module {
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            margin-bottom: var(--space-7);  /* ✅ 和架构师模块一致 */
            display: flex;
            flex-direction: column;
        }

        /* ==================== 模块头部 ==================== */
        .fullstack-complete-module .module-header {
            padding: 32px 40px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .fullstack-complete-module .header-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .fullstack-complete-module .module-title {
            font-family: var(--font-secondary);
            font-size: var(--text-2xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            letter-spacing: -0.02em;
        }

        .fullstack-complete-module .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 16px;
            border: 1px solid var(--noir-silver);
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
        }

        .fullstack-complete-module .status-dot {
            width: 6px;
            height: 6px;
            background: #4A7C59;
            animation: pulse-green 2s ease-in-out infinite;
        }

        @keyframes pulse-green {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(0.9); }
        }

        .fullstack-complete-module .engineer-info {
            display: flex;
            align-items: center;
            gap: 24px;
            padding: 20px;
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
        }

        .fullstack-complete-module .info-section {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .fullstack-complete-module .engineer-avatar {
            width: 48px;
            height: 48px;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-base);
            font-weight: var(--weight-medium);
        }

        .fullstack-complete-module .engineer-details {
            flex: 1;
        }

        .fullstack-complete-module .engineer-name {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 4px;
        }

        .fullstack-complete-module .engineer-meta {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .fullstack-complete-module .quick-stats {
            display: flex;
            gap: 32px;
            padding-left: 32px;
            border-left: 1px solid var(--blanc-mist);
        }

        .fullstack-complete-module .stat-item {
            text-align: center;
        }

        .fullstack-complete-module .stat-value {
            font-size: var(--text-xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            margin-bottom: 4px;
        }

        .fullstack-complete-module .stat-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        /* ==================== Tab导航 ==================== */
        .fullstack-complete-module .tab-navigation {
            display: flex;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
        }

        .fullstack-complete-module .tab-item {
            padding: 16px 32px;
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-silver);
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }

        .tab-item:hover {
            color: var(--noir-graphite);
            background: var(--blanc-pearl);
        }

        .tab-item.active {
            color: var(--noir-ink);
            background: var(--blanc-pure);
            border-bottom-color: var(--noir-ink);
        }

        .fullstack-complete-module .tab-badge {
            display: inline-block;
            margin-left: 8px;
            padding: 2px 8px;
            font-size: 11px;
            font-weight: var(--weight-semibold);
            background: var(--blanc-mist);
            color: var(--noir-steel);
        }

        .tab-item.active .fullstack-complete-module .tab-badge {
            background: var(--noir-ink);
            color: var(--blanc-pure);
        }

        /* ==================== Tab内容 ==================== */
        .fullstack-complete-module .tab-content-wrapper {
            flex: 1;
            overflow: hidden;
        }

        .fullstack-complete-module .tab-pane {
            display: none;
            height: 1800px;  /* ✅ 增加高度到1800px，可显示5+个任务 */
        }

        .fullstack-complete-module .tab-pane.active {
            display: flex;
            flex-direction: column;
            height: 1800px;  /* ✅ 固定高度1800px */
        }

        /* ==================== 事件流（与架构师工作台完全一致） ==================== */
        .fullstack-complete-module .event-timeline {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
            min-height: 0;  /* ✅ 关键：允许flex收缩，滚动条生效 */
        }

        .fullstack-complete-module .timeline-filters {
            display: flex;
            gap: 12px;
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .fullstack-complete-module .filter-chip {
            padding: 8px 16px;
            font-size: var(--text-sm);
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-chip:hover {
            border-color: var(--noir-steel);
        }

        .filter-chip.active {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .fullstack-complete-module .timeline-item {
            position: relative;
            padding-left: 40px;
            padding-bottom: 32px;
        }

        .timeline-item::before {
            content: '';
            position: absolute;
            left: 11px;
            top: 24px;
            bottom: 0;
            width: 1px;
            background: var(--blanc-mist);
        }

        .timeline-item:last-child::before {
            display: none;
        }

        .fullstack-complete-module .timeline-marker {
            position: absolute;
            left: 0;
            top: 0;
            width: 24px;
            height: 24px;
            border: 2px solid var(--noir-ink);
            background: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .fullstack-complete-module .event-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            transition: all 0.3s ease;
        }

        .event-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }

        .fullstack-complete-module .event-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 12px;
        }

        .fullstack-complete-module .event-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 6px;
        }

        .fullstack-complete-module .event-meta {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .fullstack-complete-module .event-time {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            white-space: nowrap;
        }

        .fullstack-complete-module .event-description {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
            margin-top: 12px;
        }

        .fullstack-complete-module .event-tags {
            display: flex;
            gap: 8px;
            margin-top: 16px;
        }

        .fullstack-complete-module .event-tag {
            padding: 4px 12px;
            font-size: 11px;
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
        }

        /* ==================== 任务看板（优化为3列） ==================== */
        .fullstack-complete-module .task-board-container {
            display: flex;
            flex-direction: column;
            min-height: 1500px;  /* ✅ 设置最小高度，可显示5+个任务 */
        }

        .fullstack-complete-module .task-board-header {
            padding: 24px 40px;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
        }

        .fullstack-complete-module .filter-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .fullstack-complete-module .filter-chips {
            display: flex;
            gap: 12px;
        }

        .fullstack-complete-module .sort-select {
            padding: 8px 16px;
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .sort-select:hover {
            border-color: var(--noir-steel);
        }

        .sort-select:focus {
            outline: none;
            border-color: var(--noir-ink);
        }

        .fullstack-complete-module .kanban-board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 24px;
            padding: 40px;
            flex: 1;
            overflow-y: auto;
            min-height: 0;  /* ✅ 关键：允许flex收缩，滚动条生效 */
        }

        .fullstack-complete-module .kanban-column {
            background: var(--blanc-pearl);
            border: 1px solid var(--blanc-mist);
            display: flex;
            flex-direction: column;
            min-height: 400px;
        }

        .fullstack-complete-module .column-header {
            padding: 20px 24px;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
        }

        .fullstack-complete-module .column-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .fullstack-complete-module .column-count {
            padding: 2px 10px;
            font-size: 11px;
            font-family: var(--font-mono);
            background: var(--blanc-mist);
            color: var(--noir-steel);
        }

        .fullstack-complete-module .column-cards {
            padding: 24px;
            overflow-y: auto;
            flex: 1;
        }

        /* ==================== 任务卡片 ==================== */
        .fullstack-complete-module .task-card {
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            padding: 20px;
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }

        .task-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }

        .fullstack-complete-module .task-card-header {
            margin-bottom: 12px;
        }

        .fullstack-complete-module .task-id {
            display: inline-block;
            padding: 4px 12px;
            font-size: 11px;
            font-family: var(--font-mono);
            background: var(--noir-ink);
            color: var(--blanc-pure);
            margin-bottom: 8px;
        }

        .fullstack-complete-module .task-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 8px;
        }

        .fullstack-complete-module .task-status-badge {
            display: inline-block;
            padding: 4px 12px;
            font-size: 11px;
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
            background: var(--blanc-pearl);
        }

        .task-status-badge.parallel {
            background: var(--noir-graphite);
            color: var(--blanc-pure);
            border-color: var(--noir-graphite);
        }

        .fullstack-complete-module .task-description {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
            margin: 12px 0;
        }

        .fullstack-complete-module .task-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 16px 0;
            padding-top: 12px;
            border-top: 1px solid var(--blanc-mist);
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .fullstack-complete-module .task-estimate {
            font-family: var(--font-mono);
        }

        .fullstack-complete-module .priority-badge {
            padding: 4px 10px;
            font-size: 11px;
            font-family: var(--font-mono);
        }

        .priority-badge.p0 {
            background: var(--noir-ink);
            color: var(--blanc-pure);
        }

        .priority-badge.p1 {
            background: var(--noir-graphite);
            color: var(--blanc-pure);
        }

        .priority-badge.p2 {
            border: 1px solid var(--noir-steel);
            color: var(--noir-steel);
        }

        .fullstack-complete-module .task-assignee {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 12px;
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .fullstack-complete-module .assignee-avatar {
            width: 24px;
            height: 24px;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: var(--weight-medium);
        }

        .fullstack-complete-module .task-actions {
            display: flex;
            gap: 12px;
            margin-top: 16px;
        }

        .fullstack-complete-module .task-action-button {
            flex: 1;
            padding: 8px 16px;
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .task-action-button:hover {
            background: var(--blanc-pearl);
        }

        .task-action-button.primary {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .task-action-button.primary:hover {
            background: var(--noir-charcoal);
        }

        /* ==================== 代码审查时间线 ==================== */
        .fullstack-complete-module .code-review-container {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .fullstack-complete-module .code-review-timeline {
            flex: 1;
            overflow-y: auto;
            padding: 40px 40px 40px 80px;
            position: relative;
            min-height: 0;  /* ✅ 关键：允许flex收缩，滚动条生效 */
        }

        .code-review-timeline::before {
            content: '';
            position: absolute;
            left: 40px;
            top: 80px;
            bottom: 0;
            width: 2px;
            background: var(--blanc-mist);
        }

        .fullstack-complete-module .review-filters {
            display: flex;
            gap: 12px;
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .fullstack-complete-module .review-item {
            position: relative;
            margin-bottom: 48px;
        }

        .fullstack-complete-module .review-marker {
            position: absolute;
            left: -48px;
            top: 0;
            width: 16px;
            height: 16px;
            border: 2px solid var(--noir-ink);
            background: var(--blanc-pure);
        }

        .review-marker.approved {
            background: var(--noir-ink);
        }

        .review-marker.pending {
            background: var(--blanc-pure);
        }

        .fullstack-complete-module .review-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            transition: all 0.3s ease;
        }

        .review-card:hover {
            box-shadow: var(--shadow-sm);
        }

        .fullstack-complete-module .review-card-header {
            margin-bottom: 16px;
        }

        .fullstack-complete-module .review-title {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 8px;
        }

        .fullstack-complete-module .review-meta {
            display: flex;
            gap: 16px;
            align-items: center;
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .fullstack-complete-module .review-status {
            display: inline-block;
            padding: 4px 12px;
            font-size: var(--text-xs);
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
        }

        .review-status.approved {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .review-status.pending {
            background: var(--blanc-pearl);
        }

        .fullstack-complete-module .review-content {
            margin: 24px 0;
        }

        .fullstack-complete-module .content-label {
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
            margin-bottom: 12px;
        }

        .fullstack-complete-module .content-list {
            padding-left: 20px;
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
        }

        .fullstack-complete-module .content-item {
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .content-item::before {
            content: '├─';
            color: var(--noir-silver);
            font-family: var(--font-mono);
        }

        .content-item:last-child::before {
            content: '└─';
        }

        .fullstack-complete-module .review-comment {
            background: var(--blanc-pearl);
            border-left: 2px solid var(--noir-ink);
            padding: 16px 20px;
            margin: 24px 0;
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
        }

        .fullstack-complete-module .review-actions {
            display: flex;
            gap: 12px;
            margin-top: 24px;
        }

        .fullstack-complete-module .review-action-button {
            padding: 8px 16px;
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .review-action-button:hover {
            background: var(--blanc-pearl);
        }

        .review-action-button.approve {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .review-action-button.approve:hover {
            background: var(--noir-charcoal);
        }

        /* ==================== 技术文档库 ==================== */
        .fullstack-complete-module .docs-container {
            display: flex;
            height: 100%;
        }

        .fullstack-complete-module .docs-sidebar {
            width: 280px;
            border-right: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
            display: flex;
            flex-direction: column;
        }

        .fullstack-complete-module .docs-search {
            padding: 20px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .fullstack-complete-module .docs-categories {
            flex: 1;
            overflow-y: auto;
        }

        .fullstack-complete-module .category-group {
            border-bottom: 1px solid var(--blanc-mist);
        }

        .fullstack-complete-module .category-header {
            padding: 16px 20px;
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            background: var(--blanc-pearl);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-header:hover {
            background: var(--blanc-silk);
        }

        .fullstack-complete-module .category-items {
            display: none;
        }

        .category-items.active {
            display: block;
        }

        .fullstack-complete-module .doc-item {
            padding: 12px 20px 12px 40px;
            font-size: var(--text-sm);
            color: var(--noir-steel);
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 2px solid transparent;
        }

        .doc-item:hover {
            background: var(--blanc-pearl);
            color: var(--noir-graphite);
        }

        .doc-item.active {
            background: var(--blanc-pure);
            color: var(--noir-ink);
            border-left-color: var(--noir-ink);
        }

        .fullstack-complete-module .docs-content {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
            min-height: 0;  /* ✅ 关键：允许flex收缩，滚动条生效 */
        }

        .fullstack-complete-module .doc-header {
            margin-bottom: 32px;
            padding-bottom: 24px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .fullstack-complete-module .doc-title {
            font-family: var(--font-secondary);
            font-size: var(--text-2xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            margin-bottom: 12px;
        }

        .fullstack-complete-module .doc-meta {
            display: flex;
            gap: 24px;
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .doc-

        .fullstack-complete-module .doc-section {
            margin-bottom: 32px;
        }

        .fullstack-complete-module .doc-section-title {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 16px;
        }

        .fullstack-complete-module .doc-section-content {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
        }

        .fullstack-complete-module .doc-code-block {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            padding: 20px;
            margin: 20px 0;
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            line-height: var(--leading-relaxed);
            overflow-x: auto;
        }

        /* ==================== 对话历史（与架构师工作台一致） ==================== */
        .fullstack-complete-module .conversation-layout {
            display: flex;
            height: 100%;
        }

        .fullstack-complete-module .conversation-list {
            width: 380px;
            border-right: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
            display: flex;
            flex-direction: column;
        }

        .fullstack-complete-module .conversation-search {
            padding: 20px 20px 16px 20px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .fullstack-complete-module .search-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--blanc-cloud);
            font-size: var(--text-sm);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--noir-silver);
        }

        .fullstack-complete-module .conversation-items {
            flex: 1;
            overflow-y: auto;
        }

        .fullstack-complete-module .conversation-item {
            padding: 20px;
            border-bottom: 1px solid var(--blanc-mist);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .conversation-item:hover {
            background: var(--blanc-pearl);
        }

        .conversation-item.active {
            background: var(--blanc-pure);
            border-left: 2px solid var(--noir-ink);
        }

        .fullstack-complete-module .conversation-item-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 8px;
        }

        .fullstack-complete-module .conversation-item-title {
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .fullstack-complete-module .conversation-item-time {
            font-size: 11px;
            color: var(--noir-silver);
        }

        .fullstack-complete-module .conversation-item-preview {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            margin-bottom: 8px;
        }

        .fullstack-complete-module .conversation-item-meta {
            display: flex;
            gap: 16px;
            font-size: 11px;
            color: var(--noir-silver);
        }

        .fullstack-complete-module .conversation-detail {
            flex: 1;
            display: flex;
            flex-direction: column;
            background: var(--blanc-pure);
        }

        .fullstack-complete-module .detail-header {
            padding: 24px 32px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .fullstack-complete-module .detail-title {
            font-size: var(--text-xl);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 12px;
        }

        .fullstack-complete-module .detail-meta {
            display: flex;
            gap: 24px;
            font-size: var(--text-sm);
            color: var(--noir-steel);
        }

        .fullstack-complete-module .messages-container {
            flex: 1;
            overflow-y: auto;
            padding: 32px;
            min-height: 0;  /* ✅ 关键：允许flex收缩，滚动条生效 */
        }

        .fullstack-complete-module .message {
            display: flex;
            gap: 16px;
            margin-bottom: 32px;
        }

        .fullstack-complete-module .message-avatar {
            width: 40px;
            height: 40px;
            flex-shrink: 0;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
        }

        .message-avatar.user {
            background: var(--noir-graphite);
        }

        .fullstack-complete-module .message-content {
            flex: 1;
        }

        .fullstack-complete-module .message-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 8px;
        }

        .fullstack-complete-module .message-sender {
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .fullstack-complete-module .message-time {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .fullstack-complete-module .message-text {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
            padding: 16px 20px;
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
        }

        .message-text pre {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            padding: 16px;
            margin: 16px 0;
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            overflow-x: auto;
        }

        .message-text strong {
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        /* ==================== 滚动条 ==================== */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--blanc-pearl);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--blanc-cloud);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--noir-silver);
        }

        /* ==================== 响应式 ==================== */
        @media (max-width: 1400px) {
            .fullstack-complete-module .kanban-board {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 1200px) {
            .fullstack-complete-module .quick-stats {
                display: none;
            }
            
            .fullstack-complete-module .conversation-list {
                width: 320px;
            }
        }

        @media (max-width: 768px) {
            

            .fullstack-complete-module {
                margin: 0;  /* ✅ 移动端取消上下边距 */
            }

            .fullstack-complete-module .conversation-layout {
                flex-direction: column;
            }

            .fullstack-complete-module .conversation-list {
                width: 100%;
                height: 40%;
                border-right: none;
                border-bottom: 1px solid var(--blanc-mist);
            }

            .fullstack-complete-module .docs-container {
                flex-direction: column;
            }

            .fullstack-complete-module .docs-sidebar {
                width: 100%;
                height: 200px;
                border-right: none;
                border-bottom: 1px solid var(--blanc-mist);
            }
        }

        /* ==================== Footer 主容器 ==================== */
        .taskflow-footer {
            background: var(--blanc-pure);
            border-top: 1px solid var(--blanc-mist);
            margin-top: var(--space-8);
        }

        /* ==================== Footer 内容区 ==================== */
        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--space-8) var(--space-6);
        }

        /* ==================== 上部分：品牌与链接 ==================== */
        .footer-main {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr 1.5fr;
            gap: var(--space-8);
            padding-bottom: var(--space-8);
            border-bottom: 1px solid var(--blanc-mist);
            margin-bottom: var(--space-6);
        }

        /* 品牌区 */
        .footer-brand {
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }

        .footer-logo {
            font-size: var(--text-xl);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            letter-spacing: -0.01em;
            margin-bottom: var(--space-2);
        }

        .footer-tagline {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
            max-width: 300px;
        }

        .footer-tagline-en {
            color: var(--noir-silver);
            font-size: var(--text-xs);
            margin-top: var(--space-2);
            font-style: italic;
        }

        /* 链接列 */
        .footer-column {
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }

        .footer-column-title {
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: var(--space-2);
            letter-spacing: 0.05em;
        }

        .footer-link {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            text-decoration: none;
            transition: all var(--duration-normal) var(--ease-luxury);
            display: inline-block;
        }

        .footer-link:hover {
            color: var(--noir-ink);
            transform: translateX(4px);
        }

        .footer-link-badge {
            display: inline-block;
            margin-left: var(--space-2);
            padding: 2px 8px;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            font-size: 10px;
            font-weight: var(--weight-medium);
            letter-spacing: 0.05em;
        }

        /* 订阅区 */
        .footer-subscribe {
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }

        .footer-subscribe-title {
            font-size: var(--text-sm);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: var(--space-2);
        }

        .footer-subscribe-desc {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            line-height: var(--leading-relaxed);
        }

        .subscribe-form {
            display: flex;
            gap: 0;
            margin-top: var(--space-2);
        }

        .subscribe-input {
            flex: 1;
            padding: 10px 16px;
            border: 1px solid var(--blanc-cloud);
            border-right: none;
            background: var(--blanc-snow);
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            font-family: var(--font-primary);
            transition: all var(--duration-normal) var(--ease-luxury);
        }

        .subscribe-input:focus {
            outline: none;
            background: var(--blanc-pure);
            border-color: var(--noir-steel);
        }

        .subscribe-input::placeholder {
            color: var(--noir-ash);
        }

        .subscribe-button {
            padding: 10px 20px;
            background: var(--noir-ink);
            border: 1px solid var(--noir-ink);
            color: var(--blanc-pure);
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            cursor: pointer;
            transition: all var(--duration-normal) var(--ease-luxury);
        }

        .subscribe-button:hover {
            background: var(--noir-charcoal);
            border-color: var(--noir-charcoal);
        }

        /* ==================== 中部分：统计数据 ==================== */
        .footer-stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-6);
            padding: var(--space-6) 0;
            border-bottom: 1px solid var(--blanc-mist);
            margin-bottom: var(--space-6);
        }

        .stat-item {
            text-align: center;
            padding: var(--space-4);
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            transition: all var(--duration-normal) var(--ease-luxury);
        }

        .stat-item:hover {
            background: var(--blanc-pure);
            transform: translateY(-2px);
            box-shadow: var(--shadow-sm);
        }

        .stat-value {
            font-size: 28px;
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: var(--space-2);
            letter-spacing: -0.02em;
        }

        .stat-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            letter-spacing: 0.05em;
        }

        /* ==================== 下部分：版权与备案 ==================== */
        .footer-bottom {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: var(--space-5);
        }

        .footer-copyright {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }

        .copyright-text {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .copyright-links {
            display: flex;
            gap: var(--space-4);
        }

        .copyright-link {
            font-size: var(--text-xs);
            color: var(--noir-steel);
            text-decoration: none;
            transition: all var(--duration-normal) var(--ease-luxury);
        }

        .copyright-link:hover {
            color: var(--noir-ink);
        }

        .footer-meta {
            display: flex;
            align-items: center;
            gap: var(--space-5);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .meta-badge {
            padding: 4px 10px;
            background: var(--blanc-pearl);
            border: 1px solid var(--blanc-cloud);
            font-size: 10px;
            font-weight: var(--weight-medium);
            color: var(--noir-steel);
            letter-spacing: 0.05em;
        }
    

        
        /* ========== 左侧固定导航栏（完全复制右侧样式）========== */
        .side-navigation {
            position: fixed;
            top: 120px;
            left: 20px;
            z-index: 1000;
            background: white;
            border: 1px solid #E8ECEF;
            padding: 20px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
            max-width: 280px;
            border-radius: 0;
        }

        .side-nav-header {
            font-size: 12px;
            font-weight: 700;
            color: var(--noir-graphite);
            margin-bottom: 12px;
            padding-bottom: 12px;
            border-bottom: 1px solid #E8ECEF;
        }

        .side-nav-list {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .side-nav-item {
            margin: 0;
        }

        .side-nav-link {
            display: block;
            padding: 10px 12px;
            margin-bottom: 8px;
            border: 1px solid #E8ECEF;
            background: white;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s ease;
            border-radius: 0;
            text-decoration: none;
            color: var(--noir-graphite);
        }

        .side-nav-link:hover {
            background: var(--blanc-silk);
            border-color: var(--noir-steel);
        }

        .side-nav-link.active {
            background: var(--blanc-mist);
            color: var(--noir-ink);
            border-color: var(--noir-steel);
            font-weight: 600;
        }

        @media (max-width: 1400px) {
            .side-navigation {
            display: none;
        }
        }

        
        }
    </style>
</head>
<body>
    <header class="brand-header">
        <div class="brand-container">
            <!-- 品牌标识 + Slogan -->
            <div class="brand-identity">
                <div class="brand-logo-line">
                    <div class="brand-icon">F</div>
                    <h1 class="brand-name">任务所·Flow</h1>
                </div>
                <p class="brand-slogan">用对话开工，用流程收工 —— AI开发工厂新实践</p>
            </div>
            <!-- 操作区 -->
            <div class="brand-actions">
                <div class="action-item">
                    <span class="status-dot"></span>
                    <span>ONLINE</span>
                </div>
                <div class="action-item" onclick="clearCache()">
                    <span>清除缓存</span>
                </div>
            </div>
        </div>
    </header>

    <!-- 主容器 -->
    <main class="main-container">
        
        <!-- 统计卡片 -->
        <div class="stats-section version-content" data-version="1">
            <div class="stats-label">全栈工程师专用调试版</div>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value">8830</div>
                    <div class="stat-label">调试端口</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">1</div>
                    <div class="stat-label">模块数</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value">容器高度</div>
                    <div class="stat-label">调试中</div>
                </div>
            </div>
        </div>

        <!-- 只保留全栈工程师模块 -->
        <div class="engineer-module" id="module-fullstack">
            <!-- 模块头部 -->
        <div class="module-header">
            <div class="header-row">
                <h1 class="module-title">全栈工程师工作台</h1>
                <span class="status-badge">
                    <span class="status-dot"></span>
                        在线 · 3人并行
                    </span>
                </div>

            <div class="engineer-info">
                <div class="info-section">
                        <div class="engineer-avatar">FS</div>
                        <div class="engineer-details">
                            <div class="engineer-name">Fullstack Engineer AI</div>
                        <div class="engineer-meta">Expert Level · 接手: 2025-11-18 14:00 · 工作时长: 2天6小时</div>
                        </div>
                    </div>
                <div class="quick-stats">
                    <div class="stat-item">
                        <div class="stat-value">156K</div>
                        <div class="stat-label">Token已用</div>
                        </div>
                    <div class="stat-item">
                        <div class="stat-value">v3.1</div>
                        <div class="stat-label">提示词</div>
                        </div>
                    <div class="stat-item">
                        <div class="stat-value">67</div>
                        <div class="stat-label">事件</div>
                        </div>
                    </div>
                </div>
            </div>

        <!-- Tab导航（精简到5个） -->
        <div class="tab-navigation">
            <button class="tab-item active" onclick="switchEngineerTab('engineer-taskboard')">
                任务看板
                <span class="tab-badge">43</span>
                </button>
            <button class="tab-item" onclick="switchEngineerTab('engineer-events')">
                    事件流
                <span class="tab-badge">67</span>
                </button>
            <button class="tab-item" onclick="switchEngineerTab('engineer-reviews')">
                    代码审查
                <span class="tab-badge">15</span>
                </button>
            <button class="tab-item" onclick="switchEngineerTab('engineer-docs')">
                    技术文档
                <span class="tab-badge">68</span>
                </button>
            <button class="tab-item" onclick="switchEngineerTab('engineer-conversations')">
                    对话历史
                <span class="tab-badge">12</span>
                </button>
            </div>

            <!-- Tab内容 -->
        <div class="tab-content-wrapper">
            <!-- Tab 1: 任务看板 -->
            <div id="engineer-taskboard" class="tab-pane active" style="height: 2000px">
                <div class="task-board-container">
                    <div class="task-board-header">
                        <div class="filter-bar">
                            <div class="filter-chips">
                                <button class="filter-chip active" onclick="filterEngineerTasks('all')">全部 <span class="filter-count">43</span></button>
                                <button class="filter-chip" onclick="filterEngineerTasks('pending')">待处理 <span class="filter-count">18</span></button>
                                <button class="filter-chip" onclick="filterEngineerTasks('in-progress')">进行中 <span class="filter-count">5</span></button>
                                <button class="filter-chip" onclick="filterEngineerTasks('completed')">已完成 <span class="filter-count">20</span></button>
                        </div>
                            <select class="sort-select">
                                <option>按优先级排序</option>
                                <option>按时间排序</option>
                                <option>按复杂度排序</option>
                            </select>
                            </div>
                        </div>

                    <!-- 任务卡片列表 -->
                    <div class="task-list-container">
                        <!-- 待处理任务 -->
                        <div class="task-card" data-status="pending">
                            <div class="task-card-header">
                                <span class="task-id">TASK-UI-028</span>
                                <h3 class="task-title">实现记忆管理Tab</h3>
                                    </div>
                            <div class="task-description">
                                实现Dashboard项目记忆Tab，包括记忆增删改查、分类管理、搜索功能。
                                需要前后端联调，使用Neo4j存储。
                                </div>
                            <div class="task-meta">
                                <div class="task-meta-left">
                                    <span>预估: <span class="task-estimate">3小时</span></span>
                                    <span class="task-status-indicator">
                                        <span class="status-dot-small pending"></span>
                                        待处理
                                    </span>
                                </div>
                                <div class="task-meta-right">
                                    <span class="task-status-badge parallel">可并行</span>
                                    <span class="priority-badge p1">P1</span>
                                </div>
                            </div>
                            <div class="task-actions">
                                <button class="task-action-button primary" onclick="copyEngineerPrompt(event)">复制提示词</button>
                                <button class="task-action-button">查看详情</button>
                            </div>
                        </div>

                        <div class="task-card" data-status="pending">
                            <div class="task-card-header">
                                <span class="task-id">TASK-BE-015</span>
                                <h3 class="task-title">实现API限流中间件</h3>
                                    </div>
                            <div class="task-description">
                                基于Redis实现API限流中间件，支持IP级别和用户级别限流。
                                采用令牌桶算法，配置化限流规则。
                                </div>
                            <div class="task-meta">
                                <div class="task-meta-left">
                                    <span>预估: <span class="task-estimate">4小时</span></span>
                                    <span class="task-status-indicator">
                                        <span class="status-dot-small pending"></span>
                                        待处理
                                    </span>

                            </div>
                                <div class="task-meta-right">
                                    <span class="priority-badge p2">P2</span>
                                </div>
                                    </div>
                            <div class="task-actions">
                                <button class="task-action-button primary" onclick="copyEngineerPrompt(event)">复制提示词</button>
                                <button class="task-action-button">查看详情</button>
                    </div>
                </div>

                        <div class="task-card" data-status="pending">
                            <div class="task-card-header">
                                <span class="task-id">TASK-UI-029</span>
                                <h3 class="task-title">优化首屏加载性能</h3>
                            </div>
                            <div class="task-description">
                                优化首屏加载性能，目标LCP&lt;2.5s。实现代码分割、懒加载、
                                预加载关键资源、图片优化。
                            </div>
                            <div class="task-meta">
                                <div class="task-meta-left">
                                    <span>预估: <span class="task-estimate">5小时</span></span>
                                    <span class="task-status-indicator">
                                        <span class="status-dot-small pending"></span>
                                        待处理
                                    </span>
                            </div>
                                <div class="task-meta-right">
                                    <span class="task-status-badge parallel">可并行</span>
                                    <span class="priority-badge p1">P1</span>
                                </div>
                        </div>
                            <div class="task-actions">
                                <button class="task-action-button primary" onclick="copyEngineerPrompt(event)">复制提示词</button>
                                <button class="task-action-button">查看详情</button>
                            </div>
                        </div>

                        <!-- 进行中任务 -->
                        <div class="task-card" data-status="in-progress">
                            <div class="task-card-header">
                                <span class="task-id">TASK-BE-012</span>
                                <h3 class="task-title">Claude API集成</h3>
                            </div>
                            <div class="task-description">
                                集成Claude API实现对话功能。包括流式响应、错误处理、
                                Token统计、会话管理。已完成60%。
                            </div>
                            <div class="task-meta">
                                <div class="task-meta-left">
                                    <span>已用: <span class="task-estimate">1.5天</span></span>
                                    <span class="task-status-indicator">
                                        <span class="status-dot-small in-progress"></span>
                                        进行中
                                    </span>
                            </div>
                                <div class="task-meta-right">
                                    <span class="priority-badge p0">P0</span>
                                </div>
                        </div>
                            <div class="task-actions">
                                <button class="task-action-button" onclick="reassignTask(event)">重新派发任务</button>
                                <button class="task-action-button">查看详情</button>
                            </div>
                        </div>

                        <div class="task-card" data-status="in-progress">
                            <div class="task-card-header">
                                <span class="task-id">TASK-UI-025</span>
                                <h3 class="task-title">知识图谱可视化组件</h3>
                            </div>
                            <div class="task-description">
                                基于D3.js实现知识图谱可视化。支持力导向布局、缩放平移、
                                节点搜索、关系筛选。已完成布局算法。
                            </div>
                            <div class="task-meta">
                                <div class="task-meta-left">
                                    <span>已用: <span class="task-estimate">8小时</span></span>
                                    <span class="task-status-indicator">
                                        <span class="status-dot-small in-progress"></span>
                                        进行中
                                    </span>

                            </div>
                                <div class="task-meta-right">
                                    <span class="priority-badge p1">P1</span>
                                </div>
                        </div>
                            <div class="task-actions">
                                <button class="task-action-button" onclick="reassignTask(event)">重新派发任务</button>
                                <button class="task-action-button">查看详情</button>
                            </div>
                        </div>

                        <!-- 已完成任务 -->
                        <div class="task-card" data-status="completed">
                            <div class="task-card-header">
                                <span class="task-id">TASK-UI-024</span>
                                <h3 class="task-title">Dashboard响应式优化</h3>
                                <span class="task-status-badge">✓ 已完成</span>
                            </div>
                            <div class="task-description">
                                完成了Dashboard的完整响应式优化，支持5个断点。
                                已通过所有浏览器兼容性测试。
                            </div>
                            <div class="task-meta">
                                <div class="task-meta-left">
                                    <span>用时: <span class="task-estimate">6小时</span></span>
                                    <span>完成: <span class="task-estimate">2025-11-19</span></span>
                            </div>
                                <div class="task-meta-right">
                                    <span class="priority-badge p1">P1</span>
                                </div>
                        </div>
                            <div class="task-actions">
                                <button class="task-action-button primary" onclick="copyReport(event)">复制完成报告</button>
                                <button class="task-action-button">查看详情</button>
                            </div>
                        </div>

                        <div class="task-card" data-status="completed">
                            <div class="task-card-header">
                                <span class="task-id">TASK-BE-011</span>
                                <h3 class="task-title">用户认证模块</h3>
                                <span class="task-status-badge">✓ 已完成</span>
                            </div>
                            <div class="task-description">
                                实现JWT认证、权限管理、会话管理。支持多端登录、
                                自动续期、安全退出。代码审查已通过。
                            </div>
                            <div class="task-meta">
                                <div class="task-meta-left">
                                    <span>用时: <span class="task-estimate">2天</span></span>
                                    <span>完成: <span class="task-estimate">2025-11-18</span></span>

                            </div>
                                <div class="task-meta-right">
                                    <span class="priority-badge p0">P0</span>
                                </div>
                        </div>
                            <div class="task-actions">
                                <button class="task-action-button primary" onclick="copyReport(event)">复制完成报告</button>
                                <button class="task-action-button">查看详情</button>
                            </div>
                        </div>

                        <div class="task-card" data-status="completed">
                            <div class="task-card-header">
                                <span class="task-id">TASK-DB-008</span>
                                <h3 class="task-title">Neo4j数据库设计</h3>
                                <span class="task-status-badge">✓ 已完成</span>
                            </div>
                            <div class="task-description">
                                完成知识图谱数据库设计。定义了节点类型、关系类型、
                                索引策略。性能测试通过。
                            </div>
                            <div class="task-meta">
                                <div class="task-meta-left">
                                    <span>用时: <span class="task-estimate">1.5天</span></span>
                                    <span>完成: <span class="task-estimate">2025-11-17</span></span>
                            </div>
                                <div class="task-meta-right">
                                    <span class="priority-badge p1">P1</span>
                                </div>
                        </div>
                            <div class="task-actions">
                                <button class="task-action-button primary" onclick="copyReport(event)">复制完成报告</button>
                                <button class="task-action-button">查看详情</button>
                            </div>
                            </div>
                            </div>
                            </div>
                        </div>

            <!-- Tab 2: 事件流 -->
            <div id="engineer-events" class="tab-pane">
                <div class="event-timeline">
                    <div class="timeline-filters">
                        <button class="filter-chip active">全部</button>
                        <button class="filter-chip">今天</button>
                        <button class="filter-chip">本周</button>
                        <button class="filter-chip">任务</button>
                        <button class="filter-chip">代码</button>
                        <button class="filter-chip">部署</button>
                        </div>

                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="event-card">
                            <div class="event-header">
                                <div>
                                    <div class="event-title">任务完成: Dashboard响应式优化</div>
                                    <div class="event-meta">Fullstack Engineer AI · TASK-FE-045</div>
                            </div>
                                <div class="event-time">2025-11-19 16:30</div>
                            </div>
                            <div class="event-description">
                                完成了Dashboard的完整响应式优化，支持1920/1440/1280/768/375五个断点。
                                实现了Flexbox+Grid混合布局，移动端优先策略，触摸手势优化。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">前端开发</span>
                                <span class="event-tag">响应式</span>
                                <span class="event-tag">已完成</span>
                            </div>
                        </div>
                            </div>

                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="event-card">
                            <div class="event-header">
                                <div>
                                    <div class="event-title">代码审查通过: API集成模块</div>
                                    <div class="event-meta">架构师审查 · REVIEW-014</div>
                            </div>
                                <div class="event-time">2025-11-19 14:20</div>
                            </div>
                            <div class="event-description">
                                架构师审查通过，代码质量优秀。成功集成了Claude API和Notion API，
                                包含完整的错误处理、重试机制和日志记录。已合并到主分支。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">代码审查</span>
                                <span class="event-tag">API集成</span>
                                <span class="event-tag">已通过</span>
                        </div>
                            </div>
                        </div>

                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="event-card">
                            <div class="event-header">
                                <div>
                                    <div class="event-title">接收任务: 实现记忆管理Tab</div>
                                    <div class="event-meta">架构师分配 → Fullstack Engineer AI</div>
                            </div>
                                <div class="event-time">2025-11-19 10:00</div>
                            </div>
                            <div class="event-description">
                                架构师分配了新任务：实现Dashboard项目记忆Tab。包括记忆增删改查、
                                分类管理、搜索功能。预估3小时，可并行开发。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">任务分配</span>
                                <span class="event-tag">可并行</span>
                            </div>
                        </div>
                            </div>

                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="event-card">
                            <div class="event-header">
                                <div>
                                    <div class="event-title">部署成功: Dashboard v2.1.0</div>
                                    <div class="event-meta">CI/CD Pipeline · DEPLOY-028</div>
                            </div>
                                <div class="event-time">2025-11-18 18:45</div>
                            </div>
                            <div class="event-description">
                                成功部署到生产环境。通过了所有自动化测试（单元测试92%覆盖率，
                                E2E测试18个场景全通过）。Lighthouse性能评分: 98/100。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">部署</span>
                                <span class="event-tag">生产环境</span>
                                <span class="event-tag">成功</span>
                        </div>
                            </div>
                        </div>

                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="event-card">
                            <div class="event-header">
                                <div>
                                    <div class="event-title">Bug修复: 知识图谱渲染问题</div>
                                    <div class="event-meta">Fullstack Engineer AI · BUG-012</div>
                            </div>
                                <div class="event-time">2025-11-18 14:30</div>
                            </div>
                            <div class="event-description">
                                修复了知识图谱在大数据量下的渲染卡顿问题。采用虚拟滚动+WebWorker
                                方案，渲染性能提升80%，支持10000+节点流畅显示。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">Bug修复</span>
                                <span class="event-tag">性能优化</span>
                                <span class="event-tag">已完成</span>
                            </div>
                        </div>
                            </div>

                    <div class="timeline-item">
                        <div class="timeline-marker"></div>
                        <div class="event-card">
                            <div class="event-header">
                                <div>
                                    <div class="event-title">数据库优化: Neo4j查询性能提升</div>
                                    <div class="event-meta">Fullstack Engineer AI · OPT-008</div>
                            </div>
                                <div class="event-time">2025-11-17 16:20</div>
                            </div>
                            <div class="event-description">
                                优化了Neo4j的Cypher查询语句，添加了合适的索引。复杂关系查询
                                从2.5s优化到0.3s，提升8倍性能。同时优化了连接池配置。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">数据库</span>
                                <span class="event-tag">性能优化</span>
                                <span class="event-tag">Neo4j</span>
                        </div>
                            </div>
                            </div>
                            </div>
                        </div>


            <!-- Tab 3: 代码审查 -->
            <div id="engineer-reviews" class="tab-pane">
                <div class="code-review-container">
                    <div class="code-review-timeline">
                        <div class="review-filters">
                            <button class="filter-chip active">全部</button>
                            <button class="filter-chip">待审查</button>
                            <button class="filter-chip">已通过</button>
                            <button class="filter-chip">需修改</button>
                            </div>

                        <div class="review-item">
                            <div class="review-marker pending"></div>
                            <div class="review-card">
                                <div class="review-card-header">
                                    <h3 class="review-title">REVIEW-015 | Dashboard响应式代码审查</h3>
                                    <div class="review-meta">
                                        <span>2025-11-19 17:00</span>
                                        <span class="review-status pending">审查中</span>
                            </div>
                            </div>

                                <div class="review-content">
                                    <div class="content-label">审查内容:</div>
                                    <div class="content-list">
                                        <div class="content-item">12个React组件响应式改造</div>
                                        <div class="content-item">CSS Grid + Flexbox混合布局</div>
                                        <div class="content-item">5个断点断点适配</div>
                                        <div class="content-item">触摸手势优化</div>
                                        <div class="content-item">测试覆盖率: 88%</div>
                            </div>
                        </div>

                                <div class="review-comment">
                                    <div class="content-label">审查意见:</div>
                                    代码结构清晰，响应式实现优秀。建议优化媒体查询的组织方式，
                                    可以考虑使用CSS变量统一管理断点值。性能测试结果良好。
                            </div>

                                <div class="review-actions">
                                    <button class="review-action-button" disabled style="cursor: not-allowed; opacity: 0.6;">等待架构师审查...</button>
                            </div>
                            </div>
                        </div>

                        <div class="review-item">
                            <div class="review-marker" style="background: var(--noir-graphite);"></div>
                            <div class="review-card">
                                <div class="review-card-header">
                                    <h3 class="review-title">REVIEW-014-FIX | API错误处理优化</h3>
                                    <div class="review-meta">
                                        <span>2025-11-19 15:30</span>
                                        <span class="review-status" style="background: var(--noir-graphite); color: var(--blanc-pure); border-color: var(--noir-graphite);">需修改</span>
                            </div>
                        </div>

                                <div class="review-content">
                                    <div class="content-label">审查内容:</div>
                                    <div class="content-list">
                                        <div class="content-item">API错误处理逻辑</div>
                                        <div class="content-item">重试机制实现</div>
                                        <div class="content-item">错误日志记录</div>
                            </div>
                        </div>

                                <div class="review-comment">
                                    <div class="content-label">审查意见:</div>
                                    发现2个问题需要修改：<br>
                                    1. 重试机制缺少指数退避策略，建议使用exponential backoff<br>
                                    2. 错误日志缺少关键上下文信息（用户ID、请求ID）<br>
                                    已自动生成修改任务 TASK-FIX-089，请查看任务看板。
                            </div>

                                <div class="review-actions">
                                    <button class="review-action-button" style="background: var(--noir-graphite); color: var(--blanc-pure); border-color: var(--noir-graphite); cursor: default;" disabled>✗ 需修改 · 已生成修改任务</button>
                            </div>
                            </div>
                        </div>

                        <div class="review-item">
                            <div class="review-marker approved"></div>
                            <div class="review-card">
                                <div class="review-card-header">
                                    <h3 class="review-title">REVIEW-014 | API集成模块审查</h3>
                                    <div class="review-meta">
                                        <span>2025-11-19 14:20</span>
                                        <span class="review-status approved">已通过</span>
                            </div>
                        </div>

                                <div class="review-content">
                                    <div class="content-label">审查内容:</div>
                                    <div class="content-list">
                                        <div class="content-item">Claude API集成（流式响应）</div>
                                        <div class="content-item">Notion API集成（CRUD操作）</div>
                                        <div class="content-item">错误处理与重试机制</div>
                                        <div class="content-item">API限流与缓存策略</div>
                                        <div class="content-item">完整的单元测试</div>
                            </div>
                        </div>

                                <div class="review-comment">
                                    <div class="content-label">审查意见:</div>
                                    代码质量优秀。错误处理完善，包含了重试机制和降级策略。
                                    日志记录规范。单元测试覆盖率92%。已合并到主分支。
                            </div>

                                <div class="review-actions">
                                    <button class="review-action-button approve" disabled style="cursor: default;">✓ 审查通过</button>
                            </div>
                            </div>
                        </div>

                        <div class="review-item">
                            <div class="review-marker approved"></div>
                            <div class="review-card">
                                <div class="review-card-header">
                                    <h3 class="review-title">REVIEW-013 | 用户认证模块审查</h3>
                                    <div class="review-meta">
                                        <span>2025-11-18 16:45</span>
                                        <span class="review-status approved">已通过</span>
                            </div>
                        </div>

                                <div class="review-content">
                                    <div class="content-label">审查内容:</div>
                                    <div class="content-list">
                                        <div class="content-item">JWT认证实现</div>
                                        <div class="content-item">权限管理（RBAC）</div>
                                        <div class="content-item">会话管理与自动续期</div>
                                        <div class="content-item">密码加密与安全策略</div>
                                        <div class="content-item">安全测试完成</div>
                            </div>
                        </div>

                                <div class="review-comment">
                                    <div class="content-label">审查意见:</div>
                                    安全实现规范，符合OWASP最佳实践。Token刷新机制设计合理。
                                    建议补充API文档说明认证流程。整体质量优秀，通过审查。
                            </div>

                                <div class="review-actions">
                                    <button class="review-action-button approve" disabled style="cursor: default;">✓ 审查通过</button>
                            </div>
                            </div>
                        </div>

                        <div class="review-item">
                            <div class="review-marker approved"></div>
                            <div class="review-card">
                                <div class="review-card-header">
                                    <h3 class="review-title">REVIEW-012 | Neo4j数据库设计审查</h3>
                                    <div class="review-meta">
                                        <span>2025-11-17 18:30</span>
                                        <span class="review-status approved">已通过</span>
                            </div>
                        </div>

                                <div class="review-content">
                                    <div class="content-label">审查内容:</div>
                                    <div class="content-list">
                                        <div class="content-item">节点类型定义（8种）</div>
                                        <div class="content-item">关系类型定义（15种）</div>
                                        <div class="content-item">索引策略设计</div>
                                        <div class="content-item">Cypher查询优化</div>
                                        <div class="content-item">性能测试报告</div>
                            </div>
                        </div>

                                <div class="review-comment">
                                    <div class="content-label">审查意见:</div>
                                    图数据库设计合理，充分利用了Neo4j的图特性。索引设计得当，
                                    查询性能优秀。关系建模符合业务需求。可以进入实现阶段。
                            </div>

                                <div class="review-actions">
                                    <button class="review-action-button approve" disabled style="cursor: default;">✓ 审查通过</button>
                            </div>
                            </div>
                            </div>
                        </div>
                            </div>
                        </div>

            <!-- Tab 4: 技术文档 -->
            <div id="engineer-docs" class="tab-pane">
                <div class="docs-container">
                    <div class="docs-sidebar">
                        <div class="docs-search">
                            <input type="text" class="search-input" placeholder="搜索文档...">
                            </div>
                        <div class="docs-categories">
                            <div class="category-group">
                                <div class="category-header" onclick="toggleCategory(event)">前端开发</div>
                                <div class="category-items active">
                                    <div class="doc-item active" onclick="selectDoc(event)">React组件开发规范</div>
                                    <div class="doc-item" onclick="selectDoc(event)">CSS架构与命名约定</div>
                                    <div class="doc-item" onclick="selectDoc(event)">状态管理最佳实践</div>
                                    <div class="doc-item" onclick="selectDoc(event)">性能优化指南</div>
                                    <div class="doc-item" onclick="selectDoc(event)">响应式设计规范</div>
                            </div>
                            </div>
                            <div class="category-group">
                                <div class="category-header" onclick="toggleCategory(event)">后端开发</div>
                                <div class="category-items">
                                    <div class="doc-item" onclick="selectDoc(event)">FastAPI项目结构</div>
                                    <div class="doc-item" onclick="selectDoc(event)">RESTful API设计</div>
                                    <div class="doc-item" onclick="selectDoc(event)">异步编程实践</div>
                                    <div class="doc-item" onclick="selectDoc(event)">错误处理策略</div>
                                    <div class="doc-item" onclick="selectDoc(event)">日志规范</div>
                            </div>
                        </div>
                            <div class="category-group">
                                <div class="category-header" onclick="toggleCategory(event)">数据库</div>
                                <div class="category-items">
                                    <div class="doc-item" onclick="selectDoc(event)">PostgreSQL设计规范</div>
                                    <div class="doc-item" onclick="selectDoc(event)">Neo4j图数据库实践</div>
                                    <div class="doc-item" onclick="selectDoc(event)">Redis缓存策略</div>
                                    <div class="doc-item" onclick="selectDoc(event)">数据库迁移管理</div>
                            </div>
                            </div>
                            <div class="category-group">
                                <div class="category-header" onclick="toggleCategory(event)">DevOps</div>
                                <div class="category-items">
                                    <div class="doc-item" onclick="selectDoc(event)">Docker容器化部署</div>
                                    <div class="doc-item" onclick="selectDoc(event)">CI/CD流程配置</div>
                                    <div class="doc-item" onclick="selectDoc(event)">监控与日志系统</div>
                                    <div class="doc-item" onclick="selectDoc(event)">生产环境运维</div>
                            </div>
                            </div>
                        </div>
                            </div>

                    <div class="docs-content">
                        <div class="doc-header">
                            <h1 class="doc-title">React组件开发规范</h1>
                            <div class="doc-meta">
                                <span>分类: 前端开发</span>
                                <span>作者: Fullstack Engineer AI</span>
                                <span>更新: 2025-11-19</span>
                                <span>字数: 3,247</span>
                            </div>
                        </div>

                        <div class="doc-body">
                            <div class="doc-section">
                                <h2 class="doc-section-title">1. 组件设计原则</h2>
                                <div class="doc-section-content">
                                    <p><strong>单一职责原则</strong>：每个组件应该只做一件事。如果组件功能过于复杂，应该拆分成更小的子组件。</p>
                                    
                                    <p><strong>组合优于继承</strong>：React推荐使用组合而非继承来实现代码复用。通过Props和Children实现组件组合。</p>
                                    
                                    <p><strong>Props类型定义</strong>：使用TypeScript为所有Props定义明确的类型，提高代码可维护性和IDE智能提示。</p>
                            </div>
                        </div>

                            <div class="doc-section">
                                <h2 class="doc-section-title">2. 组件文件结构</h2>
                                <div class="doc-section-content">
                                    <p>推荐的组件目录结构：</p>
                            </div>
                                <pre class="doc-code-block">src/
├── components/
│   ├── Button/
│   │   ├── Button.tsx          # 组件主文件
│   │   ├── Button.test.tsx     # 单元测试
│   │   ├── Button.stories.tsx  # Storybook故事
│   │   ├── Button.module.css   # 样式文件
│   │   └── index.ts            # 导出文件
│   └── ...
└── ...</pre>
                        </div>

                            <div class="doc-section">
                                <h2 class="doc-section-title">3. 组件命名规范</h2>
                                <div class="doc-section-content">
                                    <p><strong>文件命名</strong>：使用PascalCase命名，如 <code>UserProfile.tsx</code></p>
                                    
                                    <p><strong>组件命名</strong>：与文件名保持一致，使用PascalCase</p>
                                    
                                    <p><strong>Props接口命名</strong>：组件名 + Props，如 <code>UserProfileProps</code></p>
                                    
                                    <p><strong>事件处理函数</strong>：使用handle前缀，如 <code>handleClick</code></p>
                            </div>
                        </div>

                            <div class="doc-section">
                                <h2 class="doc-section-title">4. Props设计最佳实践</h2>
                                <div class="doc-section-content">
                                    <p><strong>必填与可选</strong>：明确区分必填和可选Props，为可选Props提供合理的默认值。</p>
                                    
                                    <p><strong>避免过多Props</strong>：如果组件Props超过5-6个，考虑拆分组件或使用对象传递。</p>
                                    
                                    <p><strong>Props验证</strong>：在开发环境使用PropTypes或TypeScript进行Props验证。</p>
                            </div>
                                <pre class="doc-code-block">interface ButtonProps {
  variant: 'primary' | 'secondary' | 'ghost';
  size?: 'small' | 'medium' | 'large';
  disabled?: boolean;
  onClick?: () => void;
  children: React.ReactNode;
}

const Button: React.FC<ButtonProps> = ({
  variant,
  size = 'medium',
  disabled = false,
  onClick,
  children
}) => {
  // 组件实现
};</pre>
                            </div>

                            <div class="doc-section">
                                <h2 class="doc-section-title">5. Hooks使用规范</h2>
                                <div class="doc-section-content">
                                    <p><strong>自定义Hooks</strong>：将复杂的状态逻辑提取为自定义Hooks，提高代码复用性。</p>
                                    
                                    <p><strong>依赖数组</strong>：准确声明useEffect和useCallback的依赖数组，避免不必要的重渲染。</p>
                                    
                                    <p><strong>命名约定</strong>：自定义Hooks必须以use开头，如 <code>useAuth</code>、<code>useFetch</code></p>
                            </div>
                                <pre class="doc-code-block">// 自定义Hook示例
function useDebounce<T>(value: T, delay: number): T {
  const [debouncedValue, setDebouncedValue] = useState(value);

  useEffect(() => {
    const handler = setTimeout(() => {
      setDebouncedValue(value);
    }, delay);

    return () => {
      clearTimeout(handler);
    };
  }, [value, delay]);

  return debouncedValue;
}</pre>
                            </div>

                            <div class="doc-section">
                                <h2 class="doc-section-title">6. 性能优化</h2>
                                <div class="doc-section-content">
                                    <p><strong>React.memo</strong>：对于纯展示组件，使用React.memo避免不必要的重渲染。</p>
                                    
                                    <p><strong>useMemo和useCallback</strong>：缓存计算结果和回调函数，但不要过度优化。</p>
                                    
                                    <p><strong>代码分割</strong>：使用React.lazy和Suspense进行组件懒加载。</p>
                                    
                                    <p><strong>虚拟列表</strong>：对于长列表，使用react-window或react-virtualized。</p>
                            </div>
                        </div>

                            <div class="doc-section">
                                <h2 class="doc-section-title">7. 测试要求</h2>
                                <div class="doc-section-content">
                                    <p><strong>单元测试</strong>：每个组件都应该有对应的测试文件，测试覆盖率目标85%+。</p>
                                    
                                    <p><strong>测试内容</strong>：渲染测试、Props测试、事件处理测试、边界情况测试。</p>
                                    
                                    <p><strong>测试工具</strong>：使用Jest + React Testing Library进行组件测试。</p>
                            </div>
                            </div>
                            </div>
                        </div>
                            </div>
                        </div>

            <!-- Tab 5: 对话历史 -->
            <div id="engineer-conversations" class="tab-pane">
                <div class="conversation-layout">
                    <div class="conversation-list">
                        <div class="conversation-search">
                            <input type="text" class="search-input" placeholder="搜索对话...">
                            </div>
                        <div class="conversation-items">
                            <div class="conversation-item active" onclick="selectConversation(1)">
                                <div class="conversation-item-header">
                                    <div class="conversation-item-title">Claude API集成讨论</div>
                                    <div class="conversation-item-time">2025-11-19 14:30</div>
                            </div>
                                <div class="conversation-item-preview">
                                    讨论了Claude API的流式响应实现方案...
                            </div>
                                <div class="conversation-item-meta">
                                    <span>10条消息</span>
                                    <span>2h 15min</span>
                            </div>
                        </div>

                            <div class="conversation-item" onclick="selectConversation(2)">
                                <div class="conversation-item-header">
                                    <div class="conversation-item-title">响应式布局优化</div>
                                    <div class="conversation-item-time">2025-11-19 10:00</div>
                            </div>
                                <div class="conversation-item-preview">
                                    分析了当前Dashboard的响应式问题，制定了优化方案...
                            </div>
                                <div class="conversation-item-meta">
                                    <span>8条消息</span>
                                    <span>1h 30min</span>
                            </div>
                        </div>

                            <div class="conversation-item" onclick="selectConversation(3)">
                                <div class="conversation-item-header">
                                    <div class="conversation-item-title">Neo4j性能优化</div>
                                    <div class="conversation-item-time">2025-11-18 16:20</div>
                            </div>
                                <div class="conversation-item-preview">
                                    优化了Cypher查询语句，添加了合适的索引...
                            </div>
                                <div class="conversation-item-meta">
                                    <span>12条消息</span>
                                    <span>1h 45min</span>
                            </div>
                        </div>

                            <div class="conversation-item" onclick="selectConversation(4)">
                                <div class="conversation-item-header">
                                    <div class="conversation-item-title">用户认证实现</div>
                                    <div class="conversation-item-time">2025-11-17 14:00</div>
                            </div>
                                <div class="conversation-item-preview">
                                    讨论了JWT认证方案，包括Token刷新机制...
                            </div>
                                <div class="conversation-item-meta">
                                    <span>15条消息</span>
                                    <span>3h 20min</span>
                            </div>
                            </div>
                        </div>
                            </div>

                    <div class="conversation-detail">
                        <div class="detail-header">
                            <h2 class="detail-title">Claude API集成讨论</h2>
                            <div class="detail-meta">
                                <span>2025-11-19 14:30</span>
                                <span>10条消息</span>
                                <span>2h 15min</span>
                                <span>32,500 tokens</span>
                            </div>
                        </div>

                        <div class="messages-container">
                            <div class="message">
                                <div class="message-avatar user">U</div>
                                <div class="message-content">
                                    <div class="message-header">
                                        <span class="message-sender">用户</span>
                                        <span class="message-time">14:30</span>
                            </div>
                                    <div class="message-text">
                                        需要集成Claude API实现对话功能，要支持流式响应。能帮我分析一下实现方案吗？
                            </div>
                            </div>
                        </div>

                            <div class="message">
                                <div class="message-avatar">AI</div>
                                <div class="message-content">
                                    <div class="message-header">
                                        <span class="message-sender">Fullstack AI</span>
                                        <span class="message-time">14:32</span>
                            </div>
                                    <div class="message-text">
                                        好的，让我帮你分析Claude API的流式响应实现方案。<br><br>
                                        
                                        <strong>方案概述：</strong><br><br>
                                        
                                        Claude API支持Server-Sent Events (SSE)来实现流式响应。我们需要：<br><br>
                                        
                                        1. <strong>后端实现</strong>：<br>
                                        - 使用FastAPI的StreamingResponse<br>
                                        - 处理Claude API的SSE流<br>
                                        - 实现错误处理和重连机制<br><br>
                                        
                                        2. <strong>前端实现</strong>：<br>
                                        - 使用EventSource或fetch with ReadableStream<br>
                                        - 实时更新UI显示流式内容<br>
                                        - 处理连接状态和错误<br><br>
                                        
                                        我先给你看后端的实现代码...
                            </div>
                            </div>
                            </div>

                            <div class="message">
                                <div class="message-avatar">AI</div>
                                <div class="message-content">
                                    <div class="message-header">
                                        <span class="message-sender">Fullstack AI</span>
                                        <span class="message-time">14:35</span>
                        </div>
                                    <div class="message-text">
                                        <strong>后端实现（FastAPI）：</strong>
<pre>from fastapi import FastAPI
from fastapi.responses import StreamingResponse
import anthropic
import asyncio

app = FastAPI()

@app.post("/api/chat/stream")
async def stream_chat(request: ChatRequest):
    client = anthropic.AsyncAnthropic(
        api_key=settings.CLAUDE_API_KEY
    )
    
    async def generate():
        try:
            async with client.messages.stream(
                model="claude-sonnet-4-20250514",
                max_tokens=1024,
                messages=[
                    {"role": "user", "content": request.message}
                ]
            ) as stream:
                async for text in stream.text_stream:
                    yield f"data: {text}\n\n"
                    await asyncio.sleep(0)
        except Exception as e:
            yield f"data: [ERROR] {str(e)}\n\n"
    
    return StreamingResponse(
        generate(),
        media_type="text/event-stream"
    )</pre>
                            </div>
                            </div>
                        </div>

                            <div class="message">
                                <div class="message-avatar user">U</div>
                                <div class="message-content">
                                    <div class="message-header">
                                        <span class="message-sender">用户</span>
                                        <span class="message-time">14:38</span>
                            </div>
                                    <div class="message-text">
                                        不错！前端这边怎么接收和显示流式内容？
                            </div>
                            </div>
                        </div>

                            <div class="message">
                                <div class="message-avatar">AI</div>
                                <div class="message-content">
                                    <div class="message-header">
                                        <span class="message-sender">Fullstack AI</span>
                                        <span class="message-time">14:40</span>
                            </div>
                                    <div class="message-text">
                                        <strong>前端实现（React + TypeScript）：</strong>
<pre>import { useState } from 'react';

function ChatComponent() {
  const [messages, setMessages] = useState<string>('');
  const [isStreaming, setIsStreaming] = useState(false);

  const streamChat = async (userMessage: string) => {
    setIsStreaming(true);
    setMessages('');

    try {
      const response = await fetch('/api/chat/stream', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message: userMessage })
      });

      const reader = response.body?.getReader();
      const decoder = new TextDecoder();

      while (true) {
        const { done, value } = await reader!.read();
        if (done) break;

        const chunk = decoder.decode(value);
        const lines = chunk.split('\n');

        for (const line of lines) {
          if (line.startsWith('data: ')) {
            const text = line.slice(6);
            setMessages(prev => prev + text);
          }
        }
      }
    } catch (error) {
      console.error('Stream error:', error);
    } finally {
      setIsStreaming(false);
    }
  };

  return (
    <div>
      <div>{messages}</div>
      {isStreaming && <span>思考中...</span>}
                            </div>
  );
}</pre>
                                        <br>
                                        <strong>关键点：</strong><br>
                                        1. 使用ReadableStream接收流式数据<br>
                                        2. 实时更新React状态显示内容<br>
                                        3. 处理流结束和错误情况<br>
                                        4. 添加loading状态提示用户
                            </div>
                            </div>
                        </div>

                            <div class="message">
                                <div class="message-avatar user">U</div>
                                <div class="message-content">
                                    <div class="message-header">
                                        <span class="message-sender">用户</span>
                                        <span class="message-time">14:45</span>
                            </div>
                                    <div class="message-text">
                                        完美！需要考虑哪些错误处理和优化？
                            </div>
                            </div>
                        </div>

                            <div class="message">
                                <div class="message-avatar">AI</div>
                                <div class="message-content">
                                    <div class="message-header">
                                        <span class="message-sender">Fullstack AI</span>
                                        <span class="message-time">14:48</span>
                            </div>
                                    <div class="message-text">
                                        <strong>错误处理和优化建议：</strong><br><br>
                                        
                                        <strong>1. 错误处理</strong><br>
                                        - API限流错误：实现指数退避重试<br>
                                        - 网络中断：自动重连机制<br>
                                        - Token超限：截断或分段处理<br>
                                        - 超时处理：设置合理的timeout<br><br>
                                        
                                        <strong>2. 性能优化</strong><br>
                                        - 使用debounce避免频繁请求<br>
                                        - 缓存历史对话减少重复请求<br>
                                        - 实现请求队列避免并发过多<br>
                                        - 压缩传输数据<br><br>
                                        
                                        <strong>3. 用户体验</strong><br>
                                        - 打字机效果：逐字显示更自然<br>
                                        - 取消功能：允许用户中断流式响应<br>
                                        - 进度提示：显示Token消耗情况<br>
                                        - 错误提示：友好的错误信息<br><br>
                                        
                                        <strong>4. 安全考虑</strong><br>
                                        - API Key保护：只在后端使用<br>
                                        - 用户认证：验证请求来源<br>
                                        - 输入验证：防止注入攻击<br>
                                        - 日志记录：便于问题排查
                            </div>
                            </div>
                            </div>
                            </div>
                        </div>
                            </div>
                            </div>
                            </div>
                        </div>
        
    </main>

    <script>
        // 简化的版本切换（全部返回版本1）
        function switchVersion(version) {
            console.log('Version:', version);
        }
        
        // 保留切换项目功能
        function switchProject(projectId) {
            console.log('Switch to:', projectId);
        }
        
        // 清除缓存
        function clearCache() {
            localStorage.clear();
            location.reload(true);
        }
    </script>
</body>
</html>
