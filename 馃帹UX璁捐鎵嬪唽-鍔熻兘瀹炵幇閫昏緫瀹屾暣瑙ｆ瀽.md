# ğŸ¨ ä»»åŠ¡æ‰€Â·Flow v1.7 - UXè®¾è®¡æ‰‹å†Œï¼šåŠŸèƒ½å®ç°é€»è¾‘å®Œæ•´è§£æ

**ç›®æ ‡è¯»è€…**: UX/UIè®¾è®¡å¸ˆ  
**æ–‡æ¡£ç›®çš„**: è¯¦ç»†è§£ææ¯ä¸ªåŠŸèƒ½çš„åç«¯å®ç°é€»è¾‘ï¼Œæ–¹ä¾¿è®¾è®¡å‰ç«¯å±•ç¤º  
**ç”Ÿæˆæ—¶é—´**: 2025-11-19

---

## ğŸ“– ä½¿ç”¨è¯´æ˜

**æœ¬æ–‡æ¡£ç»“æ„**ï¼š

æ¯ä¸ªåŠŸèƒ½åŒ…å«ï¼š
1. **åŠŸèƒ½æ¦‚è¿°** - è¿™ä¸ªåŠŸèƒ½æ˜¯ä»€ä¹ˆ
2. **å®ç°é€»è¾‘** - åç«¯å¦‚ä½•å®ç°
3. **æ•°æ®æ¨¡å‹** - è¾“å…¥è¾“å‡ºæ•°æ®ç»“æ„
4. **APIæ¥å£** - å¦‚ä½•è°ƒç”¨åç«¯
5. **ä¸šåŠ¡æµç¨‹** - æ•°æ®æµè½¬è¿‡ç¨‹
6. **UXè®¾è®¡å»ºè®®** - å‰ç«¯å¦‚ä½•å±•ç¤ºï¼ˆå«äº¤äº’æµç¨‹ã€UIç»„ä»¶ã€å¸ƒå±€ï¼‰
7. **å®æ–½ä¼˜å…ˆçº§** - P0/P1/P2

---

## ğŸ¯ é‡ç‚¹å…³æ³¨ï¼š3å¤§æ ¸å¿ƒç³»ç»Ÿï¼ˆå®Œå…¨æœªå±•ç¤ºï¼‰

---

# ğŸ“Š æ ¸å¿ƒç³»ç»Ÿ1ï¼šå…¨å±€äº‹ä»¶æµç³»ç»Ÿ

## 1.1 åŠŸèƒ½æ¦‚è¿°

**ä»€ä¹ˆæ˜¯äº‹ä»¶æµç³»ç»Ÿï¼Ÿ**

äº‹ä»¶æµç³»ç»Ÿæ˜¯æ•´ä¸ªä»»åŠ¡æ‰€Â·Flowçš„"ç¥ç»ç³»ç»Ÿ"ï¼Œè®°å½•ç³»ç»Ÿä¸­å‘ç”Ÿçš„ä¸€åˆ‡é‡è¦æ“ä½œï¼š
- ä»»åŠ¡è¢«åˆ›å»º/å¼€å§‹/å®Œæˆ
- é—®é¢˜è¢«å‘ç°/è§£å†³
- å†³ç­–è¢«åˆ¶å®š
- æ¶æ„å¸ˆäº¤æ¥å·¥ä½œ
- ç­‰ç­‰...

**æ ¸å¿ƒä»·å€¼**ï¼š
- âœ… å¯è¿½æº¯æ€§ï¼šä»»ä½•æ“ä½œéƒ½æœ‰è®°å½•ï¼Œå¯ä»¥å›æº¯
- âœ… å¯è§†åŒ–ï¼šç³»ç»Ÿè¿è¡ŒçŠ¶æ€ä¸€ç›®äº†ç„¶
- âœ… å®¡è®¡ï¼šè°åœ¨ä»€ä¹ˆæ—¶å€™åšäº†ä»€ä¹ˆ
- âœ… åˆ†æï¼šç»Ÿè®¡æ•°æ®å¸®åŠ©æ”¹è¿›æµç¨‹

---

## 1.2 å®ç°é€»è¾‘

### æ ¸å¿ƒç»„ä»¶

```
EventEmitterï¼ˆäº‹ä»¶å‘å°„å™¨ï¼‰
    â†“
EventStoreï¼ˆäº‹ä»¶å­˜å‚¨å™¨ï¼‰
    â†“
SQLiteæ•°æ®åº“ï¼ˆ3ä¸ªè¡¨ï¼‰
    â”œâ”€ project_eventsï¼ˆäº‹ä»¶ä¸»è¡¨ï¼‰
    â”œâ”€ event_typesï¼ˆäº‹ä»¶ç±»å‹å®šä¹‰è¡¨ï¼‰
    â””â”€ event_statsï¼ˆäº‹ä»¶ç»Ÿè®¡è¡¨ï¼‰
```

### å·¥ä½œæµç¨‹

```mermaid
sequenceDiagram
    participant User as ç”¨æˆ·/AI
    participant Emitter as EventEmitter
    participant Store as EventStore
    participant DB as SQLiteæ•°æ®åº“
    
    User->>Emitter: å‘å°„äº‹ä»¶ emit()
    Emitter->>Emitter: ç”Ÿæˆäº‹ä»¶ID
    Emitter->>Emitter: æ ¼å¼åŒ–äº‹ä»¶æ•°æ®
    Emitter->>Store: ä¿å­˜äº‹ä»¶ save()
    Store->>DB: INSERTåˆ°project_eventsè¡¨
    Store->>DB: UPDATE event_statsè¡¨
    Store-->>Emitter: è¿”å›äº‹ä»¶å¯¹è±¡
    Emitter-->>User: è¿”å›æˆåŠŸ
```

---

## 1.3 æ•°æ®æ¨¡å‹

### äº‹ä»¶å¯¹è±¡ï¼ˆEventï¼‰

```json
{
  "id": "EVT-a1b2c3d4",              // äº‹ä»¶å”¯ä¸€ID
  "project_id": "TASKFLOW",          // é¡¹ç›®ID
  "event_type": "task.created",      // äº‹ä»¶ç±»å‹ï¼ˆ28ç§ä¹‹ä¸€ï¼‰
  "event_category": "task",          // äº‹ä»¶åˆ†ç±»ï¼ˆtask/issue/decision/deployment/system/generalï¼‰
  "source": "ai",                    // äº‹ä»¶æ¥æºï¼ˆsystem/user/ai/externalï¼‰
  "actor": "AI Architect",           // æ“ä½œè€…
  "title": "ä»»åŠ¡åˆ›å»º: REQ-010-B",    // äº‹ä»¶æ ‡é¢˜
  "description": "æ–°ä»»åŠ¡å·²åˆ›å»º...", // äº‹ä»¶æè¿°
  "data": {                          // äº‹ä»¶æ•°æ®ï¼ˆä»»æ„JSONï¼‰
    "task_id": "REQ-010-B",
    "priority": "P0",
    "estimated_hours": 3.0
  },
  "related_entity_type": "task",     // å…³è”å®ä½“ç±»å‹
  "related_entity_id": "REQ-010-B",  // å…³è”å®ä½“ID
  "severity": "info",                // ä¸¥é‡æ€§ï¼ˆinfo/warning/error/criticalï¼‰
  "status": "processed",             // äº‹ä»¶çŠ¶æ€ï¼ˆpending/processed/archivedï¼‰
  "tags": ["task", "created"],       // æ ‡ç­¾åˆ—è¡¨
  "occurred_at": "2025-11-19T10:30:00Z",  // äº‹ä»¶å‘ç”Ÿæ—¶é—´
  "created_at": "2025-11-19T10:30:01Z"    // è®°å½•æ—¶é—´
}
```

### 28ç§äº‹ä»¶ç±»å‹

```javascript
// ä»»åŠ¡ç”Ÿå‘½å‘¨æœŸï¼ˆ9ç§ï¼‰
"TASK_CREATED"      // ä»»åŠ¡åˆ›å»º
"TASK_ASSIGNED"     // ä»»åŠ¡åˆ†é…
"TASK_STARTED"      // ä»»åŠ¡å¼€å§‹
"TASK_BLOCKED"      // ä»»åŠ¡é˜»å¡
"TASK_UNBLOCKED"    // ä»»åŠ¡è§£é™¤é˜»å¡
"TASK_SUBMITTED"    // ä»»åŠ¡æäº¤å®¡æŸ¥
"TASK_REVIEWED"     // ä»»åŠ¡å®¡æŸ¥å®Œæˆ
"TASK_COMPLETED"    // ä»»åŠ¡å®Œæˆ
"TASK_CANCELLED"    // ä»»åŠ¡å–æ¶ˆ

// åŠŸèƒ½ç”Ÿå‘½å‘¨æœŸï¼ˆ5ç§ï¼‰
"FEATURE_PROPOSED"      // åŠŸèƒ½ææ¡ˆ
"FEATURE_APPROVED"      // åŠŸèƒ½æ‰¹å‡†
"FEATURE_IN_PROGRESS"   // åŠŸèƒ½å¼€å‘ä¸­
"FEATURE_COMPLETED"     // åŠŸèƒ½å®Œæˆ
"FEATURE_DEPLOYED"      // åŠŸèƒ½éƒ¨ç½²

// é—®é¢˜ç”Ÿå‘½å‘¨æœŸï¼ˆ6ç§ï¼‰
"ISSUE_DISCOVERED"   // é—®é¢˜å‘ç°
"ISSUE_ASSIGNED"     // é—®é¢˜åˆ†é…
"ISSUE_IN_PROGRESS"  // é—®é¢˜å¤„ç†ä¸­
"ISSUE_SOLVED"       // é—®é¢˜è§£å†³
"ISSUE_VERIFIED"     // é—®é¢˜éªŒè¯
"ISSUE_CLOSED"       // é—®é¢˜å…³é—­

// åä½œäº‹ä»¶ï¼ˆ8ç§ï¼‰
"ARCHITECT_HANDOVER"      // æ¶æ„å¸ˆäº¤æ¥
"ARCHITECT_RESUME"        // æ–°æ¶æ„å¸ˆæ¥ç®¡
"CODE_REVIEW_REQUESTED"   // ä»£ç å®¡æŸ¥è¯·æ±‚
"DECISION_RECORDED"       // æŠ€æœ¯å†³ç­–è®°å½•
"KNOWLEDGE_CAPTURED"      // çŸ¥è¯†æ•è·
"DEPENDENCY_ADDED"        // ä¾èµ–æ·»åŠ 
"MILESTONE_REACHED"       // é‡Œç¨‹ç¢‘è¾¾æˆ
"RISK_IDENTIFIED"         // é£é™©è¯†åˆ«
```

### äº‹ä»¶ç»Ÿè®¡æ•°æ®

```json
{
  "project_id": "TASKFLOW",
  "total_events": 156,
  "task_events": 89,        // ä»»åŠ¡ç›¸å…³äº‹ä»¶
  "issue_events": 34,       // é—®é¢˜ç›¸å…³äº‹ä»¶
  "decision_events": 12,    // å†³ç­–ç›¸å…³äº‹ä»¶
  "deployment_events": 5,   // éƒ¨ç½²ç›¸å…³äº‹ä»¶
  "system_events": 16,      // ç³»ç»Ÿç›¸å…³äº‹ä»¶
  "info_events": 120,       // infoçº§åˆ«
  "warning_events": 25,     // warningçº§åˆ«
  "error_events": 8,        // errorçº§åˆ«
  "critical_events": 3,     // criticalçº§åˆ«
  "last_event_at": "2025-11-19T14:30:00Z",
  "last_updated": "2025-11-19T14:30:01Z"
}
```

---

## 1.4 APIæ¥å£è¯¦è§£

### API 1: å‘å°„äº‹ä»¶

```http
POST /api/events
Content-Type: application/json

{
  "project_id": "TASKFLOW",
  "event_type": "task.created",
  "title": "ä»»åŠ¡åˆ›å»º: å®ç°äº‹ä»¶ç³»ç»Ÿ",
  "description": "æ–°ä»»åŠ¡ REQ-010-B è¢«åˆ›å»º",
  "category": "task",
  "source": "ai",
  "actor": "AI Architect",
  "severity": "info",
  "related_entity_type": "task",
  "related_entity_id": "REQ-010-B",
  "tags": ["task", "created"],
  "data": {
    "task_id": "REQ-010-B",
    "priority": "P0"
  }
}
```

**è¿”å›**ï¼š
```json
{
  "success": true,
  "event": { /* å®Œæ•´äº‹ä»¶å¯¹è±¡ */ },
  "message": "Event emitted successfully"
}
```

### API 2: æŸ¥è¯¢äº‹ä»¶åˆ—è¡¨ï¼ˆæ ¸å¿ƒï¼‰

```http
GET /api/events?project_id=TASKFLOW&category=task&severity=warning&limit=50&offset=0
```

**æŸ¥è¯¢å‚æ•°**ï¼š
- `project_id` - é¡¹ç›®IDè¿‡æ»¤
- `event_type` - äº‹ä»¶ç±»å‹è¿‡æ»¤
- `category` - åˆ†ç±»è¿‡æ»¤ï¼ˆtask/issue/decision/deployment/systemï¼‰
- `severity` - ä¸¥é‡æ€§è¿‡æ»¤ï¼ˆinfo/warning/error/criticalï¼‰
- `actor` - æ“ä½œè€…è¿‡æ»¤
- `related_entity_type` - å…³è”å®ä½“ç±»å‹è¿‡æ»¤
- `related_entity_id` - å…³è”å®ä½“IDè¿‡æ»¤
- `start_time` - å¼€å§‹æ—¶é—´ï¼ˆISOæ ¼å¼ï¼‰
- `end_time` - ç»“æŸæ—¶é—´ï¼ˆISOæ ¼å¼ï¼‰
- `limit` - è¿”å›æ•°é‡ï¼ˆé»˜è®¤100ï¼Œæœ€å¤§1000ï¼‰
- `offset` - åç§»é‡ï¼ˆåˆ†é¡µç”¨ï¼‰

**è¿”å›**ï¼š
```json
{
  "success": true,
  "events": [
    { /* äº‹ä»¶1 */ },
    { /* äº‹ä»¶2 */ },
    // ...
  ],
  "count": 50,
  "limit": 50,
  "offset": 0,
  "filters": { /* ä½¿ç”¨çš„ç­›é€‰æ¡ä»¶ */ }
}
```

### API 3: è·å–äº‹ä»¶ç»Ÿè®¡

```http
GET /api/events/stats/TASKFLOW
```

**è¿”å›**ï¼š
```json
{
  "success": true,
  "project_id": "TASKFLOW",
  "stats": {
    "total_events": 156,
    "task_events": 89,
    "issue_events": 34,
    // ... å®Œæ•´ç»Ÿè®¡æ•°æ®
  }
}
```

### API 4-8ï¼šå…¶ä»–ç«¯ç‚¹

- `GET /api/events/{event_id}` - è·å–å•ä¸ªäº‹ä»¶è¯¦æƒ…
- `POST /api/events/batch` - æ‰¹é‡å‘å°„äº‹ä»¶
- `GET /api/events/types` - è·å–äº‹ä»¶ç±»å‹åˆ—è¡¨
- `GET /api/events/by-entity/{type}/{id}` - æŒ‰å®ä½“æŸ¥è¯¢äº‹ä»¶
- `GET /api/events/health` - å¥åº·æ£€æŸ¥

---

## 1.5 UXè®¾è®¡å»ºè®®ï¼ˆæ ¸å¿ƒï¼‰

### é¡µé¢å¸ƒå±€è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“Š äº‹ä»¶æµ - ä»»åŠ¡æ‰€Â·Flow                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  ğŸ“ˆ äº‹ä»¶ç»Ÿè®¡é¢æ¿                                  â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚  [æ€»æ•°: 156]  [ä»»åŠ¡: 89]  [é—®é¢˜: 34]  [å†³ç­–: 12] â”‚ â”‚
â”‚ â”‚  [âš ï¸ Warning: 25]  [âŒ Error: 8]  [ğŸ”´ Critical: 3]â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  ğŸ” ç­›é€‰æ§ä»¶                                      â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚  [åˆ†ç±»â–¼]  [ä¸¥é‡æ€§â–¼]  [æ“ä½œè€…â–¼]  [æ—¥æœŸèŒƒå›´]      â”‚ â”‚
â”‚ â”‚  [é‡ç½®]  [åº”ç”¨ç­›é€‰]                              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  ğŸ“‹ äº‹ä»¶åˆ—è¡¨ï¼ˆå¯æ»šåŠ¨ï¼‰                            â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚  ğŸŸ¢ INFO | ä»»åŠ¡åˆ›å»º | 2025-11-19 10:30           â”‚ â”‚
â”‚ â”‚  ä»»åŠ¡åˆ›å»º: REQ-010-B å®ç°äº‹ä»¶ç³»ç»Ÿ                 â”‚ â”‚
â”‚ â”‚  ğŸ‘¤ AI Architect | ğŸ“‹ task | ğŸ”— REQ-010-B       â”‚ â”‚
â”‚ â”‚  [æŸ¥çœ‹è¯¦æƒ…]                                      â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚  ğŸŸ¡ WARNING | ä»»åŠ¡é˜»å¡ | 2025-11-19 11:15        â”‚ â”‚
â”‚ â”‚  ä»»åŠ¡é˜»å¡: INTEGRATE-003 ç­‰å¾…ä¾èµ–                â”‚ â”‚
â”‚ â”‚  ğŸ‘¤ System | ğŸ“‹ task | ğŸ”— INTEGRATE-003         â”‚ â”‚
â”‚ â”‚  [æŸ¥çœ‹è¯¦æƒ…]                                      â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚  ğŸ”´ CRITICAL | é£é™©è¯†åˆ« | 2025-11-19 12:00       â”‚ â”‚
â”‚ â”‚  é£é™©è¯†åˆ«: SQLiteå¹¶å‘é™åˆ¶å¯èƒ½å¯¼è‡´é”è¡¨             â”‚ â”‚
â”‚ â”‚  ğŸ‘¤ AI Architect | ğŸ¤ collaboration            â”‚ â”‚
â”‚ â”‚  [æŸ¥çœ‹è¯¦æƒ…]                                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                       â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚  ğŸ“„ åˆ†é¡µæ§ä»¶                                      â”‚ â”‚
â”‚ â”‚  [ä¸Šä¸€é¡µ] ç¬¬1é¡µ/å…±10é¡µ [ä¸‹ä¸€é¡µ]                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### äº¤äº’æµç¨‹è®¾è®¡

#### æµç¨‹1ï¼šæŸ¥çœ‹äº‹ä»¶åˆ—è¡¨

```
ç”¨æˆ·è¿›å…¥é¡µé¢
    â†“
å‰ç«¯è°ƒç”¨ï¼šGET /api/events?project_id=TASKFLOW&limit=50&offset=0
    â†“
æ˜¾ç¤ºäº‹ä»¶åˆ—è¡¨ï¼ˆæ¯ä¸ªäº‹ä»¶æ˜¾ç¤ºï¼šä¸¥é‡æ€§å›¾æ ‡ã€äº‹ä»¶ç±»å‹ã€æ ‡é¢˜ã€æ—¶é—´ã€æ“ä½œè€…ï¼‰
    â†“
ç”¨æˆ·ç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"
    â†“
å‰ç«¯è°ƒç”¨ï¼šGET /api/events/{event_id}
    â†“
æ˜¾ç¤ºå¼¹çª—ï¼ˆå®Œæ•´äº‹ä»¶ä¿¡æ¯ï¼ŒåŒ…æ‹¬dataå­—æ®µçš„JSONæ•°æ®ï¼‰
```

#### æµç¨‹2ï¼šç­›é€‰äº‹ä»¶

```
ç”¨æˆ·é€‰æ‹©ç­›é€‰æ¡ä»¶
    â”œâ”€ åˆ†ç±»ï¼šä»»åŠ¡/é—®é¢˜/å†³ç­–/éƒ¨ç½²/ç³»ç»Ÿ
    â”œâ”€ ä¸¥é‡æ€§ï¼šinfo/warning/error/critical
    â”œâ”€ æ“ä½œè€…ï¼šAI Architect / System / User
    â””â”€ æ—¥æœŸèŒƒå›´ï¼šæœ€è¿‘7å¤© / æœ€è¿‘30å¤© / è‡ªå®šä¹‰
    â†“
ç”¨æˆ·ç‚¹å‡»"åº”ç”¨ç­›é€‰"
    â†“
å‰ç«¯è°ƒç”¨ï¼šGET /api/events?category=task&severity=warning&start_time=2025-11-18T00:00:00Z
    â†“
æ›´æ–°äº‹ä»¶åˆ—è¡¨
```

#### æµç¨‹3ï¼šæŸ¥çœ‹äº‹ä»¶ç»Ÿè®¡

```
é¡µé¢åŠ è½½æ—¶
    â†“
å‰ç«¯è°ƒç”¨ï¼šGET /api/events/stats/TASKFLOW
    â†“
æ˜¾ç¤ºç»Ÿè®¡å¡ç‰‡ï¼š
    â”œâ”€ æ€»äº‹ä»¶æ•°ï¼ˆå¤§æ•°å­—ï¼‰
    â”œâ”€ æŒ‰åˆ†ç±»ç»Ÿè®¡ï¼ˆé¥¼å›¾ï¼‰
    â”œâ”€ æŒ‰ä¸¥é‡æ€§ç»Ÿè®¡ï¼ˆæŸ±çŠ¶å›¾ï¼‰
    â””â”€ æœ€åäº‹ä»¶æ—¶é—´
```

#### æµç¨‹4ï¼šæŒ‰å®ä½“æŸ¥è¯¢äº‹ä»¶

```
ç”¨æˆ·åœ¨ä»»åŠ¡è¯¦æƒ…é¡µç‚¹å‡»"æŸ¥çœ‹äº‹ä»¶"
    â†“
å‰ç«¯è°ƒç”¨ï¼šGET /api/events/by-entity/task/REQ-010-B
    â†“
æ˜¾ç¤ºè¯¥ä»»åŠ¡çš„æ‰€æœ‰ç›¸å…³äº‹ä»¶ï¼ˆæ—¶é—´çº¿è§†å›¾ï¼‰
```

---

## 1.6 UIç»„ä»¶è®¾è®¡å»ºè®®

### ç»„ä»¶1ï¼šäº‹ä»¶å¡ç‰‡ï¼ˆEventCardï¼‰

**è§†è§‰è®¾è®¡**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸŸ¢ INFO | ä»»åŠ¡åˆ›å»º | 2025-11-19 10:30    â”‚ â† æ ‡é¢˜æ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ä»»åŠ¡åˆ›å»º: REQ-010-B å®ç°äº‹ä»¶ç³»ç»Ÿ            â”‚ â† äº‹ä»¶æ ‡é¢˜
â”‚                                            â”‚
â”‚ æ–°ä»»åŠ¡å·²åˆ›å»ºï¼Œä¼˜å…ˆçº§P0ï¼Œé¢„ä¼°3å°æ—¶           â”‚ â† æè¿°
â”‚                                            â”‚
â”‚ ğŸ‘¤ AI Architect                            â”‚ â† å…ƒä¿¡æ¯
â”‚ ğŸ“‹ ä»»åŠ¡ | ğŸ”— REQ-010-B                     â”‚
â”‚ ğŸ·ï¸ task, created, P0                      â”‚ â† æ ‡ç­¾
â”‚                                            â”‚
â”‚ [æŸ¥çœ‹è¯¦æƒ…] [æŸ¥çœ‹å…³è”]                       â”‚ â† æ“ä½œæŒ‰é’®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é¢œè‰²æ–¹æ¡ˆ**ï¼š
- ğŸŸ¢ INFO: ç»¿è‰²è¾¹æ¡†/èƒŒæ™¯
- ğŸŸ¡ WARNING: é»„è‰²è¾¹æ¡†/èƒŒæ™¯
- ğŸŸ  ERROR: æ©™è‰²è¾¹æ¡†/èƒŒæ™¯
- ğŸ”´ CRITICAL: çº¢è‰²è¾¹æ¡†/èƒŒæ™¯

### ç»„ä»¶2ï¼šäº‹ä»¶ç»Ÿè®¡é¢æ¿ï¼ˆEventStatsPanelï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   æ€»äº‹ä»¶æ•°   â”‚   ä»»åŠ¡äº‹ä»¶   â”‚   é—®é¢˜äº‹ä»¶   â”‚   å†³ç­–äº‹ä»¶   â”‚
â”‚     156      â”‚      89      â”‚      34      â”‚      12      â”‚
â”‚  â†‘ +12 ä»Šå¤©  â”‚  â†‘ +5 ä»Šå¤©   â”‚  â†“ -2 ä»Šå¤©   â”‚  â†’ 0 ä»Šå¤©    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“Š äº‹ä»¶åˆ†ç±»åˆ†å¸ƒï¼ˆé¥¼å›¾ï¼‰                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”‚
â”‚     ä»»åŠ¡: 57% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                              â”‚
â”‚     é—®é¢˜: 22% â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ                                     â”‚
â”‚     å†³ç­–: 8%  â–ˆâ–ˆ                                        â”‚
â”‚     éƒ¨ç½²: 3%  â–ˆ                                         â”‚
â”‚     ç³»ç»Ÿ: 10% â–ˆâ–ˆâ–ˆ                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ ä¸¥é‡æ€§åˆ†å¸ƒï¼ˆæŸ±çŠ¶å›¾ï¼‰                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                â”‚
â”‚     Info:     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 120 (77%)           â”‚
â”‚     Warning:  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 25 (16%)                          â”‚
â”‚     Error:    â–ˆâ–ˆ 8 (5%)                                â”‚
â”‚     Critical: â–ˆ 3 (2%)                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç»„ä»¶3ï¼šäº‹ä»¶ç­›é€‰å™¨ï¼ˆEventFilterï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ” ç­›é€‰äº‹ä»¶                                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  äº‹ä»¶åˆ†ç±»ï¼š                                            â”‚
â”‚  [âœ“] ä»»åŠ¡  [âœ“] é—®é¢˜  [ ] å†³ç­–  [âœ“] éƒ¨ç½²  [ ] ç³»ç»Ÿ    â”‚
â”‚                                                        â”‚
â”‚  ä¸¥é‡æ€§ï¼š                                              â”‚
â”‚  [âœ“] Info  [âœ“] Warning  [âœ“] Error  [âœ“] Critical      â”‚
â”‚                                                        â”‚
â”‚  æ“ä½œè€…ï¼š                                              â”‚
â”‚  [ä¸‹æ‹‰é€‰æ‹©] â–¼                                         â”‚
â”‚    - å…¨éƒ¨                                             â”‚
â”‚    - AI Architect                                     â”‚
â”‚    - Full-stack Engineer                              â”‚
â”‚    - System                                           â”‚
â”‚    - User                                             â”‚
â”‚                                                        â”‚
â”‚  æ—¶é—´èŒƒå›´ï¼š                                            â”‚
â”‚  [æœ€è¿‘7å¤© â–¼]  æˆ–  [2025-11-18] è‡³ [2025-11-19]       â”‚
â”‚                                                        â”‚
â”‚  [é‡ç½®ç­›é€‰]  [åº”ç”¨ç­›é€‰]                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç»„ä»¶4ï¼šäº‹ä»¶è¯¦æƒ…å¼¹çª—ï¼ˆEventDetailModalï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ• äº‹ä»¶è¯¦æƒ…                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  ğŸŸ¡ WARNING | TASK_BLOCKED                           â”‚
â”‚                                                        â”‚
â”‚  æ ‡é¢˜ï¼šä»»åŠ¡é˜»å¡: INTEGRATE-003 ç­‰å¾…ä¾èµ–               â”‚
â”‚  æè¿°ï¼šä»»åŠ¡ INTEGRATE-003 å› ç­‰å¾… REQ-006 å®Œæˆè€Œé˜»å¡   â”‚
â”‚                                                        â”‚
â”‚  åŸºæœ¬ä¿¡æ¯ï¼š                                            â”‚
â”‚  â”œâ”€ äº‹ä»¶IDï¼šEVT-a1b2c3d4                             â”‚
â”‚  â”œâ”€ é¡¹ç›®ï¼šTASKFLOW                                   â”‚
â”‚  â”œâ”€ åˆ†ç±»ï¼šä»»åŠ¡ï¼ˆtaskï¼‰                                â”‚
â”‚  â”œâ”€ æ¥æºï¼šç³»ç»Ÿï¼ˆsystemï¼‰                              â”‚
â”‚  â”œâ”€ æ“ä½œè€…ï¼šSystem                                    â”‚
â”‚  â”œâ”€ ä¸¥é‡æ€§ï¼šWARNING                                   â”‚
â”‚  â”œâ”€ çŠ¶æ€ï¼šå·²å¤„ç†ï¼ˆprocessedï¼‰                         â”‚
â”‚  â”œâ”€ å‘ç”Ÿæ—¶é—´ï¼š2025-11-19 11:15:23                    â”‚
â”‚  â””â”€ è®°å½•æ—¶é—´ï¼š2025-11-19 11:15:24                    â”‚
â”‚                                                        â”‚
â”‚  å…³è”ä¿¡æ¯ï¼š                                            â”‚
â”‚  â”œâ”€ å®ä½“ç±»å‹ï¼šä»»åŠ¡ï¼ˆtaskï¼‰                            â”‚
â”‚  â””â”€ å®ä½“IDï¼šINTEGRATE-003                            â”‚
â”‚     [æŸ¥çœ‹ä»»åŠ¡è¯¦æƒ… â†’]                                  â”‚
â”‚                                                        â”‚
â”‚  äº‹ä»¶æ•°æ®ï¼ˆJSONï¼‰ï¼š                                    â”‚
â”‚  {                                                    â”‚
â”‚    "task_id": "INTEGRATE-003",                       â”‚
â”‚    "blocked_by": "REQ-006",                          â”‚
â”‚    "estimated_delay": "2h"                           â”‚
â”‚  }                                                    â”‚
â”‚                                                        â”‚
â”‚  æ ‡ç­¾ï¼š                                                â”‚
â”‚  [task] [blocked] [waiting]                          â”‚
â”‚                                                        â”‚
â”‚  [å…³é—­]                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç»„ä»¶5ï¼šäº‹ä»¶æ—¶é—´çº¿ï¼ˆEventTimelineï¼‰

**ç”¨äºæ˜¾ç¤ºæŸä¸ªå®ä½“ï¼ˆå¦‚ä»»åŠ¡ï¼‰çš„äº‹ä»¶å†å²**ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“… ä»»åŠ¡ REQ-010-B çš„äº‹ä»¶æ—¶é—´çº¿                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                        â”‚
â”‚  2025-11-19 14:30 â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                   â”‚ TASK_COMPLETED          â”‚       â”‚
â”‚                   â”‚ ä»»åŠ¡å®Œæˆ                 â”‚       â”‚
â”‚                   â”‚ ğŸ‘¤ Full-stack Engineer  â”‚       â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                        â”‚
â”‚  2025-11-19 11:45 â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                   â”‚ TASK_SUBMITTED          â”‚       â”‚
â”‚                   â”‚ ä»»åŠ¡æäº¤å®¡æŸ¥             â”‚       â”‚
â”‚                   â”‚ ğŸ‘¤ Full-stack Engineer  â”‚       â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                        â”‚
â”‚  2025-11-19 10:00 â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                   â”‚ TASK_STARTED            â”‚       â”‚
â”‚                   â”‚ ä»»åŠ¡å¼€å§‹                 â”‚       â”‚
â”‚                   â”‚ ğŸ‘¤ Full-stack Engineer  â”‚       â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                        â”‚
â”‚  2025-11-18 22:30 â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                   â”‚ TASK_CREATED            â”‚       â”‚
â”‚                   â”‚ ä»»åŠ¡åˆ›å»º                 â”‚       â”‚
â”‚                   â”‚ ğŸ‘¤ AI Architect         â”‚       â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1.7 å‰ç«¯å®ç°ä»£ç ç¤ºä¾‹

### JavaScriptä»£ç 

```javascript
// ===== äº‹ä»¶æµDashboardä¸»ç¨‹åº =====

class EventStreamDashboard {
  constructor() {
    this.apiBase = 'http://localhost:8800';
    this.projectId = 'TASKFLOW';
    this.currentPage = 0;
    this.pageSize = 50;
    this.filters = {
      category: null,
      severity: null,
      actor: null,
      start_time: null,
      end_time: null
    };
  }

  // åˆå§‹åŒ–
  async init() {
    await this.loadStats();
    await this.loadEvents();
    this.setupEventListeners();
    this.startAutoRefresh();
  }

  // åŠ è½½ç»Ÿè®¡æ•°æ®
  async loadStats() {
    try {
      const response = await fetch(`${this.apiBase}/api/events/stats/${this.projectId}`);
      const data = await response.json();
      
      if (data.success) {
        this.renderStats(data.stats);
      }
    } catch (error) {
      console.error('åŠ è½½ç»Ÿè®¡å¤±è´¥:', error);
    }
  }

  // åŠ è½½äº‹ä»¶åˆ—è¡¨
  async loadEvents() {
    try {
      // æ„å»ºæŸ¥è¯¢å‚æ•°
      const params = new URLSearchParams({
        project_id: this.projectId,
        limit: this.pageSize,
        offset: this.currentPage * this.pageSize
      });

      // æ·»åŠ ç­›é€‰æ¡ä»¶
      if (this.filters.category) params.append('category', this.filters.category);
      if (this.filters.severity) params.append('severity', this.filters.severity);
      if (this.filters.actor) params.append('actor', this.filters.actor);
      if (this.filters.start_time) params.append('start_time', this.filters.start_time);
      if (this.filters.end_time) params.append('end_time', this.filters.end_time);

      const response = await fetch(`${this.apiBase}/api/events?${params}`);
      const data = await response.json();
      
      if (data.success) {
        this.renderEvents(data.events);
      }
    } catch (error) {
      console.error('åŠ è½½äº‹ä»¶å¤±è´¥:', error);
    }
  }

  // æ¸²æŸ“ç»Ÿè®¡æ•°æ®
  renderStats(stats) {
    document.getElementById('total-events').textContent = stats.total_events;
    document.getElementById('task-events').textContent = stats.task_events;
    document.getElementById('issue-events').textContent = stats.issue_events;
    document.getElementById('decision-events').textContent = stats.decision_events;
    document.getElementById('warning-events').textContent = stats.warning_events;
    document.getElementById('error-events').textContent = stats.error_events;
    document.getElementById('critical-events').textContent = stats.critical_events;

    // ç»˜åˆ¶å›¾è¡¨ï¼ˆä½¿ç”¨Chart.jsï¼‰
    this.renderPieChart(stats);
    this.renderBarChart(stats);
  }

  // æ¸²æŸ“äº‹ä»¶åˆ—è¡¨
  renderEvents(events) {
    const container = document.getElementById('events-list');
    
    container.innerHTML = events.map(event => `
      <div class="event-card severity-${event.severity}" data-event-id="${event.id}">
        <div class="event-header">
          <span class="severity-badge ${event.severity}">
            ${this.getSeverityIcon(event.severity)} ${event.severity.toUpperCase()}
          </span>
          <span class="event-type">${event.event_type}</span>
          <span class="event-time">${this.formatTime(event.occurred_at)}</span>
        </div>
        
        <div class="event-title">${event.title}</div>
        
        ${event.description ? `<div class="event-description">${event.description}</div>` : ''}
        
        <div class="event-meta">
          <span class="actor">ğŸ‘¤ ${event.actor || 'System'}</span>
          <span class="category">ğŸ“‹ ${event.event_category}</span>
          ${event.related_entity_id ? 
            `<span class="related">ğŸ”— ${event.related_entity_id}</span>` : ''}
        </div>
        
        <div class="event-actions">
          <button onclick="dashboard.viewEventDetail('${event.id}')">æŸ¥çœ‹è¯¦æƒ…</button>
          ${event.related_entity_id ? 
            `<button onclick="dashboard.viewRelatedEntity('${event.related_entity_type}', '${event.related_entity_id}')">
              æŸ¥çœ‹å…³è”
            </button>` : ''}
        </div>
      </div>
    `).join('');
  }

  // æŸ¥çœ‹äº‹ä»¶è¯¦æƒ…
  async viewEventDetail(eventId) {
    try {
      const response = await fetch(`${this.apiBase}/api/events/${eventId}`);
      const data = await response.json();
      
      if (data.success) {
        this.showEventModal(data.event);
      }
    } catch (error) {
      console.error('è·å–äº‹ä»¶è¯¦æƒ…å¤±è´¥:', error);
    }
  }

  // æ˜¾ç¤ºäº‹ä»¶è¯¦æƒ…å¼¹çª—
  showEventModal(event) {
    const modal = document.getElementById('event-modal');
    const content = document.getElementById('modal-content');
    
    content.innerHTML = `
      <div class="modal-header">
        <h3>${this.getSeverityIcon(event.severity)} ${event.event_type}</h3>
        <button class="close-btn" onclick="dashboard.closeModal()">âœ•</button>
      </div>
      
      <div class="modal-body">
        <div class="detail-section">
          <h4>æ ‡é¢˜</h4>
          <p>${event.title}</p>
        </div>
        
        ${event.description ? `
          <div class="detail-section">
            <h4>æè¿°</h4>
            <p>${event.description}</p>
          </div>
        ` : ''}
        
        <div class="detail-section">
          <h4>åŸºæœ¬ä¿¡æ¯</h4>
          <table class="detail-table">
            <tr><td>äº‹ä»¶ID</td><td>${event.id}</td></tr>
            <tr><td>é¡¹ç›®</td><td>${event.project_id}</td></tr>
            <tr><td>åˆ†ç±»</td><td>${event.event_category}</td></tr>
            <tr><td>æ¥æº</td><td>${event.source}</td></tr>
            <tr><td>æ“ä½œè€…</td><td>${event.actor || '-'}</td></tr>
            <tr><td>ä¸¥é‡æ€§</td><td>${event.severity}</td></tr>
            <tr><td>çŠ¶æ€</td><td>${event.status}</td></tr>
            <tr><td>å‘ç”Ÿæ—¶é—´</td><td>${event.occurred_at}</td></tr>
          </table>
        </div>
        
        ${event.related_entity_id ? `
          <div class="detail-section">
            <h4>å…³è”ä¿¡æ¯</h4>
            <p>å®ä½“ç±»å‹ï¼š${event.related_entity_type}</p>
            <p>å®ä½“IDï¼š<code>${event.related_entity_id}</code></p>
            <button onclick="dashboard.viewRelatedEntity('${event.related_entity_type}', '${event.related_entity_id}')">
              æŸ¥çœ‹${event.related_entity_type}è¯¦æƒ… â†’
            </button>
          </div>
        ` : ''}
        
        ${event.data ? `
          <div class="detail-section">
            <h4>äº‹ä»¶æ•°æ®</h4>
            <pre class="json-data">${JSON.stringify(event.data, null, 2)}</pre>
          </div>
        ` : ''}
        
        ${event.tags && event.tags.length > 0 ? `
          <div class="detail-section">
            <h4>æ ‡ç­¾</h4>
            <div class="tags">
              ${event.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
            </div>
          </div>
        ` : ''}
      </div>
    `;
    
    modal.style.display = 'block';
  }

  // è¾…åŠ©å‡½æ•°
  getSeverityIcon(severity) {
    const icons = {
      'info': 'ğŸŸ¢',
      'warning': 'ğŸŸ¡',
      'error': 'ğŸŸ ',
      'critical': 'ğŸ”´'
    };
    return icons[severity] || 'âšª';
  }

  formatTime(isoString) {
    const date = new Date(isoString);
    const now = new Date();
    const diffMs = now - date;
    const diffMins = Math.floor(diffMs / 60000);
    
    if (diffMins < 1) return 'åˆšåˆš';
    if (diffMins < 60) return `${diffMins}åˆ†é’Ÿå‰`;
    if (diffMins < 1440) return `${Math.floor(diffMins/60)}å°æ—¶å‰`;
    return date.toLocaleString('zh-CN');
  }

  // è‡ªåŠ¨åˆ·æ–°
  startAutoRefresh() {
    setInterval(() => {
      this.loadEvents();
      this.loadStats();
    }, 30000); // æ¯30ç§’åˆ·æ–°
  }
}

// åˆå§‹åŒ–
const dashboard = new EventStreamDashboard();
document.addEventListener('DOMContentLoaded', () => {
  dashboard.init();
});
```

---

## 1.8 å®æ–½ä¼˜å…ˆçº§

**ä¼˜å…ˆçº§**ï¼šğŸ”´ P0ï¼ˆæœ€é«˜ä¼˜å…ˆçº§ï¼‰  
**å·¥æ—¶ä¼°ç®—**ï¼š6-8å°æ—¶  
**ä»·å€¼è¯„åˆ†**ï¼šâ­â­â­â­â­  
**å®æ–½å»ºè®®**ï¼šç«‹å³å®æ–½ï¼Œæœ¬å‘¨å®Œæˆ

**åŸå› **ï¼š
- äº‹ä»¶ç³»ç»Ÿæ˜¯æ•´ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒåŸºç¡€è®¾æ–½
- å¯è¿½æº¯æ€§æ˜¯ä¼ä¸šçº§ç³»ç»Ÿçš„å¿…å¤‡åŠŸèƒ½
- ç”¨æˆ·æ€¥éœ€äº†è§£ç³»ç»Ÿè¿è¡ŒçŠ¶æ€
- å®æ–½åç”¨æˆ·ä½“éªŒæå‡æœ€æ˜æ˜¾

---

# ğŸ’¬ æ ¸å¿ƒç³»ç»Ÿ2ï¼šå¯¹è¯å†å²åº“

## 2.1 åŠŸèƒ½æ¦‚è¿°

**ä»€ä¹ˆæ˜¯å¯¹è¯å†å²åº“ï¼Ÿ**

å¯¹è¯å†å²åº“è®°å½•äº†ç”¨æˆ·ä¸AIçš„æ‰€æœ‰å¯¹è¯ä¼šè¯ï¼ŒåŒ…æ‹¬ï¼š
- ä¼šè¯å…ƒä¿¡æ¯ï¼ˆæ ‡é¢˜ã€æ—¶é—´ã€çŠ¶æ€ï¼‰
- æ¶ˆæ¯å†å²ï¼ˆç”¨æˆ·æé—®ã€AIå›ç­”ï¼‰
- Tokenæ¶ˆè€—ç»Ÿè®¡
- ä¼šè¯æ ‡ç­¾å’Œåˆ†ç±»
- ä¼šè¯æ‘˜è¦

**æ ¸å¿ƒä»·å€¼**ï¼š
- âœ… çŸ¥è¯†æ²‰æ·€ï¼šé‡è¦å¯¹è¯å¯ä»¥å›é¡¾
- âœ… Tokenç®¡ç†ï¼šè¿½è¸ªTokenæ¶ˆè€—
- âœ… ä¼˜åŒ–æç¤ºè¯ï¼šåˆ†æå“ªäº›å¯¹è¯æ›´é«˜æ•ˆ
- âœ… å›¢é˜Ÿåä½œï¼šå¤šäººå¯ä»¥æŸ¥çœ‹å¯¹è¯å†å²

---

## 2.2 å®ç°é€»è¾‘

### æ•°æ®å­˜å‚¨

```
conversationsï¼ˆä¼šè¯è¡¨ï¼‰
    â”œâ”€ session_id: ä¼šè¯ID
    â”œâ”€ title: ä¼šè¯æ ‡é¢˜
    â”œâ”€ created_at: åˆ›å»ºæ—¶é—´
    â”œâ”€ updated_at: æ›´æ–°æ—¶é—´
    â”œâ”€ status: çŠ¶æ€ï¼ˆactive/completed/archivedï¼‰
    â”œâ”€ total_tokens: æ€»Tokenæ¶ˆè€—
    â”œâ”€ messages_count: æ¶ˆæ¯æ•°
    â”œâ”€ participants: å‚ä¸è€…åˆ—è¡¨
    â”œâ”€ tags: æ ‡ç­¾åˆ—è¡¨
    â”œâ”€ summary: ä¼šè¯æ‘˜è¦
    â””â”€ messages: æ¶ˆæ¯åˆ—è¡¨ï¼ˆåµŒå¥—ï¼‰
```

### å·¥ä½œæµç¨‹

```mermaid
sequenceDiagram
    participant User as ç”¨æˆ·
    participant Frontend as å‰ç«¯
    participant API as APIæœåŠ¡
    participant Storage as JSONå­˜å‚¨
    
    User->>Frontend: å¼€å§‹æ–°ä¼šè¯
    Frontend->>API: POST /api/conversations
    API->>Storage: åˆ›å»ºä¼šè¯è®°å½•
    Storage-->>API: è¿”å›session_id
    API-->>Frontend: è¿”å›ä¼šè¯å¯¹è±¡
    Frontend-->>User: æ˜¾ç¤ºä¼šè¯
    
    User->>Frontend: å‘é€æ¶ˆæ¯
    Frontend->>API: POST /api/conversations/{id}/messages
    API->>Storage: æ·»åŠ æ¶ˆæ¯
    API->>Storage: æ›´æ–°Tokenè®¡æ•°
    Storage-->>API: è¿”å›æˆåŠŸ
    API-->>Frontend: è¿”å›æ¶ˆæ¯å¯¹è±¡
    Frontend-->>User: æ˜¾ç¤ºæ¶ˆæ¯
```

---

## 2.3 æ•°æ®æ¨¡å‹

### ä¼šè¯å¯¹è±¡ï¼ˆConversationï¼‰

```json
{
  "session_id": "session-001",
  "title": "Dashboardé‡æ„è®¨è®º",
  "created_at": "2025-11-18 22:30:00",
  "updated_at": "2025-11-18 23:45:00",
  "status": "completed",
  "total_tokens": 25000,
  "messages_count": 6,
  "participants": ["ç”¨æˆ·", "æ¶æ„å¸ˆAI"],
  "tags": ["Dashboard", "é‡æ„", "UI"],
  "summary": "è®¨è®ºäº†Dashboardçš„é‡æ„æ–¹æ¡ˆï¼Œå†³å®šé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡",
  "messages": [
    { /* æ¶ˆæ¯1 */ },
    { /* æ¶ˆæ¯2 */ }
  ]
}
```

### æ¶ˆæ¯å¯¹è±¡ï¼ˆMessageï¼‰

```json
{
  "id": "msg-001",
  "timestamp": "2025-11-18 22:30:15",
  "from": "ç”¨æˆ·",
  "content": "è¯·åˆ†æå½“å‰Dashboardçš„æ¶æ„é—®é¢˜",
  "type": "request",
  "tokens": 50
}
```

### ä¼šè¯ç»Ÿè®¡

```json
{
  "total_sessions": 5,
  "active_sessions": 2,
  "completed_sessions": 3,
  "archived_sessions": 0,
  "total_messages": 50,
  "total_tokens": 100000,
  "average_tokens_per_session": 20000,
  "average_messages_per_session": 10
}
```

---

## 2.4 APIæ¥å£è¯¦è§£

### API 1: è·å–æ‰€æœ‰ä¼šè¯

```http
GET /api/conversations
```

**è¿”å›**ï¼š
```json
{
  "success": true,
  "sessions": [
    { /* ä¼šè¯1 */ },
    { /* ä¼šè¯2 */ }
  ],
  "count": 5
}
```

### API 2: è·å–ä¼šè¯è¯¦æƒ…

```http
GET /api/conversations/{session_id}
```

**è¿”å›**ï¼š
```json
{
  "success": true,
  "session": {
    "session_id": "session-001",
    "title": "...",
    "messages": [
      { /* æ¶ˆæ¯1 */ },
      { /* æ¶ˆæ¯2 */ }
    ],
    // ...
  }
}
```

### API 3: åˆ›å»ºæ–°ä¼šè¯

```http
POST /api/conversations
Content-Type: application/json

{
  "title": "æ–°ä¼šè¯æ ‡é¢˜",
  "participants": ["ç”¨æˆ·", "æ¶æ„å¸ˆAI"],
  "tags": ["Dashboard", "UI"],
  "summary": "ä¼šè¯æ‘˜è¦"
}
```

### API 4-12ï¼šå…¶ä»–ç«¯ç‚¹

- `PUT /api/conversations/{session_id}` - æ›´æ–°ä¼šè¯
- `DELETE /api/conversations/{session_id}` - åˆ é™¤ä¼šè¯
- `POST /api/conversations/{id}/messages` - æ·»åŠ æ¶ˆæ¯
- `GET /api/conversations/{id}/messages` - è·å–æ¶ˆæ¯åˆ—è¡¨
- `GET /api/conversations/tags/list` - è·å–æ ‡ç­¾åˆ—è¡¨
- `GET /api/conversations/stats/overview` - è·å–ç»Ÿè®¡
- `GET /api/conversations/search/by-date` - æŒ‰æ—¥æœŸæŸ¥è¯¢
- `GET /api/conversations/search/by-tokens` - æŒ‰TokenæŸ¥è¯¢
- `GET /api/conversations/health` - å¥åº·æ£€æŸ¥

---

## 2.5 UXè®¾è®¡å»ºè®®

### é¡µé¢å¸ƒå±€è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¬ å¯¹è¯å†å²åº“ - ä»»åŠ¡æ‰€Â·Flow                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ“Š ä¼šè¯ç»Ÿè®¡                                          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  [æ€»ä¼šè¯: 5] [æ´»è·ƒ: 2] [å·²å®Œæˆ: 3] [æ€»Token: 100K]  â”‚ â”‚
â”‚  â”‚  [å¹³å‡Token/ä¼šè¯: 20K] [å¹³å‡æ¶ˆæ¯/ä¼šè¯: 10æ¡]         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ” æœç´¢å’Œç­›é€‰                                        â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  [æœç´¢æ¡†] [çŠ¶æ€â–¼] [æ ‡ç­¾â–¼] [æ—¥æœŸèŒƒå›´] [TokenèŒƒå›´]    â”‚ â”‚
â”‚  â”‚  [åˆ›å»ºæ–°ä¼šè¯+]                                       â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  ğŸ“ ä¼šè¯åˆ—è¡¨                                          â”‚ â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ session-001 | Dashboardé‡æ„è®¨è®º               â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ ğŸŸ¢ å·²å®Œæˆ | 2025-11-18 22:30                 â”‚  â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚
â”‚  â”‚  â”‚ ğŸ’¬ 6æ¡æ¶ˆæ¯ | ğŸ”¢ 25,000 tokens               â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ ğŸ·ï¸ Dashboard, é‡æ„, UI                      â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ ğŸ“ è®¨è®ºäº†Dashboardçš„é‡æ„æ–¹æ¡ˆ...              â”‚  â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚
â”‚  â”‚  â”‚ [æŸ¥çœ‹è¯¦æƒ…] [ç»§ç»­å¯¹è¯] [å¯¼å‡º] [åˆ é™¤]          â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                                                      â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚ session-002 | APIé›†æˆè®¨è®º                     â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ ğŸŸ¡ æ´»è·ƒä¸­ | 2025-11-19 10:00                 â”‚  â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚
â”‚  â”‚  â”‚ ğŸ’¬ 12æ¡æ¶ˆæ¯ | ğŸ”¢ 45,000 tokens              â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ ğŸ·ï¸ API, é›†æˆ, æµ‹è¯•                          â”‚  â”‚ â”‚
â”‚  â”‚  â”‚ ğŸ“ æ­£åœ¨è®¨è®ºå¦‚ä½•é›†æˆå„ä¸ªAPIæ¨¡å—...             â”‚  â”‚ â”‚
â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚
â”‚  â”‚  â”‚ [æŸ¥çœ‹è¯¦æƒ…] [ç»§ç»­å¯¹è¯] [å½’æ¡£]                 â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¼šè¯è¯¦æƒ…é¡µå¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† è¿”å›åˆ—è¡¨ | session-001: Dashboardé‡æ„è®¨è®º              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                            â”‚
â”‚  ä¼šè¯ä¿¡æ¯ï¼š                                                â”‚
â”‚  â”œâ”€ çŠ¶æ€ï¼šğŸŸ¢ å·²å®Œæˆ                                       â”‚
â”‚  â”œâ”€ åˆ›å»ºï¼š2025-11-18 22:30                               â”‚
â”‚  â”œâ”€ æ›´æ–°ï¼š2025-11-18 23:45                               â”‚
â”‚  â”œâ”€ å‚ä¸è€…ï¼šç”¨æˆ·ã€æ¶æ„å¸ˆAI                                â”‚
â”‚  â”œâ”€ æ ‡ç­¾ï¼šDashboard, é‡æ„, UI                             â”‚
â”‚  â””â”€ Tokenï¼š25,000 / 6æ¡æ¶ˆæ¯                              â”‚
â”‚                                                            â”‚
â”‚  ä¼šè¯æ‘˜è¦ï¼š                                                â”‚
â”‚  è®¨è®ºäº†Dashboardçš„é‡æ„æ–¹æ¡ˆï¼Œå†³å®šé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡...         â”‚
â”‚                                                            â”‚
â”‚  â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”         â”‚
â”‚                                                            â”‚
â”‚  ğŸ’¬ æ¶ˆæ¯å†å²ï¼ˆ6æ¡ï¼‰ï¼š                                      â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ‘¤ ç”¨æˆ· | 2025-11-18 22:30 | 50 tokens          â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚   â”‚
â”‚  â”‚  è¯·åˆ†æå½“å‰Dashboardçš„æ¶æ„é—®é¢˜                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ¤– æ¶æ„å¸ˆAI | 2025-11-18 22:32 | 8,500 tokens   â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚   â”‚
â”‚  â”‚  æˆ‘åˆ†æäº†Dashboardçš„ä»£ç ï¼Œå‘ç°ä»¥ä¸‹é—®é¢˜ï¼š           â”‚   â”‚
â”‚  â”‚  1. æ¨¡å—è€¦åˆåº¦é«˜                                  â”‚   â”‚
â”‚  â”‚  2. ç¼ºå°‘ç»Ÿä¸€çš„çŠ¶æ€ç®¡ç†                            â”‚   â”‚
â”‚  â”‚  3. Tabåˆ‡æ¢é€»è¾‘åˆ†æ•£                               â”‚   â”‚
â”‚  â”‚  ...                                              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  ğŸ‘¤ ç”¨æˆ· | 2025-11-18 22:35 | 30 tokens          â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€    â”‚   â”‚
â”‚  â”‚  è¯·ç»™å‡ºé‡æ„å»ºè®®                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                            â”‚
â”‚  ... æ›´å¤šæ¶ˆæ¯ ...                                          â”‚
â”‚                                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UIç»„ä»¶è®¾è®¡

#### ç»„ä»¶1ï¼šä¼šè¯å¡ç‰‡ï¼ˆSessionCardï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  session-001 | Dashboardé‡æ„è®¨è®º                â”‚ â† æ ‡é¢˜
â”‚  ğŸŸ¢ å·²å®Œæˆ | 2025-11-18 22:30                  â”‚ â† çŠ¶æ€å’Œæ—¶é—´
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ’¬ 6æ¡æ¶ˆæ¯ | ğŸ”¢ 25,000 tokens                 â”‚ â† ç»Ÿè®¡ä¿¡æ¯
â”‚  ğŸ·ï¸ Dashboard, é‡æ„, UI                        â”‚ â† æ ‡ç­¾
â”‚  ğŸ“ è®¨è®ºäº†Dashboardçš„é‡æ„æ–¹æ¡ˆï¼Œå†³å®šé‡‡ç”¨...       â”‚ â† æ‘˜è¦
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [æŸ¥çœ‹è¯¦æƒ…] [ç»§ç»­å¯¹è¯] [å¯¼å‡º] [åˆ é™¤]            â”‚ â† æ“ä½œæŒ‰é’®
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**é¢œè‰²æ–¹æ¡ˆ**ï¼š
- ğŸŸ¢ activeï¼ˆæ´»è·ƒï¼‰: ç»¿è‰²
- ğŸŸ¡ completedï¼ˆå·²å®Œæˆï¼‰: ç°è‰²
- ğŸ”µ archivedï¼ˆå·²å½’æ¡£ï¼‰: è“è‰²

#### ç»„ä»¶2ï¼šæ¶ˆæ¯æ°”æ³¡ï¼ˆMessageBubbleï¼‰

```
ç”¨æˆ·æ¶ˆæ¯ï¼ˆå³å¯¹é½ï¼‰ï¼š
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ è¯·åˆ†æDashboardçš„æ¶æ„é—®é¢˜     â”‚
        â”‚                              â”‚
        â”‚ ğŸ‘¤ ç”¨æˆ· | 22:30 | 50 tokens  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

AIæ¶ˆæ¯ï¼ˆå·¦å¯¹é½ï¼‰ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æˆ‘åˆ†æäº†ä»£ç ï¼Œå‘ç°ä»¥ä¸‹é—®é¢˜ï¼š         â”‚
â”‚ 1. æ¨¡å—è€¦åˆåº¦é«˜                      â”‚
â”‚ 2. ç¼ºå°‘ç»Ÿä¸€çŠ¶æ€ç®¡ç†                  â”‚
â”‚ ...                                  â”‚
â”‚                                      â”‚
â”‚ ğŸ¤– æ¶æ„å¸ˆAI | 22:32 | 8,500 tokens  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç»„ä»¶3ï¼šä¼šè¯ç»Ÿè®¡é¢æ¿ï¼ˆSessionStatsPanelï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æ€»ä¼šè¯æ•°   â”‚  æ´»è·ƒä¼šè¯   â”‚  å·²å®Œæˆ     â”‚  æ€»Token    â”‚
â”‚     5       â”‚     2       â”‚     3       â”‚   100,000   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Tokenæ¶ˆè€—è¶‹åŠ¿ï¼ˆæŠ˜çº¿å›¾ï¼‰ï¼š
   â†‘
40Kâ”‚              â—
30Kâ”‚           â—     â—
20Kâ”‚        â—           â—
10Kâ”‚     â—
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â†’
     11/15  11/16  11/17  11/18  11/19
```

---

## 2.6 å‰ç«¯å®ç°ä»£ç ç¤ºä¾‹

```javascript
// ===== å¯¹è¯å†å²Dashboard =====

class ConversationDashboard {
  constructor() {
    this.apiBase = 'http://localhost:8800';
    this.currentSessionId = null;
  }

  // åˆå§‹åŒ–
  async init() {
    await this.loadStats();
    await this.loadSessions();
    this.setupEventListeners();
  }

  // åŠ è½½ç»Ÿè®¡
  async loadStats() {
    const response = await fetch(`${this.apiBase}/api/conversations/stats/overview`);
    const data = await response.json();
    
    if (data.success) {
      this.renderStats(data.stats);
    }
  }

  // åŠ è½½ä¼šè¯åˆ—è¡¨
  async loadSessions() {
    const response = await fetch(`${this.apiBase}/api/conversations`);
    const data = await response.json();
    
    if (data.success) {
      this.renderSessions(data.sessions);
    }
  }

  // æ¸²æŸ“ä¼šè¯åˆ—è¡¨
  renderSessions(sessions) {
    const container = document.getElementById('sessions-list');
    
    container.innerHTML = sessions.map(session => `
      <div class="session-card" onclick="convDashboard.viewSession('${session.session_id}')">
        <div class="session-header">
          <h4>${session.title}</h4>
          <span class="status-badge ${session.status}">${this.getStatusText(session.status)}</span>
        </div>
        
        <div class="session-time">
          ${this.formatTime(session.created_at)}
        </div>
        
        <div class="session-stats">
          <span>ğŸ’¬ ${session.messages_count} æ¡æ¶ˆæ¯</span>
          <span>ğŸ”¢ ${session.total_tokens.toLocaleString()} tokens</span>
        </div>
        
        ${session.tags && session.tags.length > 0 ? `
          <div class="session-tags">
            ğŸ·ï¸ ${session.tags.map(tag => `<span class="tag">${tag}</span>`).join(' ')}
          </div>
        ` : ''}
        
        ${session.summary ? `
          <div class="session-summary">
            ğŸ“ ${session.summary}
          </div>
        ` : ''}
        
        <div class="session-actions">
          <button onclick="event.stopPropagation(); convDashboard.continueSession('${session.session_id}')">
            ç»§ç»­å¯¹è¯
          </button>
          <button onclick="event.stopPropagation(); convDashboard.exportSession('${session.session_id}')">
            å¯¼å‡º
          </button>
          <button onclick="event.stopPropagation(); convDashboard.deleteSession('${session.session_id}')">
            åˆ é™¤
          </button>
        </div>
      </div>
    `).join('');
  }

  // æŸ¥çœ‹ä¼šè¯è¯¦æƒ…
  async viewSession(sessionId) {
    this.currentSessionId = sessionId;
    
    // è·å–æ¶ˆæ¯åˆ—è¡¨
    const response = await fetch(`${this.apiBase}/api/conversations/${sessionId}/messages`);
    const data = await response.json();
    
    if (data.success) {
      this.showSessionDetail(sessionId, data.messages);
    }
  }

  // æ˜¾ç¤ºä¼šè¯è¯¦æƒ…
  showSessionDetail(sessionId, messages) {
    // éšè—ä¼šè¯åˆ—è¡¨ï¼Œæ˜¾ç¤ºè¯¦æƒ…é¡µ
    document.getElementById('sessions-list-view').style.display = 'none';
    document.getElementById('session-detail-view').style.display = 'block';
    
    // æ¸²æŸ“æ¶ˆæ¯
    const container = document.getElementById('messages-container');
    container.innerHTML = messages.map(msg => `
      <div class="message-bubble ${msg.from === 'ç”¨æˆ·' ? 'user' : 'ai'}">
        <div class="message-header">
          <span class="sender">${msg.from === 'ç”¨æˆ·' ? 'ğŸ‘¤' : 'ğŸ¤–'} ${msg.from}</span>
          <span class="time">${msg.timestamp}</span>
          <span class="tokens">ğŸ”¢ ${msg.tokens.toLocaleString()} tokens</span>
        </div>
        <div class="message-content">
          ${this.formatMessageContent(msg.content)}
        </div>
      </div>
    `).join('');
    
    // æ»šåŠ¨åˆ°åº•éƒ¨
    container.scrollTop = container.scrollHeight;
  }

  // æ ¼å¼åŒ–æ¶ˆæ¯å†…å®¹ï¼ˆæ”¯æŒMarkdownï¼‰
  formatMessageContent(content) {
    // ç®€å•çš„Markdownæ¸²æŸ“ï¼ˆå¯ä»¥ä½¿ç”¨marked.jsï¼‰
    return content
      .replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')
      .replace(/\*(.*?)\*/g, '<em>$1</em>')
      .replace(/`(.*?)`/g, '<code>$1</code>')
      .replace(/\n/g, '<br>');
  }

  // è¾…åŠ©å‡½æ•°
  getStatusText(status) {
    const texts = {
      'active': 'ğŸŸ¢ æ´»è·ƒ',
      'completed': 'ğŸŸ¡ å·²å®Œæˆ',
      'archived': 'ğŸ”µ å·²å½’æ¡£'
    };
    return texts[status] || status;
  }

  formatTime(timeStr) {
    const date = new Date(timeStr);
    return date.toLocaleString('zh-CN');
  }
}

// åˆå§‹åŒ–
const convDashboard = new ConversationDashboard();
document.addEventListener('DOMContentLoaded', () => {
  convDashboard.init();
});
```

---

## 2.7 äº¤äº’æµç¨‹è¯¦è§£

### æµç¨‹1ï¼šæµè§ˆä¼šè¯åˆ—è¡¨