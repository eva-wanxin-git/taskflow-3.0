# ğŸ¯ AIå¿«é€Ÿä¸Šä¸‹æ–‡ - TaskFlow v1.2

> **ç”¨é€”**: è®©AIç”¨æœ€å°‘çš„tokenå¿«é€Ÿç†è§£æ•´ä¸ªé¡¹ç›®  
> **ä½¿ç”¨**: ä»»ä½•AIä¼šè¯å¼€å§‹æ—¶å…ˆè¯»è¿™ä¸ªæ–‡ä»¶

---

## âš¡ 3ç§’ç†è§£é¡¹ç›®

- **é¡¹ç›®ç±»å‹**: Flask Webåº”ç”¨ + AIä»»åŠ¡ç®¡ç†ç³»ç»Ÿ
- **ä¸»è¦åŠŸèƒ½**: å¤šè§’è‰²AIåä½œçš„ä»»åŠ¡çœ‹æ¿
- **æŠ€æœ¯æ ˆ**: Python Flask + SQLite + åŸç”ŸJS
- **ç«¯å£**: 8820 (Dashboardä¸»ç«¯å£)

---

## ğŸ“ æ ¸å¿ƒæ¨¡å—ï¼ˆ6ä¸ªï¼‰

### 1. **æ¶æ„å¸ˆæ¨¡å—** (`apps/architect/`)
- **åŠŸèƒ½**: AIæ¶æ„å¸ˆå·¥ä½œå°ï¼Œä»»åŠ¡åˆ†æå’Œè§„åˆ’
- **å…³é”®æ–‡ä»¶**: `routes.py` (è·¯ç”±), `templates/architect_workspace.html` (ç•Œé¢)
- **API**: `/architect/tasks`, `/architect/scan`

### 2. **å…¨æ ˆå·¥ç¨‹å¸ˆæ¨¡å—** (`apps/fullstack/`)
- **åŠŸèƒ½**: AIå…¨æ ˆå·¥ç¨‹å¸ˆå·¥ä½œå°ï¼Œä»£ç å®ç°
- **å…³é”®æ–‡ä»¶**: `routes.py`, `templates/fullstack_workspace.html`
- **API**: `/fullstack/tasks`, `/fullstack/history`

### 3. **è¿ç»´å·¥ç¨‹å¸ˆæ¨¡å—** (`apps/devops/`)
- **åŠŸèƒ½**: AIè¿ç»´å·¥ç¨‹å¸ˆå·¥ä½œå°ï¼Œéƒ¨ç½²å’Œç›‘æ§
- **å…³é”®æ–‡ä»¶**: `routes.py`, `templates/devops_workspace.html`

### 4. **Noahä»£ç ç®¡ç†** (`apps/noah/`)
- **åŠŸèƒ½**: ä»£ç å®¡æŸ¥å’Œè´¨é‡ç®¡ç†
- **å…³é”®æ–‡ä»¶**: `routes.py`

### 5. **å®æ—¶è„‰åŠ¨** (`apps/realtime/`)
- **åŠŸèƒ½**: å®æ—¶äº‹ä»¶æµå’Œé€šçŸ¥ç³»ç»Ÿ
- **å…³é”®æ–‡ä»¶**: `event_listener.py`, `sse_routes.py`

### 6. **é€è§†å¡”** (`apps/insight/`)
- **åŠŸèƒ½**: é¡¹ç›®æ•°æ®é€è§†å’Œåˆ†æ
- **å…³é”®æ–‡ä»¶**: `insight_routes.py`, `templates/insight_tower.html`

---

## ğŸ”‘ å…³é”®æ–‡ä»¶ï¼ˆå¿…è¯»ï¼‰

### **å¯åŠ¨å…¥å£**
- `start_insight_api.py` - Flaskåº”ç”¨ä¸»å…¥å£ (994è¡Œ)

### **æ•°æ®åº“**
- `database/taskflow.db` - SQLiteæ•°æ®åº“
- è¡¨: `tasks`, `workers`, `events`, `modules`ç­‰

### **é…ç½®**
- `config/` - é…ç½®æ–‡ä»¶ç›®å½•
- ç«¯å£: 8820 (ä¸»æœåŠ¡), 8000 (APIæœåŠ¡), 8800 (å¤‡ç”¨)

### **æ¨¡æ¿**
- `templates/` - Jinja2æ¨¡æ¿
- æ¯ä¸ªæ¨¡å—æœ‰ç‹¬ç«‹çš„workspace.html

### **é™æ€èµ„æº**
- `static/` - CSS/JS/å›¾ç‰‡
- `static/css/` - æ ·å¼æ–‡ä»¶
- `static/js/` - JavaScriptæ–‡ä»¶

---

## ğŸ“Š æ•°æ®åº“ç»“æ„

### **æ ¸å¿ƒè¡¨**
```sql
tasks          -- ä»»åŠ¡è¡¨
workers        -- AIå·¥ä½œè€…
modules        -- åŠŸèƒ½æ¨¡å—
events         -- äº‹ä»¶æ—¥å¿—
memory_spaces  -- è®°å¿†ç©ºé—´
```

### **å¿«é€ŸæŸ¥è¯¢**
```python
# ä½¿ç”¨SQLite MCP
"ç”¨SQLiteæŸ¥çœ‹tasksè¡¨çš„ç»“æ„"
"æŸ¥è¯¢æ‰€æœ‰å¾…å¤„ç†çš„ä»»åŠ¡"
```

---

## ğŸ¯ å¸¸è§ä»»åŠ¡é€ŸæŸ¥

### **ä»»åŠ¡1: æ·»åŠ æ–°Tab**
**æ­¥éª¤**:
1. æ‰¾åˆ°å¯¹åº”æ¨¡å—çš„HTMLæ¨¡æ¿ï¼ˆå¦‚`templates/architect_workspace.html`ï¼‰
2. å¤åˆ¶ç°æœ‰Tabç»“æ„ï¼ˆæœç´¢`<div class="tab-button"`ï¼‰
3. ä¿®æ”¹Tab IDå’Œæ ‡é¢˜
4. æ·»åŠ Tabå†…å®¹åŒºåŸŸ
5. æµ‹è¯•åŠŸèƒ½

**æ¶‰åŠæ–‡ä»¶**: æ¨¡æ¿HTML + å¯èƒ½çš„routes.py

**å‚è€ƒæ–‡æ¡£**: `ğŸ“‹ç»™æ–°Cursor-æ¶æ„å¸ˆæ¨¡å—æ·»åŠ Tab.md`

---

### **ä»»åŠ¡2: ä¿®å¤ä»£ç æ ¼å¼**
**å¿«é€Ÿå‘½ä»¤**:
```bash
"ç”¨Ruffæ£€æŸ¥ start_insight_api.py"
"ç”¨Ruffè‡ªåŠ¨ä¿®å¤æ‰€æœ‰æ ¼å¼é—®é¢˜"
"ç”¨Prettieræ ¼å¼åŒ– templates/*.html"
```

**è€—æ—¶**: 10ç§’

---

### **ä»»åŠ¡3: æŸ¥è¯¢æ•°æ®**
**å¿«é€Ÿå‘½ä»¤**:
```bash
"ç”¨SQLiteæŸ¥çœ‹æ‰€æœ‰è¡¨"
"æŸ¥è¯¢æ¶æ„å¸ˆæ¨¡å—çš„ä»»åŠ¡"
"ç”¨Fetchæµ‹è¯• http://localhost:8820/api/tasks"
```

---

### **ä»»åŠ¡4: è°ƒè¯•é—®é¢˜**
**å·¥å…·ç»„åˆ**:
1. grepæŸ¥æ‰¾é”™è¯¯ä¿¡æ¯
2. codebase_searchç†è§£é€»è¾‘
3. ä½¿ç”¨Error LensæŸ¥çœ‹è¡Œå†…é”™è¯¯
4. SQLiteæŸ¥çœ‹æ•°æ®çŠ¶æ€

---

## ğŸ”§ å¼€å‘è§„èŒƒ

### **ä»£ç é£æ ¼**
- **Python**: PEP 8æ ‡å‡†ï¼ˆç”¨Ruffæ£€æŸ¥ï¼‰
- **HTML**: ç¼©è¿›2ç©ºæ ¼ï¼ˆç”¨Prettieræ ¼å¼åŒ–ï¼‰
- **JavaScript**: ES6+
- **ç¼©è¿›**: Python 4ç©ºæ ¼, HTML/JS 2ç©ºæ ¼

### **å‘½åè§„èŒƒ**
- **å‡½æ•°**: `snake_case`
- **ç±»**: `PascalCase`
- **å¸¸é‡**: `UPPER_CASE`
- **æ–‡ä»¶**: `snake_case.py`

### **Gitæäº¤**
```bash
# æäº¤å‰å¿…åš
1. Ruffæ£€æŸ¥å’Œä¿®å¤
2. Prettieræ ¼å¼åŒ–
3. æµ‹è¯•åŠŸèƒ½æ­£å¸¸
4. git commit
```

---

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### **å¯åŠ¨ä¸»æœåŠ¡**
```bash
python start_insight_api.py
# è®¿é—®: http://localhost:8820
```

### **å¯åŠ¨APIæœåŠ¡**
```bash
# å·²æœ‰ä¸“é—¨çš„å¯åŠ¨è„šæœ¬
./å¯åŠ¨8000-APIæœåŠ¡-Mac.sh
```

### **å¯åŠ¨äº‹ä»¶ç›‘å¬**
```bash
./å¯åŠ¨äº‹ä»¶ç›‘å¬å™¨.sh
```

---

## ğŸ“š æ–‡æ¡£ç´¢å¼•

### **å¿«é€Ÿå‚è€ƒ**
- `README.md` - é¡¹ç›®æ€»è§ˆ
- `ğŸ“ŒMacç³»ç»Ÿæ’ä»¶åº“-å¿«é€Ÿç´¢å¼•.md` - å·¥å…·æ¸…å•
- `ğŸ“‹ç»™æ–°Cursor-æ¶æ„å¸ˆæ¨¡å—æ·»åŠ Tab.md` - Tabæ·»åŠ æŒ‡å—

### **è¯¦ç»†æ–‡æ¡£**
- `âœ…å½“å‰AIå·¥ä½œæ€»ç»“-2025-11-22.md` - æœ€æ–°å·¥ä½œè®°å½•
- `ğŸ”¥å¼€å‘æ­¦å™¨åº“å®Œæ•´ç›˜ç‚¹-2025-11-22.md` - å·¥å…·å®Œæ•´æ¸…å•
- `ğŸš€ä»£ç è´¨é‡-å¿«é€Ÿä¸Šæ‰‹æŒ‡å—.md` - å·¥å…·ä½¿ç”¨æŒ‡å—

---

## âš¡ AIæ•ˆç‡æŠ€å·§

### **å‡å°‘ä¸Šä¸‹æ–‡æ¶ˆè€—**

**ä¸è¦è¿™æ ·** âŒ:
```
"å¸®æˆ‘çœ‹çœ‹æ•´ä¸ªé¡¹ç›®çš„ä»£ç "
â†’ æ¶ˆè€—: 200K+ tokens
```

**åº”è¯¥è¿™æ ·** âœ…:
```
1. å…ˆè¯» .ai-context.md (æœ¬æ–‡ä»¶)
2. "æ¶æ„å¸ˆæ¨¡å—çš„ä»»åŠ¡åˆ›å»ºé€»è¾‘åœ¨å“ªï¼Ÿ"
3. ç”¨grepç²¾ç¡®å®šä½
â†’ æ¶ˆè€—: 5K tokens
```

### **ä½¿ç”¨å·¥å…·ç»„åˆ**

**åœºæ™¯: ä¸çŸ¥é“æŸä¸ªåŠŸèƒ½åœ¨å“ª**
```
1. codebase_search "Flaskåº”ç”¨åˆå§‹åŒ–åœ¨å“ª"  # è¯­ä¹‰æœç´¢
2. Everything "start_*.py"                  # æ–‡ä»¶åæœç´¢
3. grep "def create_app"                    # ç²¾ç¡®å®šä½
â†’ æ€»æ¶ˆè€—: 8K tokens
```

**åœºæ™¯: ä»£ç è´¨é‡æ£€æŸ¥**
```
1. Ruffæ£€æŸ¥ start_insight_api.py           # 3ç§’å‘ç°é—®é¢˜
2. Ruffè‡ªåŠ¨ä¿®å¤                            # 3ç§’ä¿®å¤
â†’ æ€»æ¶ˆè€—: 2K tokens
```

---

## ğŸ¯ é¡¹ç›®çŠ¶æ€

### **å½“å‰ç‰ˆæœ¬**: v1.2
### **å®Œæˆåº¦**: 95%
### **æ´»è·ƒæ¨¡å—**: 6ä¸ª
### **æ€»ä»£ç é‡**: ~10,000è¡Œ

### **æœ€è¿‘æ›´æ–°** (2025-11-22):
- âœ… æ–°å¢7ä¸ªMCPå·¥å…·ï¼ˆRuff, Prettier, SQLiteç­‰ï¼‰
- âœ… åˆ›å»ºå®Œæ•´æ–‡æ¡£ä½“ç³»
- âœ… ä¼˜åŒ–ä»£ç è´¨é‡æ£€æŸ¥æµç¨‹

---

## ğŸ’¡ æç¤º

### **æ¯æ¬¡ä¼šè¯å¼€å§‹æ—¶**:
1. å…ˆè¯»è¿™ä¸ªæ–‡ä»¶ï¼ˆ.ai-context.mdï¼‰
2. å¦‚æœä»»åŠ¡æ¶‰åŠç‰¹å®šæ¨¡å—ï¼Œå†è¯»æ¨¡å—çš„MODULE_INDEX.md
3. ä½¿ç”¨å·¥å…·ç²¾ç¡®å®šä½ï¼Œä¸è¦å…¨é‡è¯»å–æ–‡ä»¶

### **èŠ‚çœä¸Šä¸‹æ–‡çš„é»„é‡‘æ³•åˆ™**:
- âœ… ç”¨ç´¢å¼•ä»£æ›¿å®Œæ•´æ–‡ä»¶
- âœ… ç”¨å·¥å…·ä»£æ›¿æ‰‹åŠ¨æœç´¢
- âœ… ç”¨æ¨¡æ¿ä»£æ›¿é‡æ–°æ€è€ƒ
- âœ… ç”¨å¢é‡ä»£æ›¿å…¨é‡è¯»å–

---

**åˆ›å»ºæ—¶é—´**: 2025-11-22  
**ç»´æŠ¤è€…**: AIåŠ©æ‰‹  
**ç”¨é€”**: AIå¿«é€Ÿç†è§£é¡¹ç›®ï¼Œå‡å°‘70-80%ä¸Šä¸‹æ–‡æ¶ˆè€—

**è®°ä½**: è¿™ä¸ªæ–‡ä»¶æ˜¯AIçš„"é¡¹ç›®åœ°å›¾"ï¼Œæ¯æ¬¡ä¼šè¯å¿…è¯»ï¼ ğŸ¯

