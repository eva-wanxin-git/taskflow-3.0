<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>实时脉动 - TASKFLOW</title>
    
    <style>
        :root {
            /* 白色光谱 */
            --blanc-pure: #FFFFFF;
            --blanc-snow: #FAFBFC;
            --blanc-pearl: #F6F8FA;
            --blanc-silk: #F0F3F5;
            --blanc-mist: #E8ECEF;
            --blanc-cloud: #DFE4E8;

            /* 黑色层次 */
            --noir-ink: #0A0F14;
            --noir-charcoal: #1A2027;
            --noir-graphite: #2E3742;
            --noir-steel: #495057;
            --noir-silver: #6C757D;
            --noir-ash: #8B95A1;

            /* 阴影 */
            --shadow-xs: 0 1px 3px rgba(0, 0, 0, 0.04);
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.06);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.08);

            /* 字体系统 */
            --font-primary: 'SF Pro Display', 'Helvetica Neue', -apple-system, system-ui, sans-serif;
            --font-secondary: 'Playfair Display', Georgia, serif;
            --font-mono: 'SF Mono', Monaco, monospace;

            /* 字号 */
            --text-xs: 12px;
            --text-sm: 14px;
            --text-base: 16px;
            --text-lg: 18px;
            --text-xl: 21px;
            --text-2xl: 28px;

            /* 字重 */
            --weight-light: 300;
            --weight-regular: 400;
            --weight-medium: 500;
            --weight-semibold: 600;

            /* 行高 */
            --leading-tight: 1.2;
            --leading-normal: 1.5;
            --leading-relaxed: 1.75;

            /* 空间 */
            --space-2: 12px;
            --space-3: 18px;
            --space-4: 24px;
            --space-5: 32px;
            --space-6: 40px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-primary);
            background: var(--blanc-pearl);
            color: var(--noir-graphite);
            line-height: var(--leading-normal);
            padding: 40px;
        }

        /* ==================== 外层容器 ==================== */
        .pulse-page {
            max-width: 1600px;
            margin: 0 auto;
            background: var(--blanc-pure);
            border: 1px solid var(--blanc-mist);
            height: calc(100vh - 80px);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* ==================== 页面标题 ==================== */
        .page-header {
            padding: 32px 40px 24px 40px;
            border-bottom: 1px solid var(--blanc-mist);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }

        .page-title {
            font-family: var(--font-secondary);
            font-size: var(--text-2xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            letter-spacing: -0.02em;
        }

        .status-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 6px 16px;
            border: 1px solid var(--noir-silver);
            font-size: var(--text-xs);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
        }

        .status-dot {
            width: 6px;
            height: 6px;
            background: #4A7C59;
            animation: pulse-green 2s ease-in-out infinite;
        }

        @keyframes pulse-green {
            0%, 100% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.6; transform: scale(0.9); }
        }

        /* ==================== 模块信息卡片 ==================== */
        .module-info {
            padding: 24px 40px;
            border-bottom: 1px solid var(--blanc-mist);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
            background: var(--blanc-snow);
        }

        .info-left {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .module-icon {
            width: 64px;
            height: 64px;
            background: var(--noir-ink);
            color: var(--blanc-pure);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: var(--weight-semibold);
            flex-shrink: 0;
        }

        .module-details {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .module-name {
            font-size: var(--text-xl);
            font-weight: var(--weight-medium);
            color: var(--noir-ink);
            line-height: 1;
        }

        .module-meta {
            font-size: var(--text-sm);
            color: var(--noir-silver);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .meta-separator {
            color: var(--noir-ash);
        }

        .refresh-indicator {
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .refresh-dot {
            width: 6px;
            height: 6px;
            background: #4A7C59;
            animation: pulse-green 2s ease-in-out infinite;
        }

        .info-stats {
            display: flex;
            gap: 32px;
        }

        .stat-item {
            text-align: right;
        }

        .stat-value {
            font-size: var(--text-2xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            line-height: 1;
            margin-bottom: 4px;
        }

        .stat-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            line-height: 1;
        }

        /* ==================== Tab导航 ==================== */
        .tab-nav {
            display: flex;
            border-bottom: 1px solid var(--blanc-mist);
            background: var(--blanc-snow);
            flex-shrink: 0;
        }

        .tab-item {
            padding: 16px 32px;
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-silver);
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .tab-item:hover {
            color: var(--noir-graphite);
            background: var(--blanc-pearl);
        }

        .tab-item.active {
            color: var(--noir-ink);
            background: var(--blanc-pure);
            border-bottom-color: var(--noir-ink);
        }

        .tab-badge {
            display: inline-block;
            margin-left: 8px;
            padding: 2px 8px;
            font-size: 11px;
            font-weight: var(--weight-semibold);
            background: var(--blanc-mist);
            color: var(--noir-steel);
        }

        .tab-item.active .tab-badge {
            background: var(--noir-ink);
            color: var(--blanc-pure);
        }

        /* ==================== Tab内容区（可滚动）==================== */
        .tab-content {
            flex: 1;
            overflow-y: auto;
            background: var(--blanc-pure);
        }

        .tab-pane {
            display: none;
        }

        .tab-pane.active {
            display: block;
        }

        /* ==================== 筛选器 ==================== */
        .content-filters {
            padding: 20px 40px;
            border-bottom: 1px solid var(--blanc-mist);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--blanc-pure);
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .filter-chips {
            display: flex;
            gap: 12px;
        }

        .filter-chip {
            padding: 8px 20px;
            font-size: var(--text-sm);
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            color: var(--noir-graphite);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .filter-chip:hover {
            border-color: var(--noir-steel);
            background: var(--blanc-pearl);
        }

        .filter-chip.active {
            background: var(--noir-ink);
            color: var(--blanc-pure);
            border-color: var(--noir-ink);
        }

        .search-input {
            width: 280px;
            padding: 8px 16px;
            border: 1px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            font-size: var(--text-sm);
            color: var(--noir-graphite);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--noir-steel);
        }

        .search-input::placeholder {
            color: var(--noir-ash);
        }

        /* ==================== 事件列表 ==================== */
        .event-list {
            background: var(--blanc-pure);
        }

        .event-item {
            display: flex;
            gap: 20px;
            padding: 24px 40px;
            border-bottom: 1px solid var(--blanc-mist);
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .event-item:hover {
            background: var(--blanc-pearl);
        }

        .event-checkbox {
            width: 20px;
            height: 20px;
            border: 2px solid var(--blanc-cloud);
            background: var(--blanc-pure);
            flex-shrink: 0;
            margin-top: 2px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .event-checkbox:hover {
            border-color: var(--noir-steel);
        }

        .event-content {
            flex: 1;
        }

        .event-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 20px;
            margin-bottom: 8px;
        }

        .event-title-section {
            flex: 1;
        }

        .event-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 4px;
            line-height: var(--leading-tight);
        }

        .event-meta {
            font-size: var(--text-sm);
            color: var(--noir-silver);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .event-time {
            font-size: var(--text-sm);
            color: var(--noir-silver);
            white-space: nowrap;
        }

        .event-description {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            line-height: var(--leading-relaxed);
            margin-bottom: 8px;
        }

        .event-tags {
            display: flex;
            gap: 8px;
            flex-wrap: wrap;
        }

        .event-tag {
            padding: 4px 12px;
            border: 1px solid var(--blanc-cloud);
            font-size: var(--text-xs);
            color: var(--noir-graphite);
        }

        /* ==================== 时间线视图 ==================== */
        .timeline-view {
            padding: 40px 40px 40px 80px;
            position: relative;
        }

        .timeline-view::before {
            content: '';
            position: absolute;
            left: 40px;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--blanc-mist);
        }

        .timeline-date-group {
            margin-bottom: 48px;
        }

        .date-header {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
            position: relative;
            left: -48px;
        }

        .date-marker {
            width: 16px;
            height: 16px;
            background: var(--noir-ink);
            flex-shrink: 0;
        }

        .date-label {
            font-size: var(--text-lg);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .date-count {
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        .timeline-event {
            position: relative;
            margin-bottom: 32px;
        }

        .timeline-event::before {
            content: '';
            position: absolute;
            left: -48px;
            top: 0;
            width: 16px;
            height: 16px;
            border: 2px solid var(--noir-ink);
            background: var(--blanc-pure);
        }

        .timeline-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            transition: all 0.3s ease;
        }

        .timeline-card:hover {
            box-shadow: var(--shadow-sm);
            transform: translateX(4px);
        }

        .timeline-card-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 12px;
        }

        .timeline-card-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
            margin-bottom: 6px;
        }

        .timeline-card-meta {
            font-size: var(--text-xs);
            color: var(--noir-silver);
        }

        .timeline-card-time {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            font-family: var(--font-mono);
        }

        .timeline-card-description {
            font-size: var(--text-sm);
            color: var(--noir-steel);
            line-height: var(--leading-relaxed);
            margin-top: 12px;
        }

        .timeline-card-tags {
            display: flex;
            gap: 8px;
            margin-top: 16px;
        }

        .timeline-card-tag {
            padding: 4px 12px;
            font-size: 11px;
            border: 1px solid var(--blanc-cloud);
            color: var(--noir-graphite);
        }

        /* ==================== 统计分析 ==================== */
        .analytics-container {
            padding: 40px;
        }

        /* 概览卡片网格 */
        .overview-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 24px;
            margin-bottom: 40px;
        }

        .overview-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
            transition: all 0.3s ease;
        }

        .overview-card:hover {
            box-shadow: var(--shadow-sm);
        }

        .overview-label {
            font-size: var(--text-sm);
            color: var(--noir-silver);
            margin-bottom: 12px;
        }

        .overview-value {
            font-size: 42px;
            font-weight: var(--weight-light);
            color: var(--noir-ink);
            line-height: 1;
            margin-bottom: 8px;
        }

        .overview-change {
            font-size: var(--text-xs);
            color: var(--noir-steel);
        }

        /* 图表容器 */
        .chart-section {
            margin-bottom: 40px;
        }

        .section-header {
            padding-bottom: 16px;
            border-bottom: 1px solid var(--blanc-mist);
            margin-bottom: 24px;
        }

        .section-title {
            font-size: var(--text-xl);
            font-weight: var(--weight-semibold);
            color: var(--noir-ink);
            margin-bottom: 4px;
        }

        .section-description {
            font-size: var(--text-sm);
            color: var(--noir-silver);
        }

        /* 趋势图表 */
        .trend-chart {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 32px;
            height: 320px;
            position: relative;
        }

        .chart-bars {
            display: flex;
            align-items: flex-end;
            justify-content: space-between;
            height: 240px;
            gap: 12px;
        }

        .chart-bar-group {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
        }

        .chart-bar {
            width: 100%;
            background: var(--noir-ink);
            transition: all 0.3s ease;
            position: relative;
        }

        .chart-bar:hover {
            background: var(--noir-charcoal);
        }

        .chart-bar-value {
            position: absolute;
            top: -24px;
            left: 50%;
            transform: translateX(-50%);
            font-size: var(--text-xs);
            color: var(--noir-graphite);
            font-weight: var(--weight-medium);
        }

        .chart-bar-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            text-align: center;
        }

        /* 分类统计 */
        .category-stats {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 24px;
        }

        .category-card {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 24px;
        }

        .category-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--blanc-mist);
        }

        .category-title {
            font-size: var(--text-base);
            font-weight: var(--weight-semibold);
            color: var(--noir-charcoal);
        }

        .category-total {
            font-size: var(--text-xl);
            font-weight: var(--weight-light);
            color: var(--noir-ink);
        }

        .category-items {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .category-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--blanc-pearl);
        }

        .category-item:last-child {
            border-bottom: none;
        }

        .category-item-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .category-item-bar {
            width: 80px;
            height: 6px;
            background: var(--blanc-mist);
            position: relative;
        }

        .category-item-bar-fill {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background: var(--noir-ink);
        }

        .category-item-name {
            font-size: var(--text-sm);
            color: var(--noir-graphite);
            min-width: 120px;
        }

        .category-item-count {
            font-size: var(--text-sm);
            font-weight: var(--weight-medium);
            color: var(--noir-charcoal);
        }

        .category-item-percent {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            margin-left: 8px;
        }

        /* 时间分布热力图 */
        .heatmap-section {
            margin-top: 40px;
        }

        .heatmap {
            background: var(--blanc-snow);
            border: 1px solid var(--blanc-mist);
            padding: 32px;
        }

        .heatmap-grid {
            display: grid;
            grid-template-columns: auto repeat(7, 1fr);
            gap: 8px;
        }

        .heatmap-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            display: flex;
            align-items: center;
            justify-content: flex-end;
            padding-right: 12px;
        }

        .heatmap-cell {
            aspect-ratio: 1;
            background: var(--blanc-mist);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 11px;
            color: var(--noir-silver);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .heatmap-cell:hover {
            box-shadow: var(--shadow-xs);
        }

        .heatmap-cell.level-1 { background: var(--blanc-cloud); }
        .heatmap-cell.level-2 { background: var(--noir-ash); color: var(--blanc-pure); }
        .heatmap-cell.level-3 { background: var(--noir-steel); color: var(--blanc-pure); }
        .heatmap-cell.level-4 { background: var(--noir-graphite); color: var(--blanc-pure); }
        .heatmap-cell.level-5 { background: var(--noir-ink); color: var(--blanc-pure); }

        .heatmap-legend {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--blanc-mist);
        }

        .legend-label {
            font-size: var(--text-xs);
            color: var(--noir-silver);
            margin-right: 8px;
        }

        .legend-item {
            width: 20px;
            height: 20px;
            border: 1px solid var(--blanc-mist);
        }

        /* ==================== 滚动条 ==================== */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: var(--blanc-pearl);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--blanc-cloud);
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--noir-silver);
        }

        /* ==================== 响应式 ==================== */
        @media (max-width: 1200px) {
            .overview-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .category-stats {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            body {
                padding: 0;
            }

            .pulse-page {
                height: 100vh;
            }

            .page-header,
            .module-info,
            .analytics-container {
                padding: 24px 20px;
            }

            .module-icon {
                width: 56px;
                height: 56px;
                font-size: 20px;
            }

            .info-stats {
                gap: 20px;
            }

            .content-filters {
                flex-direction: column;
                align-items: flex-start;
                gap: 16px;
                padding: 20px;
            }

            .filter-chips {
                flex-wrap: wrap;
            }

            .search-input {
                width: 100%;
            }

            .event-item {
                padding: 20px;
            }

            .timeline-view {
                padding: 40px 20px 40px 60px;
            }

            .timeline-view::before {
                left: 20px;
            }

            .date-header {
                left: -28px;
            }

            .timeline-event::before {
                left: -28px;
            }

            .overview-grid {
                grid-template-columns: 1fr;
            }

            .heatmap-grid {
                grid-template-columns: auto repeat(7, 1fr);
                gap: 4px;
            }

            .heatmap-cell {
                font-size: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="pulse-page">
        <!-- 页面标题 -->
        <div class="page-header">
            <h1 class="page-title">实时脉动</h1>
            <div class="status-badge">
                <span class="status-dot"></span>
                在线
            </div>
        </div>

        <!-- 模块信息卡片 -->
        <div class="module-info">
            <div class="info-left">
                <div class="module-icon">脉</div>
                <div class="module-details">
                    <div class="module-name">实时脉动</div>
                    <div class="module-meta">
                        <span>System Monitor</span>
                        <span class="meta-separator">·</span>
                        <span class="current-time">2025-11-20 14:32</span>
                        <span class="meta-separator">·</span>
                        <span class="refresh-indicator">
                            <span class="refresh-dot"></span>
                            每30s刷新
                        </span>
                    </div>
                </div>
            </div>
            <div class="info-stats">
                <div class="stat-item">
                    <div class="stat-value">89</div>
                    <div class="stat-label">事件</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">12</div>
                    <div class="stat-label">今日</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value">4</div>
                    <div class="stat-label">角色</div>
                </div>
            </div>
        </div>

        <!-- Tab导航 -->
        <div class="tab-nav">
            <button class="tab-item active" onclick="switchTab('events')">
                事件流
                <span class="tab-badge">89</span>
            </button>
            <button class="tab-item" onclick="switchTab('timeline')">
                时间线视图
            </button>
            <button class="tab-item" onclick="switchTab('analytics')">
                统计分析
            </button>
        </div>

        <!-- Tab内容区（可滚动）-->
        <div class="tab-content">
            <!-- Tab 1: 事件流 -->
            <div id="events" class="tab-pane active">
                <!-- 筛选器（sticky） -->
                <div class="content-filters">
                    <div class="filter-chips">
                        <button class="filter-chip active">全部 89</button>
                        <button class="filter-chip">今天</button>
                        <button class="filter-chip">本周</button>
                        <button class="filter-chip">决策</button>
                        <button class="filter-chip">任务</button>
                        <button class="filter-chip">交接</button>
                    </div>
                    <input type="text" class="search-input" placeholder="搜索事件、任务ID...">
                </div>

                <!-- 事件列表 -->
                <div class="event-list">
                    <!-- 事件1 -->
                    <div class="event-item" data-category="任务" data-date="2025-11-19">
                        <div class="event-checkbox"></div>
                        <div class="event-content">
                            <div class="event-header">
                                <div class="event-title-section">
                                    <div class="event-title">任务完成: Dashboard架构重构</div>
                                    <div class="event-meta">
                                        <span>AI Architect</span>
                                        <span>·</span>
                                        <span>TASK-045</span>
                                    </div>
                                </div>
                                <div class="event-time">2025-11-19 14:30</div>
                            </div>
                            <div class="event-description">
                                完成了Dashboard模块的完整重构，采用模块化架构，拆分为7个独立组件。提交了完成报告，等待审查。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">架构重构</span>
                                <span class="event-tag">Dashboard</span>
                                <span class="event-tag">已完成</span>
                            </div>
                        </div>
                    </div>

                    <!-- 事件2 -->
                    <div class="event-item" data-category="决策" data-date="2025-11-19">
                        <div class="event-checkbox"></div>
                        <div class="event-content">
                            <div class="event-header">
                                <div class="event-title-section">
                                    <div class="event-title">记录架构决策: ADR-012 采用事件驱动架构</div>
                                    <div class="event-meta">
                                        <span>AI Architect</span>
                                        <span>·</span>
                                        <span>决策</span>
                                    </div>
                                </div>
                                <div class="event-time">2025-11-19 11:30</div>
                            </div>
                            <div class="event-description">
                                经过技术调研和团队讨论，决定采用事件驱动架构来处理系统间的异步通信。记录了决策背景、备选方案和实施计划。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">ADR</span>
                                <span class="event-tag">架构决策</span>
                            </div>
                        </div>
                    </div>

                    <!-- 事件3 -->
                    <div class="event-item" data-category="任务" data-date="2025-11-18">
                        <div class="event-checkbox"></div>
                        <div class="event-content">
                            <div class="event-header">
                                <div class="event-title-section">
                                    <div class="event-title">发起任务: API集成开发</div>
                                    <div class="event-meta">
                                        <span>AI Architect</span>
                                        <span>·</span>
                                        <span>TASK-048</span>
                                    </div>
                                </div>
                                <div class="event-time">2025-11-18 16:00</div>
                            </div>
                            <div class="event-description">
                                创建了API集成开发任务，需要集成8个外部API模块，包括Notion、Claude、知识图谱等。预估工时6.5小时。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">API开发</span>
                                <span class="event-tag">集成</span>
                            </div>
                        </div>
                    </div>

                    <!-- 事件4 -->
                    <div class="event-item" data-category="任务" data-date="2025-11-18">
                        <div class="event-checkbox"></div>
                        <div class="event-content">
                            <div class="event-header">
                                <div class="event-title-section">
                                    <div class="event-title">代码审查通过: API集成模块</div>
                                    <div class="event-meta">
                                        <span>全栈工程师AI</span>
                                        <span>·</span>
                                        <span>REVIEW-032</span>
                                    </div>
                                </div>
                                <div class="event-time">2025-11-18 10:20</div>
                            </div>
                            <div class="event-description">
                                架构师审查通过，代码质量优秀。API集成模块已合并到主分支，包含完整的错误处理和重试机制。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">代码审查</span>
                                <span class="event-tag">已通过</span>
                            </div>
                        </div>
                    </div>

                    <!-- 事件5 -->
                    <div class="event-item" data-category="任务" data-date="2025-11-18">
                        <div class="event-checkbox"></div>
                        <div class="event-content">
                            <div class="event-header">
                                <div class="event-title-section">
                                    <div class="event-title">部署成功: Dashboard v2.1.0</div>
                                    <div class="event-meta">
                                        <span>全栈工程师AI</span>
                                        <span>·</span>
                                        <span>DEPLOY-008</span>
                                    </div>
                                </div>
                                <div class="event-time">2025-11-18 18:45</div>
                            </div>
                            <div class="event-description">
                                成功部署到生产环境。通过了所有自动化测试（单元测试92%覆盖率，E2E测试16个场景全通过），Lighthouse性能评分：98/100。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">部署</span>
                                <span class="event-tag">生产环境</span>
                            </div>
                        </div>
                    </div>

                    <!-- 事件6 -->
                    <div class="event-item" data-category="交接" data-date="2025-11-17">
                        <div class="event-checkbox"></div>
                        <div class="event-content">
                            <div class="event-header">
                                <div class="event-title-section">
                                    <div class="event-title">架构师交接: Phase A-B工作完整交接</div>
                                    <div class="event-meta">
                                        <span>前任架构师 → AI Architect</span>
                                    </div>
                                </div>
                                <div class="event-time">2025-11-17 18:00</div>
                            </div>
                            <div class="event-description">
                                前任架构师完成了Phase A和B的全部工作，交接了29个已完成任务、12个ADR决策、完整的架构文档和关键知识点。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">交接</span>
                                <span class="event-tag">知识传承</span>
                            </div>
                        </div>
                    </div>

                    <!-- 更多事件... -->
                    <div class="event-item" data-category="任务" data-date="2025-11-19">
                        <div class="event-checkbox"></div>
                        <div class="event-content">
                            <div class="event-header">
                                <div class="event-title-section">
                                    <div class="event-title">接收任务: 实现记忆管理Tab</div>
                                    <div class="event-meta">
                                        <span>架构师AI</span>
                                        <span>·</span>
                                        <span>TASK-047</span>
                                    </div>
                                </div>
                                <div class="event-time">2025-11-19 10:00</div>
                            </div>
                            <div class="event-description">
                                架构师分配了新任务：实现Dashboard项目记忆管理Tab。包括记忆增删改查、分类管理、搜索功能。预估3小时，可并行开发。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">任务分配</span>
                                <span class="event-tag">可并行</span>
                            </div>
                        </div>
                    </div>

                    <div class="event-item" data-category="任务" data-date="2025-11-15">
                        <div class="event-checkbox"></div>
                        <div class="event-content">
                            <div class="event-header">
                                <div class="event-title-section">
                                    <div class="event-title">系统初始化: Monorepo架构配置</div>
                                    <div class="event-meta">
                                        <span>System</span>
                                        <span>·</span>
                                        <span>INIT-001</span>
                                    </div>
                                </div>
                                <div class="event-time">2025-11-15 10:00</div>
                            </div>
                            <div class="event-description">
                                项目初始化完成，采用pnpm workspace实现Monorepo架构。配置了TypeScript、ESLint、Prettier等开发工具链。
                            </div>
                            <div class="event-tags">
                                <span class="event-tag">系统初始化</span>
                                <span class="event-tag">Monorepo</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 2: 时间线视图 -->
            <div id="timeline" class="tab-pane">
                <div class="timeline-view">
                    <!-- 2025-11-19 -->
                    <div class="timeline-date-group">
                        <div class="date-header">
                            <div class="date-marker"></div>
                            <div class="date-label">2025-11-19</div>
                            <div class="date-count">5个事件</div>
                        </div>

                        <div class="timeline-event">
                            <div class="timeline-card">
                                <div class="timeline-card-header">
                                    <div>
                                        <div class="timeline-card-title">任务完成: Dashboard架构重构</div>
                                        <div class="timeline-card-meta">AI Architect · TASK-045</div>
                                    </div>
                                    <div class="timeline-card-time">14:30</div>
                                </div>
                                <div class="timeline-card-description">
                                    完成了Dashboard模块的完整重构，采用模块化架构，拆分为7个独立组件。提交了完成报告，等待审查。
                                </div>
                                <div class="timeline-card-tags">
                                    <span class="timeline-card-tag">架构重构</span>
                                    <span class="timeline-card-tag">Dashboard</span>
                                    <span class="timeline-card-tag">已完成</span>
                                </div>
                            </div>
                        </div>

                        <div class="timeline-event">
                            <div class="timeline-card">
                                <div class="timeline-card-header">
                                    <div>
                                        <div class="timeline-card-title">记录架构决策: ADR-012 采用事件驱动架构</div>
                                        <div class="timeline-card-meta">AI Architect · 决策</div>
                                    </div>
                                    <div class="timeline-card-time">11:30</div>
                                </div>
                                <div class="timeline-card-description">
                                    经过技术调研和团队讨论，决定采用事件驱动架构来处理系统间的异步通信。记录了决策背景、备选方案和实施计划。
                                </div>
                                <div class="timeline-card-tags">
                                    <span class="timeline-card-tag">ADR</span>
                                    <span class="timeline-card-tag">架构决策</span>
                                </div>
                            </div>
                        </div>

                        <div class="timeline-event">
                            <div class="timeline-card">
                                <div class="timeline-card-header">
                                    <div>
                                        <div class="timeline-card-title">接收任务: 实现记忆管理Tab</div>
                                        <div class="timeline-card-meta">架构师AI · TASK-047</div>
                                    </div>
                                    <div class="timeline-card-time">10:00</div>
                                </div>
                                <div class="timeline-card-description">
                                    架构师分配了新任务：实现Dashboard项目记忆管理Tab。包括记忆增删改查、分类管理、搜索功能。预估3小时，可并行开发。
                                </div>
                                <div class="timeline-card-tags">
                                    <span class="timeline-card-tag">任务分配</span>
                                    <span class="timeline-card-tag">可并行</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 2025-11-18 -->
                    <div class="timeline-date-group">
                        <div class="date-header">
                            <div class="date-marker"></div>
                            <div class="date-label">2025-11-18</div>
                            <div class="date-count">4个事件</div>
                        </div>

                        <div class="timeline-event">
                            <div class="timeline-card">
                                <div class="timeline-card-header">
                                    <div>
                                        <div class="timeline-card-title">部署成功: Dashboard v2.1.0</div>
                                        <div class="timeline-card-meta">全栈工程师AI · DEPLOY-008</div>
                                    </div>
                                    <div class="timeline-card-time">18:45</div>
                                </div>
                                <div class="timeline-card-description">
                                    成功部署到生产环境。通过了所有自动化测试（单元测试92%覆盖率，E2E测试16个场景全通过），Lighthouse性能评分：98/100。
                                </div>
                                <div class="timeline-card-tags">
                                    <span class="timeline-card-tag">部署</span>
                                    <span class="timeline-card-tag">生产环境</span>
                                </div>
                            </div>
                        </div>

                        <div class="timeline-event">
                            <div class="timeline-card">
                                <div class="timeline-card-header">
                                    <div>
                                        <div class="timeline-card-title">发起任务: API集成开发</div>
                                        <div class="timeline-card-meta">AI Architect · TASK-048</div>
                                    </div>
                                    <div class="timeline-card-time">16:00</div>
                                </div>
                                <div class="timeline-card-description">
                                    创建了API集成开发任务，需要集成8个外部API模块，包括Notion、Claude、知识图谱等。预估工时6.5小时。
                                </div>
                                <div class="timeline-card-tags">
                                    <span class="timeline-card-tag">API开发</span>
                                    <span class="timeline-card-tag">集成</span>
                                </div>
                            </div>
                        </div>

                        <div class="timeline-event">
                            <div class="timeline-card">
                                <div class="timeline-card-header">
                                    <div>
                                        <div class="timeline-card-title">代码审查通过: API集成模块</div>
                                        <div class="timeline-card-meta">全栈工程师AI · REVIEW-032</div>
                                    </div>
                                    <div class="timeline-card-time">10:20</div>
                                </div>
                                <div class="timeline-card-description">
                                    架构师审查通过，代码质量优秀。API集成模块已合并到主分支，包含完整的错误处理和重试机制。
                                </div>
                                <div class="timeline-card-tags">
                                    <span class="timeline-card-tag">代码审查</span>
                                    <span class="timeline-card-tag">已通过</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 2025-11-17 -->
                    <div class="timeline-date-group">
                        <div class="date-header">
                            <div class="date-marker"></div>
                            <div class="date-label">2025-11-17</div>
                            <div class="date-count">1个事件</div>
                        </div>

                        <div class="timeline-event">
                            <div class="timeline-card">
                                <div class="timeline-card-header">
                                    <div>
                                        <div class="timeline-card-title">架构师交接: Phase A-B工作完整交接</div>
                                        <div class="timeline-card-meta">前任架构师 → AI Architect</div>
                                    </div>
                                    <div class="timeline-card-time">18:00</div>
                                </div>
                                <div class="timeline-card-description">
                                    前任架构师完成了Phase A和B的全部工作，交接了29个已完成任务、12个ADR决策、完整的架构文档和关键知识点。
                                </div>
                                <div class="timeline-card-tags">
                                    <span class="timeline-card-tag">交接</span>
                                    <span class="timeline-card-tag">知识传承</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 2025-11-15 -->
                    <div class="timeline-date-group">
                        <div class="date-header">
                            <div class="date-marker"></div>
                            <div class="date-label">2025-11-15</div>
                            <div class="date-count">1个事件</div>
                        </div>

                        <div class="timeline-event">
                            <div class="timeline-card">
                                <div class="timeline-card-header">
                                    <div>
                                        <div class="timeline-card-title">系统初始化: Monorepo架构配置</div>
                                        <div class="timeline-card-meta">System · INIT-001</div>
                                    </div>
                                    <div class="timeline-card-time">10:00</div>
                                </div>
                                <div class="timeline-card-description">
                                    项目初始化完成，采用pnpm workspace实现Monorepo架构。配置了TypeScript、ESLint、Prettier等开发工具链。
                                </div>
                                <div class="timeline-card-tags">
                                    <span class="timeline-card-tag">系统初始化</span>
                                    <span class="timeline-card-tag">Monorepo</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Tab 3: 统计分析 -->
            <div id="analytics" class="tab-pane">
                <div class="analytics-container">
                    <!-- 概览卡片 -->
                    <div class="overview-grid">
                        <div class="overview-card">
                            <div class="overview-label">总事件数</div>
                            <div class="overview-value">89</div>
                            <div class="overview-change">较上周 +12%</div>
                        </div>
                        <div class="overview-card">
                            <div class="overview-label">今日事件</div>
                            <div class="overview-value">12</div>
                            <div class="overview-change">平均每日 8.5</div>
                        </div>
                        <div class="overview-card">
                            <div class="overview-label">活跃角色</div>
                            <div class="overview-value">4</div>
                            <div class="overview-change">架构师 · 工程师 · 系统</div>
                        </div>
                        <div class="overview-card">
                            <div class="overview-label">完成任务</div>
                            <div class="overview-value">29</div>
                            <div class="overview-change">完成率 78%</div>
                        </div>
                    </div>

                    <!-- 趋势图表 -->
                    <div class="chart-section">
                        <div class="section-header">
                            <div class="section-title">7天事件趋势</div>
                            <div class="section-description">每日事件数量变化</div>
                        </div>
                        <div class="trend-chart">
                            <div class="chart-bars">
                                <div class="chart-bar-group">
                                    <div class="chart-bar" style="height: 50%;">
                                        <span class="chart-bar-value">6</span>
                                    </div>
                                    <div class="chart-bar-label">11-14</div>
                                </div>
                                <div class="chart-bar-group">
                                    <div class="chart-bar" style="height: 75%;">
                                        <span class="chart-bar-value">9</span>
                                    </div>
                                    <div class="chart-bar-label">11-15</div>
                                </div>
                                <div class="chart-bar-group">
                                    <div class="chart-bar" style="height: 58%;">
                                        <span class="chart-bar-value">7</span>
                                    </div>
                                    <div class="chart-bar-label">11-16</div>
                                </div>
                                <div class="chart-bar-group">
                                    <div class="chart-bar" style="height: 83%;">
                                        <span class="chart-bar-value">10</span>
                                    </div>
                                    <div class="chart-bar-label">11-17</div>
                                </div>
                                <div class="chart-bar-group">
                                    <div class="chart-bar" style="height: 92%;">
                                        <span class="chart-bar-value">11</span>
                                    </div>
                                    <div class="chart-bar-label">11-18</div>
                                </div>
                                <div class="chart-bar-group">
                                    <div class="chart-bar" style="height: 100%;">
                                        <span class="chart-bar-value">12</span>
                                    </div>
                                    <div class="chart-bar-label">11-19</div>
                                </div>
                                <div class="chart-bar-group">
                                    <div class="chart-bar" style="height: 67%;">
                                        <span class="chart-bar-value">8</span>
                                    </div>
                                    <div class="chart-bar-label">11-20</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 分类统计 -->
                    <div class="chart-section">
                        <div class="section-header">
                            <div class="section-title">事件分类统计</div>
                            <div class="section-description">按类型和角色分组</div>
                        </div>
                        <div class="category-stats">
                            <!-- 按类型 -->
                            <div class="category-card">
                                <div class="category-header">
                                    <div class="category-title">事件类型</div>
                                    <div class="category-total">89</div>
                                </div>
                                <div class="category-items">
                                    <div class="category-item">
                                        <div class="category-item-left">
                                            <div class="category-item-bar">
                                                <div class="category-item-bar-fill" style="width: 60%;"></div>
                                            </div>
                                            <span class="category-item-name">任务</span>
                                        </div>
                                        <div>
                                            <span class="category-item-count">54</span>
                                            <span class="category-item-percent">60%</span>
                                        </div>
                                    </div>
                                    <div class="category-item">
                                        <div class="category-item-left">
                                            <div class="category-item-bar">
                                                <div class="category-item-bar-fill" style="width: 25%;"></div>
                                            </div>
                                            <span class="category-item-name">决策</span>
                                        </div>
                                        <div>
                                            <span class="category-item-count">22</span>
                                            <span class="category-item-percent">25%</span>
                                        </div>
                                    </div>
                                    <div class="category-item">
                                        <div class="category-item-left">
                                            <div class="category-item-bar">
                                                <div class="category-item-bar-fill" style="width: 10%;"></div>
                                            </div>
                                            <span class="category-item-name">交接</span>
                                        </div>
                                        <div>
                                            <span class="category-item-count">9</span>
                                            <span class="category-item-percent">10%</span>
                                        </div>
                                    </div>
                                    <div class="category-item">
                                        <div class="category-item-left">
                                            <div class="category-item-bar">
                                                <div class="category-item-bar-fill" style="width: 5%;"></div>
                                            </div>
                                            <span class="category-item-name">系统</span>
                                        </div>
                                        <div>
                                            <span class="category-item-count">4</span>
                                            <span class="category-item-percent">5%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- 按角色 -->
                            <div class="category-card">
                                <div class="category-header">
                                    <div class="category-title">角色活跃度</div>
                                    <div class="category-total">4</div>
                                </div>
                                <div class="category-items">
                                    <div class="category-item">
                                        <div class="category-item-left">
                                            <div class="category-item-bar">
                                                <div class="category-item-bar-fill" style="width: 52%;"></div>
                                            </div>
                                            <span class="category-item-name">AI Architect</span>
                                        </div>
                                        <div>
                                            <span class="category-item-count">46</span>
                                            <span class="category-item-percent">52%</span>
                                        </div>
                                    </div>
                                    <div class="category-item">
                                        <div class="category-item-left">
                                            <div class="category-item-bar">
                                                <div class="category-item-bar-fill" style="width: 34%;"></div>
                                            </div>
                                            <span class="category-item-name">全栈工程师AI</span>
                                        </div>
                                        <div>
                                            <span class="category-item-count">30</span>
                                            <span class="category-item-percent">34%</span>
                                        </div>
                                    </div>
                                    <div class="category-item">
                                        <div class="category-item-left">
                                            <div class="category-item-bar">
                                                <div class="category-item-bar-fill" style="width: 10%;"></div>
                                            </div>
                                            <span class="category-item-name">前任架构师</span>
                                        </div>
                                        <div>
                                            <span class="category-item-count">9</span>
                                            <span class="category-item-percent">10%</span>
                                        </div>
                                    </div>
                                    <div class="category-item">
                                        <div class="category-item-left">
                                            <div class="category-item-bar">
                                                <div class="category-item-bar-fill" style="width: 4%;"></div>
                                            </div>
                                            <span class="category-item-name">System</span>
                                        </div>
                                        <div>
                                            <span class="category-item-count">4</span>
                                            <span class="category-item-percent">4%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- 时间分布热力图 -->
                    <div class="heatmap-section">
                        <div class="section-header">
                            <div class="section-title">时间分布热力图</div>
                            <div class="section-description">过去4周的事件密度</div>
                        </div>
                        <div class="heatmap">
                            <div class="heatmap-grid">
                                <!-- 标题行 -->
                                <div></div>
                                <div class="heatmap-label" style="justify-content: center;">周一</div>
                                <div class="heatmap-label" style="justify-content: center;">周二</div>
                                <div class="heatmap-label" style="justify-content: center;">周三</div>
                                <div class="heatmap-label" style="justify-content: center;">周四</div>
                                <div class="heatmap-label" style="justify-content: center;">周五</div>
                                <div class="heatmap-label" style="justify-content: center;">周六</div>
                                <div class="heatmap-label" style="justify-content: center;">周日</div>

                                <!-- 第1周 -->
                                <div class="heatmap-label">第1周</div>
                                <div class="heatmap-cell level-2">3</div>
                                <div class="heatmap-cell level-3">5</div>
                                <div class="heatmap-cell level-1">2</div>
                                <div class="heatmap-cell level-4">7</div>
                                <div class="heatmap-cell level-3">6</div>
                                <div class="heatmap-cell level-1">1</div>
                                <div class="heatmap-cell level-1">2</div>

                                <!-- 第2周 -->
                                <div class="heatmap-label">第2周</div>
                                <div class="heatmap-cell level-3">4</div>
                                <div class="heatmap-cell level-2">3</div>
                                <div class="heatmap-cell level-4">8</div>
                                <div class="heatmap-cell level-5">12</div>
                                <div class="heatmap-cell level-4">9</div>
                                <div class="heatmap-cell level-1">2</div>
                                <div class="heatmap-cell level-2">3</div>

                                <!-- 第3周 -->
                                <div class="heatmap-label">第3周</div>
                                <div class="heatmap-cell level-3">6</div>
                                <div class="heatmap-cell level-4">7</div>
                                <div class="heatmap-cell level-3">5</div>
                                <div class="heatmap-cell level-5">10</div>
                                <div class="heatmap-cell level-4">8</div>
                                <div class="heatmap-cell level-2">3</div>
                                <div class="heatmap-cell level-1">1</div>

                                <!-- 第4周 -->
                                <div class="heatmap-label">第4周</div>
                                <div class="heatmap-cell level-4">9</div>
                                <div class="heatmap-cell level-5">11</div>
                                <div class="heatmap-cell level-5">12</div>
                                <div class="heatmap-cell level-4">8</div>
                                <div class="heatmap-cell level-3">6</div>
                                <div class="heatmap-cell level-2">4</div>
                                <div class="heatmap-cell level-1">2</div>
                            </div>

                            <div class="heatmap-legend">
                                <span class="legend-label">活跃度:</span>
                                <div class="legend-item" style="background: var(--blanc-mist);"></div>
                                <div class="legend-item" style="background: var(--blanc-cloud);"></div>
                                <div class="legend-item" style="background: var(--noir-ash);"></div>
                                <div class="legend-item" style="background: var(--noir-steel);"></div>
                                <div class="legend-item" style="background: var(--noir-graphite);"></div>
                                <div class="legend-item" style="background: var(--noir-ink);"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Tab切换
        function switchTab(tabName) {
            // 移除所有active
            document.querySelectorAll('.tab-item').forEach(item => {
                item.classList.remove('active');
            });
            document.querySelectorAll('.tab-pane').forEach(pane => {
                pane.classList.remove('active');
            });

            // 添加active
            event.target.closest('.tab-item').classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        // Checkbox切换
        document.querySelectorAll('.event-checkbox').forEach(checkbox => {
            checkbox.addEventListener('click', function(e) {
                e.stopPropagation();
                this.style.background = this.style.background === 'rgb(10, 15, 20)' ? '' : '#0A0F14';
            });
        });

        // 筛选器切换
        document.querySelectorAll('.filter-chip').forEach(chip => {
            chip.addEventListener('click', function() {
                // 更新active状态
                document.querySelectorAll('.filter-chip').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                
                // 获取筛选类型
                const filterText = this.textContent.trim().split(' ')[0]; // 去掉数字
                const items = document.querySelectorAll('.event-item');
                const today = new Date().toISOString().split('T')[0]; // 2025-11-20
                
                items.forEach(item => {
                    const category = item.getAttribute('data-category');
                    const date = item.getAttribute('data-date');
                    let show = false;
                    
                    switch(filterText) {
                        case '全部':
                            show = true;
                            break;
                        case '今天':
                            show = (date === today);
                            break;
                        case '本周':
                            // 简化：显示最近7天
                            const eventDate = new Date(date);
                            const weekAgo = new Date();
                            weekAgo.setDate(weekAgo.getDate() - 7);
                            show = (eventDate >= weekAgo);
                            break;
                        case '决策':
                            show = (category === '决策');
                            break;
                        case '任务':
                            show = (category === '任务');
                            break;
                        case '交接':
                            show = (category === '交接');
                            break;
                        default:
                            show = true;
                    }
                    
                    item.style.display = show ? 'flex' : 'none';
                });
            });
        });

        // 搜索功能
        const searchInput = document.querySelector('.search-input');
        searchInput.addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            const items = document.querySelectorAll('.event-item');
            
            items.forEach(item => {
                const text = item.textContent.toLowerCase();
                item.style.display = text.includes(searchTerm) ? 'flex' : 'none';
            });
        });

        // 模拟自动刷新时间
        function updateTime() {
            const metaText = document.querySelector('.current-time');
            const now = new Date();
            const timeString = now.toISOString().slice(0, 16).replace('T', ' ');
            metaText.textContent = timeString;
        }
        
        // 初始更新
        updateTime();
        
        // 每30秒更新一次
        setInterval(updateTime, 30000);
    </script>
</body>
</html>