# 🚀 代码质量工具 - 5分钟快速上手

## 📝 三句话让AI帮你搞定

### **1. 检查代码质量**
```
请用Ruff检查 start_insight_api.py 有什么问题
```
**AI会告诉你:**
- ✗ 哪些导入没用到
- ✗ 哪里缩进不对
- ✗ 哪些变量名不规范
- ✗ 潜在的bug在哪里

---

### **2. 自动修复问题**
```
请用Ruff自动修复 start_insight_api.py 的所有问题
```
**AI会自动:**
- ✅ 删除未使用的导入
- ✅ 修正缩进
- ✅ 统一引号
- ✅ 排序导入
- ✅ 删除多余空行

**3秒完成！**

---

### **3. 格式化HTML/CSS**
```
请用Prettier格式化 templates/architect_workspace.html
```
**AI会自动:**
- ✅ 标签对齐
- ✅ 缩进统一
- ✅ 属性格式化
- ✅ 美化代码

**2秒完成！**

---

## 🎯 常用场景速查

### **场景1: 提交代码前检查**
```
请检查我刚修改的所有Python文件的代码质量
```

### **场景2: 修复整个目录**
```
请用Ruff修复 apps/architect/ 目录下的所有代码问题
```

### **场景3: 格式化整个项目**
```
1. 请用Ruff格式化所有Python文件
2. 请用Prettier格式化所有HTML和CSS文件
```

### **场景4: 查找潜在bug**
```
请用Ruff扫描整个项目，找出所有潜在的bug和问题
```

### **场景5: 统一代码风格**
```
请帮我统一整个项目的代码风格：
1. Python使用Ruff
2. HTML/CSS使用Prettier
```

---

## ⚡ 实战演练

### **演练1: 修复一个混乱的Python文件**

**步骤:**
```
1. 我: "检查 start_insight_api.py"
   AI: 发现15个问题...

2. 我: "自动修复这些问题"
   AI: ✅ 已修复12个，剩余3个需要手动处理

3. 我: "显示需要手动修复的问题"
   AI: 详细说明每个问题...

4. 我: "帮我修复这3个问题"
   AI: ✅ 全部完成
```

**总耗时: 1分钟**

---

### **演练2: 美化HTML模板**

**步骤:**
```
1. 我: "格式化 templates/architect_workspace.html"
   AI: ✅ 已格式化

2. 我: "检查格式化后的结果"
   AI: 显示美化后的代码...
```

**总耗时: 30秒**

---

## 🔥 高级技巧

### **技巧1: 批量操作**
```
请对以下文件执行Ruff检查和修复:
1. start_insight_api.py
2. apps/architect/routes.py
3. apps/fullstack/routes.py
```

### **技巧2: 自定义规则**
```
请用Ruff检查代码，但忽略行长度限制
```

### **技巧3: 只检查不修复**
```
请只检查代码问题，不要自动修复，我想先看看有哪些问题
```

### **技巧4: 查看详细说明**
```
这个问题为什么是错误？请详细解释并给出修复建议
```

---

## 📊 效果对比

### **使用前:**
```python
# ❌ 混乱的代码
import json,sys
from flask import Flask,request,jsonify
import os

def test( x,y ):
  if x>0:
    return x+y
  else:
        return 0
    
unused_var = 123
```

### **使用后（自动修复）:**
```python
# ✅ 规范的代码
import json
import os
import sys

from flask import Flask, jsonify, request


def test(x, y):
    if x > 0:
        return x + y
    else:
        return 0
```

**变化:**
- ✅ 导入分组排序
- ✅ 缩进统一4空格
- ✅ 空格规范化
- ✅ 删除未使用变量
- ✅ 空行规范

---

## 🎯 记住这些关键词

**Python代码:**
- "Ruff检查"
- "Ruff修复"
- "Ruff格式化"

**HTML/CSS/JS:**
- "Prettier格式化"
- "Prettier美化"

**通用:**
- "检查代码质量"
- "自动修复"
- "格式化代码"

---

## ⚠️ 注意事项

### **1. 重启Cursor**
安装工具后需要重启Cursor才能使用！

### **2. 配置文件**
项目根目录已创建:
- ✅ `pyproject.toml` (Ruff配置)
- ✅ `.prettierrc` (Prettier配置)
- ✅ `.prettierignore` (Prettier忽略)

### **3. 备份代码**
大规模修复前建议:
```
请先用git stash保存当前状态，然后再修复代码
```

### **4. 逐步修复**
如果问题太多:
```
请先修复最严重的问题，其他的我稍后手动处理
```

---

## 🎁 额外福利 - Git集成

### **提交前自动检查**
```bash
# 我会帮你:
1. 检查即将提交的文件
2. 自动修复格式问题
3. 提示需要手动处理的问题
4. 确认无误后再提交
```

**使用方法:**
```
我要提交代码了，帮我检查一下代码质量
```

---

## 📞 需要帮助？

直接问我：
- "Ruff有哪些检查规则？"
- "如何忽略某个特定的错误？"
- "为什么这段代码被标记为错误？"
- "如何自定义格式化规则？"

---

## 🎯 今天就开始

**第一步: 重启Cursor**
```bash
⌘ + Q
```

**第二步: 测试一下**
```
请用Ruff检查 start_insight_api.py
```

**第三步: 看到效果**
```
请自动修复所有问题
```

---

## 💡 一句话总结

> **以前**: 花30分钟手动调整格式，还可能漏掉bug  
> **现在**: 说一句话，3秒自动完成，零遗漏

**这就是AI的力量！** 🚀

---

**创建日期**: 2025-11-22  
**工具版本**: Ruff + Prettier + LSP  
**状态**: ✅ 可用（需重启Cursor）

**下次遇到代码格式问题，直接喊我：**
> "帮我修复这个文件的所有格式问题！"

